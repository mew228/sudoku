module.exports=[18622,(a,b,c)=>{b.exports=a.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},24361,(a,b,c)=>{b.exports=a.x("util",()=>require("util"))},42602,(a,b,c)=>{"use strict";b.exports=a.r(18622)},87924,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactJsxRuntime},72131,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].React},46988,a=>{"use strict";var b=a.i(73341);a.i(72029);var c=a.i(50455);let d=async(a,d,e)=>{if(!b.db)return;let f=(0,c.ref)(b.db,`leaderboard/${e}`),g=(0,c.push)(f);await (0,c.set)(g,{name:a,time:d,difficulty:e,createdAt:Date.now()})},e=async a=>{if(!b.db)return[];let d=(0,c.ref)(b.db,`leaderboard/${a}`),e=(0,c.query)(d,(0,c.orderByChild)("time"),(0,c.limitToFirst)(10)),f=await (0,c.get)(e);if(!f.exists())return[];let g=[];return f.forEach(a=>{g.push({id:a.key,...a.val()})}),g};a.s(["addScore",0,d,"getLeaderboard",0,e])},71009,24663,a=>{"use strict";var b=a.i(73341);a.i(72029);var c=a.i(50455);function d(a){let b=Array.from({length:9},()=>Array(9).fill(0));!function a(b,c=!1){for(let d=0;d<9;d++)for(let e=0;e<9;e++)if(0===b[d][e]){let f=[1,2,3,4,5,6,7,8,9];if(c)for(let a=f.length-1;a>0;a--){let b=Math.floor(Math.random()*(a+1));[f[a],f[b]]=[f[b],f[a]]}for(let g of f)if(function(a,b,c,d){for(let e=0;e<9;e++){if(a[b][e]===d&&e!==c||a[e][c]===d&&e!==b)return!1;let f=3*Math.floor(b/3)+Math.floor(e/3),g=3*Math.floor(c/3)+e%3;if(a[f][g]===d&&(f!==b||g!==c))return!1}return!0}(b,d,e,g)){if(b[d][e]=g,a(b,c))return!0;b[d][e]=0}return!1}return!0}(b,!0);let c=b.map(a=>[...a]),d="Easy"===a?30:"Medium"===a?45:"Hard"===a?55:60;for(;d>0;){let a=Math.floor(9*Math.random()),b=Math.floor(9*Math.random());for(;0===c[a][b];)a=Math.floor(9*Math.random()),b=Math.floor(9*Math.random());c[a][b]=0,d--}return{initial:c,solved:b}}a.s(["BLANK",0,0,"GRID_SIZE",0,9,"generateSudoku",()=>d],24663);let e=()=>{if(!b.db)throw Error("Firebase database is not initialized");return b.db},f=async(a,b)=>{let f="",g=0;for(;g<5;){console.log("Checking Room ID:",f=function(){let a="ABCDEFGHJKMNPQRSTUVWXYZ23456789",b="";for(let c=0;c<6;c++)b+=a[Math.floor(Math.random()*a.length)];return b}());try{let a=(0,c.ref)(e(),`rooms/${f}`);if(!(await (0,c.get)(a)).exists())break}catch(a){throw console.error("Error accessing Firebase:",a),a}g++}let{initial:h,solved:i}=d(b);return await (0,c.set)((0,c.ref)(e(),`rooms/${f}`),{id:f,status:"waiting",difficulty:b,initialBoard:h,solvedBoard:i,players:{[a]:{name:a,progress:0,mistakes:0,status:"playing"}},winner:null,createdAt:Date.now()}),f},g=async(a,b)=>{let d=(0,c.ref)(e(),`rooms/${a}`),f=await (0,c.get)(d);if(!f.exists())throw Error("Room not found. Check the code and try again.");let g=f.val();if("waiting"!==g.status)throw Error("This game has already started.");let h=Object.keys(g.players||{});if(h.includes(b))throw Error("That name is already taken in this room.");await (0,c.update)((0,c.ref)(e(),`rooms/${a}/players/${b}`),{name:b,progress:0,mistakes:0,status:"playing"}),h.length>=1&&await (0,c.update)((0,c.ref)(e(),`rooms/${a}`),{status:"playing"})},h=async(a,b,d,f,g)=>{if(await (0,c.update)((0,c.ref)(e(),`rooms/${a}/players/${b}`),{progress:d,mistakes:f,status:g}),"won"===g){let d=(0,c.ref)(e(),`rooms/${a}`),f=await (0,c.get)(d);f.val()&&!f.val().winner&&await (0,c.update)(d,{winner:b,status:"finished"})}};a.s(["createRoom",0,f,"joinRoom",0,g,"subscribeToRoom",0,(a,b)=>{let d=(0,c.ref)(e(),`rooms/${a}`);return(0,c.onValue)(d,a=>{let c=a.val();c&&b(c)})},"updateProgress",0,h],71009)},21505,a=>{a.v(a=>Promise.resolve().then(()=>a(71009)))},13310,a=>{a.v(a=>Promise.resolve().then(()=>a(46988)))}];

//# sourceMappingURL=%5Broot-of-the-server%5D__cea06992._.js.map