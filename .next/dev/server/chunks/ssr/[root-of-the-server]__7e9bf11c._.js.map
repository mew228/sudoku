{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/MAHARSHI%20NATH/OneDrive/Documents/sudoku/lib/utils.ts"],"sourcesContent":["import { type ClassValue, clsx } from \"clsx\";\r\nimport { twMerge } from \"tailwind-merge\";\r\n\r\nexport function cn(...inputs: ClassValue[]) {\r\n    return twMerge(clsx(inputs));\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACtC,OAAO,IAAA,sKAAO,EAAC,IAAA,6IAAI,EAAC;AACxB"}},
    {"offset": {"line": 25, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/MAHARSHI%20NATH/OneDrive/Documents/sudoku/lib/logic/sudoku.ts"],"sourcesContent":["// lib/logic/sudoku.ts\r\n\r\nexport type Difficulty = 'Easy' | 'Medium' | 'Hard' | 'Expert';\r\n\r\nexport const BLANK = 0;\r\nexport const GRID_SIZE = 9;\r\n\r\nexport function isValid(board: number[][], row: number, col: number, num: number): boolean {\r\n    for (let i = 0; i < GRID_SIZE; i++) {\r\n        if (board[row][i] === num && i !== col) return false;\r\n        if (board[i][col] === num && i !== row) return false;\r\n        const blockRow = 3 * Math.floor(row / 3) + Math.floor(i / 3);\r\n        const blockCol = 3 * Math.floor(col / 3) + (i % 3);\r\n        if (board[blockRow][blockCol] === num && (blockRow !== row || blockCol !== col)) return false;\r\n    }\r\n    return true;\r\n}\r\n\r\nexport function solveSudoku(board: number[][], randomize = false): boolean {\r\n    for (let row = 0; row < GRID_SIZE; row++) {\r\n        for (let col = 0; col < GRID_SIZE; col++) {\r\n            if (board[row][col] === BLANK) {\r\n                const nums = [1, 2, 3, 4, 5, 6, 7, 8, 9];\r\n                if (randomize) {\r\n                    // Fisher-Yates shuffle\r\n                    for (let i = nums.length - 1; i > 0; i--) {\r\n                        const j = Math.floor(Math.random() * (i + 1));\r\n                        [nums[i], nums[j]] = [nums[j], nums[i]];\r\n                    }\r\n                }\r\n\r\n                for (const num of nums) {\r\n                    if (isValid(board, row, col, num)) {\r\n                        board[row][col] = num;\r\n                        if (solveSudoku(board, randomize)) return true;\r\n                        board[row][col] = BLANK;\r\n                    }\r\n                }\r\n                return false;\r\n            }\r\n        }\r\n    }\r\n    return true;\r\n}\r\n\r\nexport function generateSudoku(difficulty: Difficulty): { initial: number[][], solved: number[][] } {\r\n    // 1. Generate a solved board\r\n    const solved = Array.from({ length: GRID_SIZE }, () => Array(GRID_SIZE).fill(BLANK));\r\n    solveSudoku(solved, true);\r\n\r\n    // 2. Clone for the puzzle\r\n    const initial = solved.map(row => [...row]);\r\n\r\n    // 3. Remove numbers based on difficulty\r\n    let attempts = difficulty === 'Easy' ? 30\r\n        : difficulty === 'Medium' ? 45\r\n            : difficulty === 'Hard' ? 55\r\n                : 60; // Expert\r\n\r\n    while (attempts > 0) {\r\n        let row = Math.floor(Math.random() * GRID_SIZE);\r\n        let col = Math.floor(Math.random() * GRID_SIZE);\r\n        while (initial[row][col] === BLANK) {\r\n            row = Math.floor(Math.random() * GRID_SIZE);\r\n            col = Math.floor(Math.random() * GRID_SIZE);\r\n        }\r\n\r\n        // Backup\r\n        const backup = initial[row][col];\r\n        initial[row][col] = BLANK;\r\n\r\n        // Check if unique solution exists (simplified: just check if removing it made it unsolvable or ambiguous - for now assume standard removal is fine enough for this demo, or implement full unique check if needed. For speed, we'll stick to a probabilistic approach or just ensure at least 1 solution remains, which is guaranteed if we start from solved. Uniqueness is harder but let's trust the \"attempts\" heuristic for now.)\r\n        // A true unique checker solves the board again and ensures only 1 solution. \r\n        // For this MVP, we will skip strict uniqueness check to ensure performance, \r\n        // but normally you'd check `countSolutions(initial) === 1`.\r\n\r\n        attempts--;\r\n    }\r\n\r\n    return { initial, solved };\r\n}\r\n"],"names":[],"mappings":"AAAA,sBAAsB;;;;;;;;;;;;;AAIf,MAAM,QAAQ;AACd,MAAM,YAAY;AAElB,SAAS,QAAQ,KAAiB,EAAE,GAAW,EAAE,GAAW,EAAE,GAAW;IAC5E,IAAK,IAAI,IAAI,GAAG,IAAI,WAAW,IAAK;QAChC,IAAI,KAAK,CAAC,IAAI,CAAC,EAAE,KAAK,OAAO,MAAM,KAAK,OAAO;QAC/C,IAAI,KAAK,CAAC,EAAE,CAAC,IAAI,KAAK,OAAO,MAAM,KAAK,OAAO;QAC/C,MAAM,WAAW,IAAI,KAAK,KAAK,CAAC,MAAM,KAAK,KAAK,KAAK,CAAC,IAAI;QAC1D,MAAM,WAAW,IAAI,KAAK,KAAK,CAAC,MAAM,KAAM,IAAI;QAChD,IAAI,KAAK,CAAC,SAAS,CAAC,SAAS,KAAK,OAAO,CAAC,aAAa,OAAO,aAAa,GAAG,GAAG,OAAO;IAC5F;IACA,OAAO;AACX;AAEO,SAAS,YAAY,KAAiB,EAAE,YAAY,KAAK;IAC5D,IAAK,IAAI,MAAM,GAAG,MAAM,WAAW,MAAO;QACtC,IAAK,IAAI,MAAM,GAAG,MAAM,WAAW,MAAO;YACtC,IAAI,KAAK,CAAC,IAAI,CAAC,IAAI,KAAK,OAAO;gBAC3B,MAAM,OAAO;oBAAC;oBAAG;oBAAG;oBAAG;oBAAG;oBAAG;oBAAG;oBAAG;oBAAG;iBAAE;gBACxC,IAAI,WAAW;oBACX,uBAAuB;oBACvB,IAAK,IAAI,IAAI,KAAK,MAAM,GAAG,GAAG,IAAI,GAAG,IAAK;wBACtC,MAAM,IAAI,KAAK,KAAK,CAAC,KAAK,MAAM,KAAK,CAAC,IAAI,CAAC;wBAC3C,CAAC,IAAI,CAAC,EAAE,EAAE,IAAI,CAAC,EAAE,CAAC,GAAG;4BAAC,IAAI,CAAC,EAAE;4BAAE,IAAI,CAAC,EAAE;yBAAC;oBAC3C;gBACJ;gBAEA,KAAK,MAAM,OAAO,KAAM;oBACpB,IAAI,QAAQ,OAAO,KAAK,KAAK,MAAM;wBAC/B,KAAK,CAAC,IAAI,CAAC,IAAI,GAAG;wBAClB,IAAI,YAAY,OAAO,YAAY,OAAO;wBAC1C,KAAK,CAAC,IAAI,CAAC,IAAI,GAAG;oBACtB;gBACJ;gBACA,OAAO;YACX;QACJ;IACJ;IACA,OAAO;AACX;AAEO,SAAS,eAAe,UAAsB;IACjD,6BAA6B;IAC7B,MAAM,SAAS,MAAM,IAAI,CAAC;QAAE,QAAQ;IAAU,GAAG,IAAM,MAAM,WAAW,IAAI,CAAC;IAC7E,YAAY,QAAQ;IAEpB,0BAA0B;IAC1B,MAAM,UAAU,OAAO,GAAG,CAAC,CAAA,MAAO;eAAI;SAAI;IAE1C,wCAAwC;IACxC,IAAI,WAAW,eAAe,SAAS,KACjC,eAAe,WAAW,KACtB,eAAe,SAAS,KACpB,IAAI,SAAS;IAE3B,MAAO,WAAW,EAAG;QACjB,IAAI,MAAM,KAAK,KAAK,CAAC,KAAK,MAAM,KAAK;QACrC,IAAI,MAAM,KAAK,KAAK,CAAC,KAAK,MAAM,KAAK;QACrC,MAAO,OAAO,CAAC,IAAI,CAAC,IAAI,KAAK,MAAO;YAChC,MAAM,KAAK,KAAK,CAAC,KAAK,MAAM,KAAK;YACjC,MAAM,KAAK,KAAK,CAAC,KAAK,MAAM,KAAK;QACrC;QAEA,SAAS;QACT,MAAM,SAAS,OAAO,CAAC,IAAI,CAAC,IAAI;QAChC,OAAO,CAAC,IAAI,CAAC,IAAI,GAAG;QAEpB,uaAAua;QACva,6EAA6E;QAC7E,6EAA6E;QAC7E,4DAA4D;QAE5D;IACJ;IAEA,OAAO;QAAE;QAAS;IAAO;AAC7B"}},
    {"offset": {"line": 125, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/MAHARSHI%20NATH/OneDrive/Documents/sudoku/lib/store.ts"],"sourcesContent":["import { create } from 'zustand';\r\nimport { generateSudoku, solveSudoku, isValid, BLANK, GRID_SIZE, Difficulty } from './logic/sudoku';\r\n\r\ninterface GameState {\r\n    board: number[][];\r\n    initialBoard: number[][];\r\n    solvedBoard: number[][];\r\n    notes: Set<string>; // stored as \"row,col,num\"\r\n    difficulty: Difficulty;\r\n    status: 'idle' | 'playing' | 'won' | 'lost';\r\n    timer: number;\r\n    mistakes: number;\r\n    maxMistakes: number;\r\n    history: number[][][]; // for undo\r\n    isNotesMode: boolean;\r\n    selectedCell: { r: number, c: number } | null;\r\n\r\n    // Multiplayer\r\n    mode: 'single' | 'pvp' | 'bot';\r\n    roomId: string | null;\r\n    playerId: string | null;\r\n    opponentProgress: number; // 0-100\r\n    opponentName: string | null;\r\n    opponentStatus: 'playing' | 'won' | 'lost' | 'waiting' | null;\r\n\r\n    // Actions\r\n    startGame: (difficulty: Difficulty, mode?: 'single' | 'pvp' | 'bot') => void;\r\n    selectCell: (r: number, c: number) => void;\r\n    setCellValue: (num: number) => void;\r\n    toggleNotesMode: () => void;\r\n    undo: () => void;\r\n    resetGame: () => void;\r\n    tickTimer: () => void;\r\n\r\n    // PvP Actions\r\n    setMultiplayerState: (state: Partial<GameState>) => void;\r\n\r\n    // Hint\r\n    getHint: () => void;\r\n}\r\n\r\nexport const useGameStore = create<GameState>((set, get) => ({\r\n    board: [],\r\n    initialBoard: [],\r\n    solvedBoard: [],\r\n    notes: new Set(),\r\n    difficulty: 'Medium',\r\n    status: 'idle',\r\n    timer: 0,\r\n    mistakes: 0,\r\n    maxMistakes: 3,\r\n    history: [],\r\n    isNotesMode: false,\r\n    selectedCell: null,\r\n\r\n    mode: 'single',\r\n    roomId: null,\r\n    playerId: null,\r\n    opponentProgress: 0,\r\n    opponentName: null,\r\n    opponentStatus: null,\r\n\r\n    startGame: (difficulty, mode = 'single') => {\r\n        const { initial, solved } = generateSudoku(difficulty);\r\n        set({\r\n            board: initial.map(row => [...row]),\r\n            initialBoard: initial.map(row => [...row]),\r\n            solvedBoard: solved,\r\n            difficulty,\r\n            status: 'playing',\r\n            timer: 0,\r\n            mistakes: 0,\r\n            history: [],\r\n            notes: new Set(),\r\n            selectedCell: null,\r\n            mode\r\n        });\r\n    },\r\n\r\n    setMultiplayerState: (state) => set(state),\r\n\r\n    selectCell: (r, c) => set({ selectedCell: { r, c } }),\r\n\r\n    toggleNotesMode: () => { }, // Disabled for now as per user request (empty function)\r\n\r\n    setCellValue: (num) => {\r\n        const { board, selectedCell, initialBoard, solvedBoard, isNotesMode, notes, mistakes, maxMistakes, history, status, mode, roomId, playerId } = get();\r\n\r\n        if (!selectedCell || status === 'won' || status === 'lost') return;\r\n        const { r, c } = selectedCell;\r\n\r\n        // Cannot edit initial cells\r\n        if (initialBoard[r][c] !== BLANK) return;\r\n\r\n        // Notes logic (Disabled effectively since isNotesMode can't be toggled true, but keeping code structure or removing it?)\r\n        // If isNotesMode is somehow true, we keep the logic, but since we disabled the toggle, this block is unreachable unless default is true.\r\n        if (isNotesMode) {\r\n            const noteKey = `${r},${c},${num}`;\r\n            const newNotes = new Set(notes);\r\n            if (newNotes.has(noteKey)) {\r\n                newNotes.delete(noteKey);\r\n            } else {\r\n                newNotes.add(noteKey);\r\n            }\r\n            set({ notes: newNotes });\r\n            return;\r\n        }\r\n\r\n        // Normal move\r\n        if (board[r][c] === num) return; // No change\r\n\r\n        // Save history\r\n        const newHistory = [...history, board.map(row => [...row])];\r\n\r\n        // Check correctness (instant feedback style)\r\n        const isCorrect = solvedBoard[r][c] === num;\r\n\r\n        // Calculate mistakes\r\n        const currentMistakes = isCorrect ? mistakes : mistakes + 1;\r\n\r\n        if (!isCorrect) {\r\n            set({ mistakes: currentMistakes });\r\n            if (currentMistakes >= maxMistakes) {\r\n                set({ status: 'lost' });\r\n            }\r\n            // Depending on design, we might NOT fill the cell if wrong, or highlight red.\r\n            // Standard app behavior: fill it, show red, count mistake.\r\n        }\r\n\r\n        const newBoard = board.map(row => [...row]);\r\n        newBoard[r][c] = num;\r\n\r\n        // Check win condition\r\n        let isWon = true;\r\n        for (let i = 0; i < GRID_SIZE; i++) {\r\n            for (let j = 0; j < GRID_SIZE; j++) {\r\n                if (newBoard[i][j] !== solvedBoard[i][j]) {\r\n                    isWon = false;\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n\r\n        if (mode === 'pvp' && roomId && playerId) {\r\n            // ... pvp logic ...\r\n            // Calculate progress (cells filled / total cells)\r\n            let filled = 0;\r\n            for (let r = 0; r < GRID_SIZE; r++) {\r\n                for (let c = 0; c < GRID_SIZE; c++) {\r\n                    if (newBoard[r][c] !== 0) filled++;\r\n                }\r\n            }\r\n            const progress = Math.floor((filled / (GRID_SIZE * GRID_SIZE)) * 100);\r\n\r\n            import('./firebase/rooms').then(({ updateProgress }) => {\r\n                updateProgress(roomId, playerId, progress, currentMistakes, isWon ? 'won' : (currentMistakes >= maxMistakes ? 'lost' : 'playing'));\r\n            });\r\n        }\r\n\r\n        set({\r\n            board: newBoard,\r\n            history: newHistory,\r\n            status: isWon ? 'won' : get().status\r\n        });\r\n    },\r\n\r\n    undo: () => {\r\n        const { history } = get();\r\n        if (history.length === 0) return;\r\n        const previousBoard = history[history.length - 1];\r\n        set({\r\n            board: previousBoard,\r\n            history: history.slice(0, -1)\r\n        });\r\n    },\r\n\r\n    resetGame: () => {\r\n        // restart with same board? or new? usually \"Restart\" means same board cleared.\r\n        const { initialBoard } = get();\r\n        set({\r\n            board: initialBoard.map(row => [...row]),\r\n            timer: 0,\r\n            mistakes: 0,\r\n            notes: new Set(),\r\n            history: [],\r\n            status: 'playing'\r\n        });\r\n    },\r\n\r\n    tickTimer: () => {\r\n        if (get().status === 'playing') {\r\n            set(state => ({ timer: state.timer + 1 }));\r\n        }\r\n    },\r\n\r\n    getHint: () => {\r\n        const { board, solvedBoard, status } = get();\r\n        if (status !== 'playing') return;\r\n\r\n        // Find all empty cells\r\n        const emptyCells = [];\r\n        for (let r = 0; r < GRID_SIZE; r++) {\r\n            for (let c = 0; c < GRID_SIZE; c++) {\r\n                if (board[r][c] === 0) {\r\n                    emptyCells.push({ r, c });\r\n                }\r\n            }\r\n        }\r\n\r\n        if (emptyCells.length === 0) return;\r\n\r\n        // Pick random empty cell\r\n        const randomCell = emptyCells[Math.floor(Math.random() * emptyCells.length)];\r\n        const { r, c } = randomCell;\r\n        const correctValue = solvedBoard[r][c];\r\n\r\n        // Use setCellValue to handle logic (not mistake, just fill)\r\n        // But setCellValue logic checks for correctness and counts mistakes if wrong.\r\n        // We want to force a correct fill.\r\n        // Let's just manually update board and select the cell to show user where hint was.\r\n\r\n        const newBoard = board.map(row => [...row]);\r\n        newBoard[r][c] = correctValue;\r\n\r\n        set({\r\n            board: newBoard,\r\n            selectedCell: { r, c },\r\n            // Clear any notes in that cell if we had them equivalent logic\r\n        });\r\n    }\r\n}));\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 331, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/MAHARSHI%20NATH/OneDrive/Documents/sudoku/components/game/Cell.tsx"],"sourcesContent":["import { memo, useState } from 'react';\r\nimport { motion } from 'framer-motion';\r\nimport { cn } from '@/lib/utils';\r\nimport { useGameStore } from '@/lib/store';\r\nimport { useShallow } from 'zustand/react/shallow';\r\n\r\ninterface CellProps {\r\n    r: number;\r\n    c: number;\r\n    val: number;\r\n    initial: boolean;\r\n}\r\n\r\nexport const Cell = memo(({ r, c, val, initial }: CellProps) => {\r\n    const [isDragOver, setIsDragOver] = useState(false);\r\n\r\n    // Optimizing selectors to avoid re-renders on timer tick\r\n    const isSelected = useGameStore(useShallow(state => state.selectedCell?.r === r && state.selectedCell?.c === c));\r\n\r\n    // Check for related cells (same row, col, or box)\r\n    const isRelated = useGameStore(useShallow(state => {\r\n        const s = state.selectedCell;\r\n        if (!s) return false;\r\n        if (s.r === r || s.c === c) return true;\r\n        if (Math.floor(s.r / 3) === Math.floor(r / 3) && Math.floor(s.c / 3) === Math.floor(c / 3)) return true;\r\n        return false;\r\n    }));\r\n\r\n    const isSameValue = useGameStore(useShallow(state => {\r\n        const s = state.selectedCell;\r\n        if (!s) return false;\r\n        const sVal = state.board[s.r][s.c];\r\n        return sVal !== 0 && sVal === val;\r\n    }));\r\n\r\n    const isError = useGameStore(state => !initial && val !== 0 && val !== state.solvedBoard[r][c]);\r\n\r\n    // Notes logic - purely selector based\r\n    const cellNotes = useGameStore(useShallow(state => {\r\n        if (val !== 0) return [];\r\n        const notes = [];\r\n        for (let n = 1; n <= 9; n++) {\r\n            if (state.notes.has(`${r},${c},${n}`)) notes.push(n);\r\n        }\r\n        return notes;\r\n    }));\r\n\r\n    const selectCell = useGameStore(state => state.selectCell);\r\n\r\n    // We need setCellValue here for drag and drop interactions\r\n    // Since we can't easily modify the store action signature without broader refactoring,\r\n    // we'll rely on selecting the cell first, then setting the value.\r\n    const setCellValue = useGameStore(state => state.setCellValue);\r\n\r\n    const handleClick = () => selectCell(r, c);\r\n\r\n    const handleDragOver = (e: React.DragEvent) => {\r\n        e.preventDefault();\r\n        e.dataTransfer.dropEffect = \"copy\";\r\n        if (!initial) { // Only allow drop on non-initial cells\r\n            setIsDragOver(true);\r\n        }\r\n    };\r\n\r\n    const handleDragLeave = () => {\r\n        setIsDragOver(false);\r\n    };\r\n\r\n    const handleDrop = (e: React.DragEvent) => {\r\n        e.preventDefault();\r\n        setIsDragOver(false);\r\n\r\n        if (initial) return; // Cannot modify initial cells\r\n\r\n        const numStr = e.dataTransfer.getData(\"text/plain\");\r\n        const num = parseInt(numStr, 10);\r\n\r\n        if (!isNaN(num) && num >= 0 && num <= 9) { // Allow 0 for Eraser\r\n            // Select this cell first\r\n            useGameStore.getState().selectCell(r, c);\r\n            // Then set the value (synchronously updates based on selected cell)\r\n            useGameStore.getState().setCellValue(num);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div\r\n            onClick={handleClick}\r\n            onDragOver={handleDragOver}\r\n            onDragLeave={handleDragLeave}\r\n            onDrop={handleDrop}\r\n            className={cn(\r\n                \"relative flex items-center justify-center w-full h-full cursor-pointer transition-colors duration-200\",\r\n                \"text-2xl sm:text-3xl font-light select-none\",\r\n                // Base Border\r\n                \"border-[0.5px] border-slate-300\",\r\n\r\n                // Thick 3x3 Borders\r\n                // Right border for columns 2 and 5 (0-indexed indices 2 and 5)\r\n                (c === 2 || c === 5) && \"!border-r-2 !border-r-slate-800\",\r\n                // Bottom border for rows 2 and 5\r\n                (r === 2 || r === 5) && \"!border-b-2 !border-b-slate-800\",\r\n\r\n                // Remove outer borders (handled by board container)\r\n                c === 8 && \"border-r-0\",\r\n                r === 8 && \"border-b-0\",\r\n\r\n                // Backgrounds & Text Colors\r\n                isError\r\n                    ? (isSelected ? \"bg-red-600 text-white\" : \"bg-red-100 text-red-600\")\r\n                    : isSelected\r\n                        ? \"bg-indigo-600 text-white\"\r\n                        : isDragOver\r\n                            ? \"bg-indigo-200 ring-2 ring-inset ring-indigo-500 z-20\"\r\n                            : isSameValue\r\n                                ? \"bg-indigo-100 text-indigo-900\"\r\n                                : isRelated\r\n                                    ? \"bg-slate-100\"\r\n                                    : \"bg-white hover:bg-slate-50\",\r\n\r\n                // Dynamic Borders (Override structural borders)\r\n                isSelected && !isError && \"!border-indigo-600 z-10\",\r\n                isSelected && isError && \"!border-red-600 z-10\",\r\n                !isSelected && isError && \"!border-red-200\",\r\n\r\n                // Construct Structural Borders (Thick 3x3)\r\n                // We leave the base structural borders at the top of the class list (lower priority in cascade if we use !important elsewhere,\r\n                // but here we rely on order or !important. The dynamic borders above use ! so they should win).\r\n\r\n                // Text Color Overrides\r\n                initial && !isSelected && \"text-slate-900 font-medium\",\r\n\r\n            )}\r\n        >\r\n            {val !== 0 ? (\r\n                <motion.span\r\n                    // Add a nice \"pop\" effect when value changes via drop\r\n                    key={val}\r\n                    initial={{ scale: 0.5, opacity: 0 }}\r\n                    animate={{ scale: 1, opacity: 1 }}\r\n                    transition={{ type: \"spring\", stiffness: 300, damping: 20 }}\r\n                    className={cn(\"z-10\", isError && \"animate-shake\")}\r\n                >\r\n                    {val}\r\n                </motion.span>\r\n            ) : (\r\n                <div className=\"grid grid-cols-3 w-full h-full p-0.5 pointer-events-none\">\r\n                    {[1, 2, 3, 4, 5, 6, 7, 8, 9].map(n => (\r\n                        <div key={n} className=\"flex items-center justify-center\">\r\n                            {cellNotes.includes(n) && (\r\n                                <span className=\"text-[9px] text-slate-500 font-medium leading-none\">\r\n                                    {n}\r\n                                </span>\r\n                            )}\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n});\r\n\r\nCell.displayName = 'Cell';\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 484, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/MAHARSHI%20NATH/OneDrive/Documents/sudoku/components/game/Board.tsx"],"sourcesContent":["import { useEffect } from 'react';\r\nimport { Cell } from './Cell';\r\nimport { useGameStore } from '@/lib/store';\r\nimport { motion } from 'framer-motion';\r\n\r\nexport const Board = () => {\r\n    // Simplified selectors\r\n    const board = useGameStore(state => state.board);\r\n    const initialBoard = useGameStore(state => state.initialBoard);\r\n    const startGame = useGameStore(state => state.startGame);\r\n\r\n    useEffect(() => {\r\n        // Start game on mount if empty\r\n        if (board.length === 0) {\r\n            startGame('Medium');\r\n        }\r\n    }, []);\r\n\r\n    if (board.length === 0) return null;\r\n\r\n    return (\r\n        <motion.div\r\n            initial={{ opacity: 0, scale: 0.9 }}\r\n            animate={{ opacity: 1, scale: 1 }}\r\n            className=\"w-full max-w-xl aspect-square bg-slate-800 p-1 rounded-sm shadow-2xl overflow-hidden\"\r\n        >\r\n            {/* \r\n                Changed from gap-based grid to border-based grid for better control over line thickness.\r\n                Background is slate-800 to form the thick outer border.\r\n                Cells handle their own inner borders.\r\n            */}\r\n            <div className=\"grid grid-cols-9 grid-rows-9 h-full w-full bg-white\">\r\n                {board.map((row, r) => (\r\n                    row.map((val, c) => (\r\n                        <Cell\r\n                            key={`${r}-${c}`}\r\n                            r={r}\r\n                            c={c}\r\n                            val={val}\r\n                            initial={initialBoard[r][c] !== 0}\r\n                        />\r\n                    ))\r\n                ))}\r\n            </div>\r\n        </motion.div>\r\n    );\r\n};\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;;;;;;AAEO,MAAM,QAAQ;IACjB,uBAAuB;IACvB,MAAM,QAAQ,IAAA,4HAAY,EAAC,CAAA,QAAS,MAAM,KAAK;IAC/C,MAAM,eAAe,IAAA,4HAAY,EAAC,CAAA,QAAS,MAAM,YAAY;IAC7D,MAAM,YAAY,IAAA,4HAAY,EAAC,CAAA,QAAS,MAAM,SAAS;IAEvD,IAAA,kNAAS,EAAC;QACN,+BAA+B;QAC/B,IAAI,MAAM,MAAM,KAAK,GAAG;YACpB,UAAU;QACd;IACJ,GAAG,EAAE;IAEL,IAAI,MAAM,MAAM,KAAK,GAAG,OAAO;IAE/B,qBACI,8OAAC,oMAAM,CAAC,GAAG;QACP,SAAS;YAAE,SAAS;YAAG,OAAO;QAAI;QAClC,SAAS;YAAE,SAAS;YAAG,OAAO;QAAE;QAChC,WAAU;kBAOV,cAAA,8OAAC;YAAI,WAAU;sBACV,MAAM,GAAG,CAAC,CAAC,KAAK,IACb,IAAI,GAAG,CAAC,CAAC,KAAK,kBACV,8OAAC,mIAAI;wBAED,GAAG;wBACH,GAAG;wBACH,KAAK;wBACL,SAAS,YAAY,CAAC,EAAE,CAAC,EAAE,KAAK;uBAJ3B,GAAG,EAAE,CAAC,EAAE,GAAG;;;;;;;;;;;;;;;AAW5C"}},
    {"offset": {"line": 547, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/MAHARSHI%20NATH/OneDrive/Documents/sudoku/components/game/GameControls.tsx"],"sourcesContent":["import { useGameStore } from \"@/lib/store\";\r\nimport { Undo2, Eraser, Pencil, RotateCcw, Lightbulb } from 'lucide-react';\r\nimport { cn } from \"@/lib/utils\";\r\nimport { motion } from \"framer-motion\";\r\n\r\nexport const GameControls = () => {\r\n    const undo = useGameStore(state => state.undo);\r\n    const resetGame = useGameStore(state => state.resetGame);\r\n    const toggleNotesMode = useGameStore(state => state.toggleNotesMode);\r\n    const isNotesMode = useGameStore(state => state.isNotesMode);\r\n    const setCellValue = useGameStore(state => state.setCellValue);\r\n    const getHint = useGameStore(state => state.getHint);\r\n\r\n    const handleEraserDragStart = (e: React.DragEvent) => {\r\n        e.dataTransfer.setData('text/plain', '0');\r\n        e.dataTransfer.effectAllowed = 'copy';\r\n    };\r\n\r\n    return (\r\n        <div className=\"flex justify-between w-full px-2\">\r\n            <ControlBtn\r\n                icon={<RotateCcw size={22} />}\r\n                label=\"Undo\"\r\n                onClick={undo}\r\n            />\r\n            <ControlBtn\r\n                icon={<Eraser size={22} />}\r\n                label=\"Erase\"\r\n                onClick={() => setCellValue(0)}\r\n                draggable\r\n                onDragStart={handleEraserDragStart}\r\n            />\r\n            <ControlBtn\r\n                icon={<Pencil size={22} />}\r\n                label=\"Notes\"\r\n                isActive={isNotesMode}\r\n                onClick={toggleNotesMode}\r\n                badge={isNotesMode ? \"ON\" : \"OFF\"}\r\n            />\r\n            <ControlBtn\r\n                icon={<Lightbulb size={22} />}\r\n                label=\"Hint\"\r\n                onClick={getHint}\r\n            />\r\n        </div>\r\n    );\r\n};\r\n\r\nconst ControlBtn = ({ icon, label, onClick, isActive, badge, draggable, onDragStart }: any) => (\r\n    <motion.button\r\n        whileTap={{ scale: 0.9 }}\r\n        whileHover={{ scale: 1.05 }}\r\n        onClick={onClick}\r\n        draggable={draggable}\r\n        onDragStart={onDragStart}\r\n        className={cn(\r\n            \"flex flex-col items-center gap-2 group relative transition-all outline-none\",\r\n            isActive ? \"text-indigo-600\" : \"text-slate-400 hover:text-indigo-600\",\r\n            draggable && \"cursor-grab active:cursor-grabbing\"\r\n        )}\r\n    >\r\n        <div className={cn(\r\n            \"w-14 h-14 rounded-2xl flex items-center justify-center transition-all border-2 shadow-sm\",\r\n            isActive\r\n                ? \"bg-indigo-600 text-white border-indigo-600 shadow-indigo-200 shadow-lg ring-2 ring-indigo-100 ring-offset-2\"\r\n                : \"bg-white border-slate-100 text-slate-600 group-hover:border-indigo-100 group-hover:bg-indigo-50 group-hover:text-indigo-600\"\r\n        )}>\r\n            {icon}\r\n        </div>\r\n        <span className=\"text-[10px] font-bold tracking-widest uppercase\">{label}</span>\r\n        {badge && (\r\n            <motion.div\r\n                initial={{ scale: 0 }}\r\n                animate={{ scale: 1 }}\r\n                className={cn(\r\n                    \"absolute top-0 right-0 -mr-1 -mt-1 text-[9px] font-bold px-1.5 py-0.5 rounded-full shadow-sm z-10 border border-white\",\r\n                    isActive ? \"bg-white text-indigo-600\" : \"bg-slate-800 text-white\"\r\n                )}\r\n            >\r\n                {badge}\r\n            </motion.div>\r\n        )}\r\n    </motion.button>\r\n);\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;;;;;;AAEO,MAAM,eAAe;IACxB,MAAM,OAAO,IAAA,4HAAY,EAAC,CAAA,QAAS,MAAM,IAAI;IAC7C,MAAM,YAAY,IAAA,4HAAY,EAAC,CAAA,QAAS,MAAM,SAAS;IACvD,MAAM,kBAAkB,IAAA,4HAAY,EAAC,CAAA,QAAS,MAAM,eAAe;IACnE,MAAM,cAAc,IAAA,4HAAY,EAAC,CAAA,QAAS,MAAM,WAAW;IAC3D,MAAM,eAAe,IAAA,4HAAY,EAAC,CAAA,QAAS,MAAM,YAAY;IAC7D,MAAM,UAAU,IAAA,4HAAY,EAAC,CAAA,QAAS,MAAM,OAAO;IAEnD,MAAM,wBAAwB,CAAC;QAC3B,EAAE,YAAY,CAAC,OAAO,CAAC,cAAc;QACrC,EAAE,YAAY,CAAC,aAAa,GAAG;IACnC;IAEA,qBACI,8OAAC;QAAI,WAAU;;0BACX,8OAAC;gBACG,oBAAM,8OAAC,6NAAS;oBAAC,MAAM;;;;;;gBACvB,OAAM;gBACN,SAAS;;;;;;0BAEb,8OAAC;gBACG,oBAAM,8OAAC,gNAAM;oBAAC,MAAM;;;;;;gBACpB,OAAM;gBACN,SAAS,IAAM,aAAa;gBAC5B,SAAS;gBACT,aAAa;;;;;;0BAEjB,8OAAC;gBACG,oBAAM,8OAAC,gNAAM;oBAAC,MAAM;;;;;;gBACpB,OAAM;gBACN,UAAU;gBACV,SAAS;gBACT,OAAO,cAAc,OAAO;;;;;;0BAEhC,8OAAC;gBACG,oBAAM,8OAAC,yNAAS;oBAAC,MAAM;;;;;;gBACvB,OAAM;gBACN,SAAS;;;;;;;;;;;;AAIzB;AAEA,MAAM,aAAa,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,OAAO,EAAE,QAAQ,EAAE,KAAK,EAAE,SAAS,EAAE,WAAW,EAAO,iBACtF,8OAAC,oMAAM,CAAC,MAAM;QACV,UAAU;YAAE,OAAO;QAAI;QACvB,YAAY;YAAE,OAAO;QAAK;QAC1B,SAAS;QACT,WAAW;QACX,aAAa;QACb,WAAW,IAAA,kHAAE,EACT,+EACA,WAAW,oBAAoB,wCAC/B,aAAa;;0BAGjB,8OAAC;gBAAI,WAAW,IAAA,kHAAE,EACd,4FACA,WACM,gHACA;0BAEL;;;;;;0BAEL,8OAAC;gBAAK,WAAU;0BAAmD;;;;;;YAClE,uBACG,8OAAC,oMAAM,CAAC,GAAG;gBACP,SAAS;oBAAE,OAAO;gBAAE;gBACpB,SAAS;oBAAE,OAAO;gBAAE;gBACpB,WAAW,IAAA,kHAAE,EACT,yHACA,WAAW,6BAA6B;0BAG3C"}},
    {"offset": {"line": 701, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/MAHARSHI%20NATH/OneDrive/Documents/sudoku/components/game/Numpad.tsx"],"sourcesContent":["import { useGameStore } from \"@/lib/store\";\r\nimport { motion } from \"framer-motion\";\r\n\r\nexport const Numpad = () => {\r\n    const setCellValue = useGameStore(state => state.setCellValue);\r\n    const numbers = [1, 2, 3, 4, 5, 6, 7, 8, 9];\r\n\r\n    const handleDragStart = (e: React.DragEvent, num: number) => {\r\n        e.dataTransfer.setData('text/plain', num.toString());\r\n        e.dataTransfer.effectAllowed = 'copy';\r\n\r\n        // Optional: Create a custom drag image if needed, but default is usually fine\r\n        // const img = new Image();\r\n        // img.src = ...\r\n        // e.dataTransfer.setDragImage(img, 0, 0);\r\n    };\r\n\r\n    return (\r\n        <div className=\"grid grid-cols-3 gap-2 w-full\">\r\n            {numbers.map((num) => (\r\n                <motion.div\r\n                    key={num}\r\n                    draggable\r\n                    onDragStart={(e) => handleDragStart(e as any, num)}\r\n                    whileHover={{ scale: 1.05 }}\r\n                    whileTap={{ scale: 0.90 }}\r\n                    onClick={() => setCellValue(num)} // Keep click for accessibility/speed\r\n                    className=\"aspect-[4/3] flex items-center justify-center text-4xl font-light text-indigo-600 bg-white shadow-sm border border-slate-200 hover:bg-slate-50 hover:border-indigo-200 hover:text-indigo-700 active:bg-indigo-100 rounded-xl transition-all duration-75 cursor-grab active:cursor-grabbing\"\r\n                    style={{ touchAction: 'none' }} // Hint for touch devices, though HTML5 DnD is desktop focused usually.\r\n                >\r\n                    {num}\r\n                </motion.div>\r\n            ))}\r\n        </div>\r\n    );\r\n};\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAEO,MAAM,SAAS;IAClB,MAAM,eAAe,IAAA,4HAAY,EAAC,CAAA,QAAS,MAAM,YAAY;IAC7D,MAAM,UAAU;QAAC;QAAG;QAAG;QAAG;QAAG;QAAG;QAAG;QAAG;QAAG;KAAE;IAE3C,MAAM,kBAAkB,CAAC,GAAoB;QACzC,EAAE,YAAY,CAAC,OAAO,CAAC,cAAc,IAAI,QAAQ;QACjD,EAAE,YAAY,CAAC,aAAa,GAAG;IAE/B,8EAA8E;IAC9E,2BAA2B;IAC3B,gBAAgB;IAChB,0CAA0C;IAC9C;IAEA,qBACI,8OAAC;QAAI,WAAU;kBACV,QAAQ,GAAG,CAAC,CAAC,oBACV,8OAAC,oMAAM,CAAC,GAAG;gBAEP,SAAS;gBACT,aAAa,CAAC,IAAM,gBAAgB,GAAU;gBAC9C,YAAY;oBAAE,OAAO;gBAAK;gBAC1B,UAAU;oBAAE,OAAO;gBAAK;gBACxB,SAAS,IAAM,aAAa;gBAC5B,WAAU;gBACV,OAAO;oBAAE,aAAa;gBAAO;0BAE5B;eATI;;;;;;;;;;AAczB"}},
    {"offset": {"line": 764, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/MAHARSHI%20NATH/OneDrive/Documents/sudoku/components/game/Timer.tsx"],"sourcesContent":["import { useGameStore } from '@/lib/store';\r\n\r\nexport const Timer = () => {\r\n    // Timer component is now purely for display.\r\n    // The actual interval logic is handled in the main page to avoid duplication.\r\n    const timer = useGameStore(state => state.timer);\r\n\r\n    const formatTime = (seconds: number) => {\r\n        const mins = Math.floor(seconds / 60);\r\n        const secs = seconds % 60;\r\n        return `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;\r\n    };\r\n\r\n    return (\r\n        <div className=\"font-mono text-xl font-medium text-slate-700 dark:text-slate-300\">\r\n            {formatTime(timer)}\r\n        </div>\r\n    );\r\n};\r\n"],"names":[],"mappings":";;;;;AAAA;;;AAEO,MAAM,QAAQ;IACjB,6CAA6C;IAC7C,8EAA8E;IAC9E,MAAM,QAAQ,IAAA,4HAAY,EAAC,CAAA,QAAS,MAAM,KAAK;IAE/C,MAAM,aAAa,CAAC;QAChB,MAAM,OAAO,KAAK,KAAK,CAAC,UAAU;QAClC,MAAM,OAAO,UAAU;QACvB,OAAO,GAAG,KAAK,QAAQ,GAAG,QAAQ,CAAC,GAAG,KAAK,CAAC,EAAE,KAAK,QAAQ,GAAG,QAAQ,CAAC,GAAG,MAAM;IACpF;IAEA,qBACI,8OAAC;QAAI,WAAU;kBACV,WAAW;;;;;;AAGxB"}},
    {"offset": {"line": 842, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/MAHARSHI%20NATH/OneDrive/Documents/sudoku/lib/firebase/firebase.ts"],"sourcesContent":["import { initializeApp, getApps, getApp } from \"firebase/app\";\r\nimport { getDatabase } from \"firebase/database\";\r\nimport { getAuth } from \"firebase/auth\";\r\n\r\nconst firebaseConfig = {\r\n    apiKey: process.env.NEXT_PUBLIC_FIREBASE_API_KEY,\r\n    authDomain: process.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN,\r\n    databaseURL: process.env.NEXT_PUBLIC_FIREBASE_DATABASE_URL,\r\n    projectId: process.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID,\r\n    storageBucket: process.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET,\r\n    messagingSenderId: process.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID,\r\n    appId: process.env.NEXT_PUBLIC_FIREBASE_APP_ID\r\n};\r\n\r\n// Initialize Firebase\r\nlet app: any;\r\nlet db: any;\r\nlet auth: any;\r\n\r\ntry {\r\n    if (firebaseConfig.apiKey) {\r\n        app = !getApps().length ? initializeApp(firebaseConfig) : getApp();\r\n        db = getDatabase(app);\r\n        auth = getAuth(app);\r\n    } else {\r\n        // During build or if not configured, these might be accessed.\r\n        // If accessed, they will throw or be undefined.\r\n        console.warn(\"Firebase config missing. Firebase features will not work.\");\r\n    }\r\n} catch (e) {\r\n    console.warn(\"Firebase initialization failed:\", e);\r\n}\r\n\r\nexport { app, db, auth };\r\n"],"names":[],"mappings":";;;;;;;;AAAA;AAAA;AACA;AAAA;AACA;AAAA;;;;AAEA,MAAM,iBAAiB;IACnB,MAAM;IACN,UAAU;IACV,WAAW;IACX,SAAS;IACT,aAAa;IACb,iBAAiB;IACjB,KAAK;AACT;AAEA,sBAAsB;AACtB,IAAI;AACJ,IAAI;AACJ,IAAI;AAEJ,IAAI;IACA,IAAI,eAAe,MAAM,EAAE;QACvB,MAAM,CAAC,IAAA,2KAAO,IAAG,MAAM,GAAG,IAAA,iLAAa,EAAC,kBAAkB,IAAA,0KAAM;QAChE,KAAK,IAAA,oMAAW,EAAC;QACjB,OAAO,IAAA,6KAAO,EAAC;IACnB,OAAO;QACH,8DAA8D;QAC9D,gDAAgD;QAChD,QAAQ,IAAI,CAAC;IACjB;AACJ,EAAE,OAAO,GAAG;IACR,QAAQ,IAAI,CAAC,mCAAmC;AACpD"}},
    {"offset": {"line": 890, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/MAHARSHI%20NATH/OneDrive/Documents/sudoku/lib/firebase/rooms.ts"],"sourcesContent":["import { db } from \"./firebase\";\r\nimport { ref, set, onValue, push, update, get } from \"firebase/database\";\r\nimport { generateSudoku, Difficulty } from \"../logic/sudoku\";\r\n\r\nexport interface Room {\r\n    id: string;\r\n    status: 'waiting' | 'playing' | 'finished';\r\n    difficulty: Difficulty;\r\n    seed: number; // to sync puzzle if we use seeded generator, else store the board directly\r\n    initialBoard: number[][];\r\n    solvedBoard: number[][];\r\n    players: {\r\n        [uid: string]: {\r\n            name: string;\r\n            progress: number; // percentage or cells filled\r\n            mistakes: number;\r\n            status: 'playing' | 'won' | 'lost';\r\n        }\r\n    };\r\n    winner: string | null;\r\n}\r\n\r\nexport const createRoom = async (playerName: string, difficulty: Difficulty): Promise<string> => {\r\n    const roomsRef = ref(db, 'rooms');\r\n    const newRoomRef = push(roomsRef);\r\n\r\n    const { initial, solved } = generateSudoku(difficulty);\r\n\r\n    // Simple random ID generation if needed, but push() gives unique ID\r\n    const roomId = newRoomRef.key!;\r\n\r\n    await set(newRoomRef, {\r\n        id: roomId,\r\n        status: 'waiting',\r\n        difficulty,\r\n        initialBoard: initial,\r\n        solvedBoard: solved,\r\n        players: {\r\n            // Creator is player 1\r\n            // We need a userId, assume generated or auth\r\n            // For now, use a random ID for session\r\n            [playerName]: {\r\n                name: playerName,\r\n                progress: 0,\r\n                mistakes: 0,\r\n                status: 'playing'\r\n            }\r\n        },\r\n        winner: null\r\n    });\r\n\r\n    return roomId;\r\n};\r\n\r\nexport const joinRoom = async (roomId: string, playerName: string) => {\r\n    const roomRef = ref(db, `rooms/${roomId}`);\r\n    const snapshot = await get(roomRef);\r\n\r\n    if (!snapshot.exists()) {\r\n        throw new Error(\"Room not found\");\r\n    }\r\n\r\n    const room = snapshot.val();\r\n    if (room.status !== 'waiting') {\r\n        throw new Error(\"Game already started\");\r\n    }\r\n\r\n    // Add player\r\n    await update(ref(db, `rooms/${roomId}/players/${playerName}`), {\r\n        name: playerName,\r\n        progress: 0,\r\n        mistakes: 0,\r\n        status: 'playing'\r\n    });\r\n\r\n    // Start game if 2 players (simple assumption)\r\n    // Or manual start button\r\n    // For MVP: Auto start when 2nd player joins\r\n    if (Object.keys(room.players || {}).length >= 1) { // 1 means 1 existing, now 2\r\n        await update(ref(db, `rooms/${roomId}`), {\r\n            status: 'playing'\r\n        });\r\n    }\r\n};\r\n\r\nexport const subscribeToRoom = (roomId: string, callback: (room: Room) => void) => {\r\n    const roomRef = ref(db, `rooms/${roomId}`);\r\n    return onValue(roomRef, (snapshot) => {\r\n        const data = snapshot.val();\r\n        if (data) callback(data);\r\n    });\r\n};\r\n\r\nexport const updateProgress = async (roomId: string, playerName: string, progress: number, mistakes: number, status: 'playing' | 'won' | 'lost') => {\r\n    await update(ref(db, `rooms/${roomId}/players/${playerName}`), {\r\n        progress,\r\n        mistakes,\r\n        status\r\n    });\r\n\r\n    if (status === 'won') {\r\n        // Set winner if not already set\r\n        const roomRef = ref(db, `rooms/${roomId}`);\r\n        const snap = await get(roomRef);\r\n        if (!snap.val().winner) {\r\n            await update(roomRef, { winner: playerName, status: 'finished' });\r\n        }\r\n    }\r\n};\r\n"],"names":[],"mappings":";;;;;;;;;;AAAA;AACA;AAAA;AACA;;;;AAoBO,MAAM,aAAa,OAAO,YAAoB;IACjD,MAAM,WAAW,IAAA,4LAAG,EAAC,iIAAE,EAAE;IACzB,MAAM,aAAa,IAAA,6LAAI,EAAC;IAExB,MAAM,EAAE,OAAO,EAAE,MAAM,EAAE,GAAG,IAAA,wIAAc,EAAC;IAE3C,oEAAoE;IACpE,MAAM,SAAS,WAAW,GAAG;IAE7B,MAAM,IAAA,4LAAG,EAAC,YAAY;QAClB,IAAI;QACJ,QAAQ;QACR;QACA,cAAc;QACd,aAAa;QACb,SAAS;YACL,sBAAsB;YACtB,6CAA6C;YAC7C,uCAAuC;YACvC,CAAC,WAAW,EAAE;gBACV,MAAM;gBACN,UAAU;gBACV,UAAU;gBACV,QAAQ;YACZ;QACJ;QACA,QAAQ;IACZ;IAEA,OAAO;AACX;AAEO,MAAM,WAAW,OAAO,QAAgB;IAC3C,MAAM,UAAU,IAAA,4LAAG,EAAC,iIAAE,EAAE,CAAC,MAAM,EAAE,QAAQ;IACzC,MAAM,WAAW,MAAM,IAAA,4LAAG,EAAC;IAE3B,IAAI,CAAC,SAAS,MAAM,IAAI;QACpB,MAAM,IAAI,MAAM;IACpB;IAEA,MAAM,OAAO,SAAS,GAAG;IACzB,IAAI,KAAK,MAAM,KAAK,WAAW;QAC3B,MAAM,IAAI,MAAM;IACpB;IAEA,aAAa;IACb,MAAM,IAAA,+LAAM,EAAC,IAAA,4LAAG,EAAC,iIAAE,EAAE,CAAC,MAAM,EAAE,OAAO,SAAS,EAAE,YAAY,GAAG;QAC3D,MAAM;QACN,UAAU;QACV,UAAU;QACV,QAAQ;IACZ;IAEA,8CAA8C;IAC9C,yBAAyB;IACzB,4CAA4C;IAC5C,IAAI,OAAO,IAAI,CAAC,KAAK,OAAO,IAAI,CAAC,GAAG,MAAM,IAAI,GAAG;QAC7C,MAAM,IAAA,+LAAM,EAAC,IAAA,4LAAG,EAAC,iIAAE,EAAE,CAAC,MAAM,EAAE,QAAQ,GAAG;YACrC,QAAQ;QACZ;IACJ;AACJ;AAEO,MAAM,kBAAkB,CAAC,QAAgB;IAC5C,MAAM,UAAU,IAAA,4LAAG,EAAC,iIAAE,EAAE,CAAC,MAAM,EAAE,QAAQ;IACzC,OAAO,IAAA,gMAAO,EAAC,SAAS,CAAC;QACrB,MAAM,OAAO,SAAS,GAAG;QACzB,IAAI,MAAM,SAAS;IACvB;AACJ;AAEO,MAAM,iBAAiB,OAAO,QAAgB,YAAoB,UAAkB,UAAkB;IACzG,MAAM,IAAA,+LAAM,EAAC,IAAA,4LAAG,EAAC,iIAAE,EAAE,CAAC,MAAM,EAAE,OAAO,SAAS,EAAE,YAAY,GAAG;QAC3D;QACA;QACA;IACJ;IAEA,IAAI,WAAW,OAAO;QAClB,gCAAgC;QAChC,MAAM,UAAU,IAAA,4LAAG,EAAC,iIAAE,EAAE,CAAC,MAAM,EAAE,QAAQ;QACzC,MAAM,OAAO,MAAM,IAAA,4LAAG,EAAC;QACvB,IAAI,CAAC,KAAK,GAAG,GAAG,MAAM,EAAE;YACpB,MAAM,IAAA,+LAAM,EAAC,SAAS;gBAAE,QAAQ;gBAAY,QAAQ;YAAW;QACnE;IACJ;AACJ"}},
    {"offset": {"line": 989, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/MAHARSHI%20NATH/OneDrive/Documents/sudoku/components/layout/Lobby.tsx"],"sourcesContent":["import { useState } from 'react';\r\nimport { useGameStore } from '@/lib/store';\r\nimport { createRoom, joinRoom, subscribeToRoom } from '@/lib/firebase/rooms';\r\nimport { motion } from 'framer-motion';\r\n\r\nexport const Lobby = () => {\r\n    const { setMultiplayerState, startGame } = useGameStore();\r\n    const [name, setName] = useState('');\r\n    const [roomIdInput, setRoomIdInput] = useState('');\r\n    const [createdRoomId, setCreatedRoomId] = useState<string | null>(null);\r\n    const [error, setError] = useState('');\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    const handleCreate = async () => {\r\n        if (!name) {\r\n            setError(\"Please enter your name\");\r\n            return;\r\n        }\r\n        setLoading(true);\r\n        try {\r\n            const id = await createRoom(name, 'Medium');\r\n            setCreatedRoomId(id);\r\n            setMultiplayerState({ roomId: id, playerId: name, mode: 'pvp', status: 'idle' });\r\n\r\n            // Listen for opponent\r\n            subscribeToRoom(id, (room) => {\r\n                if (room.status === 'playing') {\r\n                    setMultiplayerState({\r\n                        status: 'playing',\r\n                        board: room.initialBoard,\r\n                        initialBoard: room.initialBoard,\r\n                        solvedBoard: room.solvedBoard,\r\n                        difficulty: room.difficulty\r\n                    });\r\n\r\n                    // Find opponent name\r\n                    const opponent = Object.values(room.players || {}).find(p => p.name !== name);\r\n                    if (opponent) {\r\n                        setMultiplayerState({ opponentName: opponent.name });\r\n                    }\r\n                }\r\n            });\r\n\r\n        } catch (e: any) {\r\n            setError(e.message);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const handleJoin = async () => {\r\n        if (!name || !roomIdInput) return;\r\n        setLoading(true);\r\n        try {\r\n            await joinRoom(roomIdInput, name);\r\n            setMultiplayerState({ roomId: roomIdInput, playerId: name, mode: 'pvp' });\r\n\r\n            // Listen\r\n            subscribeToRoom(roomIdInput, (room) => {\r\n                if (room.status === 'playing') {\r\n                    setMultiplayerState({\r\n                        status: 'playing',\r\n                        board: room.initialBoard,\r\n                        initialBoard: room.initialBoard,\r\n                        solvedBoard: room.solvedBoard,\r\n                        difficulty: room.difficulty\r\n                    });\r\n\r\n                    const opponent = Object.values(room.players || {}).find(p => p.name !== name);\r\n                    if (opponent) {\r\n                        setMultiplayerState({ opponentName: opponent.name });\r\n                    }\r\n                }\r\n            });\r\n\r\n        } catch (e: any) {\r\n            setError(e.message);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    if (createdRoomId) {\r\n        return (\r\n            <div className=\"flex flex-col items-center justify-center p-8 bg-white dark:bg-slate-800 rounded-2xl shadow-xl w-full max-w-md border border-slate-200 dark:border-slate-700\">\r\n                <h2 className=\"text-2xl font-bold mb-4 bg-gradient-to-r from-primary-600 to-accent-600 bg-clip-text text-transparent\">Room Created!</h2>\r\n                <div className=\"bg-slate-100 dark:bg-slate-900 p-6 rounded-xl mb-6 text-center w-full\">\r\n                    <p className=\"text-sm text-slate-500 mb-2 font-medium\">Share this Code:</p>\r\n                    <p className=\"text-4xl font-mono font-bold tracking-wider select-all cursor-pointer text-slate-800 dark:text-slate-200\">{createdRoomId}</p>\r\n                </div>\r\n                <div className=\"flex items-center gap-3 text-primary-600 dark:text-primary-400 animate-pulse font-medium\">\r\n                    <div className=\"w-2 h-2 rounded-full bg-primary-600 dark:bg-primary-400 animate-bounce\" />\r\n                    <span>Waiting for opponent...</span>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"flex flex-col gap-6 w-full max-w-sm mx-auto p-6 bg-white dark:bg-slate-800 rounded-2xl shadow-xl border border-slate-200 dark:border-slate-700\">\r\n            <h2 className=\"text-2xl font-bold text-center bg-gradient-to-r from-primary-600 to-accent-600 bg-clip-text text-transparent\">PvP Lobby</h2>\r\n\r\n            <input\r\n                type=\"text\"\r\n                placeholder=\"Your Name\"\r\n                value={name}\r\n                onChange={e => setName(e.target.value)}\r\n                className=\"w-full px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-900 focus:ring-2 focus:ring-primary-500 outline-none transition-all\"\r\n            />\r\n\r\n            <div className=\"flex flex-col gap-4\">\r\n                <button\r\n                    onClick={handleCreate}\r\n                    disabled={loading || !name}\r\n                    className=\"w-full py-3 bg-primary-600 text-white rounded-xl font-semibold hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors shadow-lg shadow-primary-500/20\"\r\n                >\r\n                    {loading ? 'Creating...' : 'Create Room'}\r\n                </button>\r\n\r\n                <div className=\"flex items-center gap-4\">\r\n                    <div className=\"h-[1px] bg-slate-200 dark:bg-slate-700 flex-1\" />\r\n                    <span className=\"text-slate-400 text-sm font-medium\">OR</span>\r\n                    <div className=\"h-[1px] bg-slate-200 dark:bg-slate-700 flex-1\" />\r\n                </div>\r\n\r\n                <div className=\"flex gap-2\">\r\n                    <input\r\n                        type=\"text\"\r\n                        placeholder=\"Room Code\"\r\n                        value={roomIdInput}\r\n                        onChange={e => setRoomIdInput(e.target.value)}\r\n                        className=\"flex-1 px-4 py-3 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-900 focus:ring-2 focus:ring-primary-500 outline-none transition-all\"\r\n                    />\r\n                    <button\r\n                        onClick={handleJoin}\r\n                        disabled={loading || !name || !roomIdInput}\r\n                        className=\"px-6 py-3 bg-slate-800 dark:bg-slate-700 text-white rounded-xl font-semibold hover:bg-slate-900 dark:hover:bg-slate-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\r\n                    >\r\n                        {loading ? '...' : 'Join'}\r\n                    </button>\r\n                </div>\r\n            </div>\r\n            {error && <p className=\"text-red-500 text-sm text-center font-medium bg-red-50 dark:bg-red-900/20 py-2 rounded-lg\">{error}</p>}\r\n        </div>\r\n    );\r\n};\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;;;;;AAGO,MAAM,QAAQ;IACjB,MAAM,EAAE,mBAAmB,EAAE,SAAS,EAAE,GAAG,IAAA,4HAAY;IACvD,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAC;IACjC,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAC;IAC/C,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,iNAAQ,EAAgB;IAClE,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAC;IACnC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IAEvC,MAAM,eAAe;QACjB,IAAI,CAAC,MAAM;YACP,SAAS;YACT;QACJ;QACA,WAAW;QACX,IAAI;YACA,MAAM,KAAK,MAAM,IAAA,sIAAU,EAAC,MAAM;YAClC,iBAAiB;YACjB,oBAAoB;gBAAE,QAAQ;gBAAI,UAAU;gBAAM,MAAM;gBAAO,QAAQ;YAAO;YAE9E,sBAAsB;YACtB,IAAA,2IAAe,EAAC,IAAI,CAAC;gBACjB,IAAI,KAAK,MAAM,KAAK,WAAW;oBAC3B,oBAAoB;wBAChB,QAAQ;wBACR,OAAO,KAAK,YAAY;wBACxB,cAAc,KAAK,YAAY;wBAC/B,aAAa,KAAK,WAAW;wBAC7B,YAAY,KAAK,UAAU;oBAC/B;oBAEA,qBAAqB;oBACrB,MAAM,WAAW,OAAO,MAAM,CAAC,KAAK,OAAO,IAAI,CAAC,GAAG,IAAI,CAAC,CAAA,IAAK,EAAE,IAAI,KAAK;oBACxE,IAAI,UAAU;wBACV,oBAAoB;4BAAE,cAAc,SAAS,IAAI;wBAAC;oBACtD;gBACJ;YACJ;QAEJ,EAAE,OAAO,GAAQ;YACb,SAAS,EAAE,OAAO;QACtB,SAAU;YACN,WAAW;QACf;IACJ;IAEA,MAAM,aAAa;QACf,IAAI,CAAC,QAAQ,CAAC,aAAa;QAC3B,WAAW;QACX,IAAI;YACA,MAAM,IAAA,oIAAQ,EAAC,aAAa;YAC5B,oBAAoB;gBAAE,QAAQ;gBAAa,UAAU;gBAAM,MAAM;YAAM;YAEvE,SAAS;YACT,IAAA,2IAAe,EAAC,aAAa,CAAC;gBAC1B,IAAI,KAAK,MAAM,KAAK,WAAW;oBAC3B,oBAAoB;wBAChB,QAAQ;wBACR,OAAO,KAAK,YAAY;wBACxB,cAAc,KAAK,YAAY;wBAC/B,aAAa,KAAK,WAAW;wBAC7B,YAAY,KAAK,UAAU;oBAC/B;oBAEA,MAAM,WAAW,OAAO,MAAM,CAAC,KAAK,OAAO,IAAI,CAAC,GAAG,IAAI,CAAC,CAAA,IAAK,EAAE,IAAI,KAAK;oBACxE,IAAI,UAAU;wBACV,oBAAoB;4BAAE,cAAc,SAAS,IAAI;wBAAC;oBACtD;gBACJ;YACJ;QAEJ,EAAE,OAAO,GAAQ;YACb,SAAS,EAAE,OAAO;QACtB,SAAU;YACN,WAAW;QACf;IACJ;IAEA,IAAI,eAAe;QACf,qBACI,8OAAC;YAAI,WAAU;;8BACX,8OAAC;oBAAG,WAAU;8BAAwG;;;;;;8BACtH,8OAAC;oBAAI,WAAU;;sCACX,8OAAC;4BAAE,WAAU;sCAA0C;;;;;;sCACvD,8OAAC;4BAAE,WAAU;sCAA4G;;;;;;;;;;;;8BAE7H,8OAAC;oBAAI,WAAU;;sCACX,8OAAC;4BAAI,WAAU;;;;;;sCACf,8OAAC;sCAAK;;;;;;;;;;;;;;;;;;IAItB;IAEA,qBACI,8OAAC;QAAI,WAAU;;0BACX,8OAAC;gBAAG,WAAU;0BAA+G;;;;;;0BAE7H,8OAAC;gBACG,MAAK;gBACL,aAAY;gBACZ,OAAO;gBACP,UAAU,CAAA,IAAK,QAAQ,EAAE,MAAM,CAAC,KAAK;gBACrC,WAAU;;;;;;0BAGd,8OAAC;gBAAI,WAAU;;kCACX,8OAAC;wBACG,SAAS;wBACT,UAAU,WAAW,CAAC;wBACtB,WAAU;kCAET,UAAU,gBAAgB;;;;;;kCAG/B,8OAAC;wBAAI,WAAU;;0CACX,8OAAC;gCAAI,WAAU;;;;;;0CACf,8OAAC;gCAAK,WAAU;0CAAqC;;;;;;0CACrD,8OAAC;gCAAI,WAAU;;;;;;;;;;;;kCAGnB,8OAAC;wBAAI,WAAU;;0CACX,8OAAC;gCACG,MAAK;gCACL,aAAY;gCACZ,OAAO;gCACP,UAAU,CAAA,IAAK,eAAe,EAAE,MAAM,CAAC,KAAK;gCAC5C,WAAU;;;;;;0CAEd,8OAAC;gCACG,SAAS;gCACT,UAAU,WAAW,CAAC,QAAQ,CAAC;gCAC/B,WAAU;0CAET,UAAU,QAAQ;;;;;;;;;;;;;;;;;;YAI9B,uBAAS,8OAAC;gBAAE,WAAU;0BAA6F;;;;;;;;;;;;AAGhI"}},
    {"offset": {"line": 1270, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/MAHARSHI%20NATH/OneDrive/Documents/sudoku/app/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { Board } from \"@/components/game/Board\";\nimport { GameControls } from \"@/components/game/GameControls\";\nimport { Numpad } from \"@/components/game/Numpad\";\nimport { Timer } from \"@/components/game/Timer\";\nimport { Lobby } from \"@/components/layout/Lobby\";\nimport { useGameStore } from \"@/lib/store\";\nimport { useEffect } from \"react\";\nimport { Users, User } from 'lucide-react';\n\nexport default function Home() {\n  const startGame = useGameStore(state => state.startGame);\n  const difficulty = useGameStore(state => state.difficulty);\n  const status = useGameStore(state => state.status);\n  const mode = useGameStore(state => state.mode);\n  const setMultiplayerState = useGameStore(state => state.setMultiplayerState);\n  const opponentName = useGameStore(state => state.opponentName);\n  const opponentProgress = useGameStore(state => state.opponentProgress);\n  const mistakes = useGameStore(state => state.mistakes);\n  const tickTimer = useGameStore(state => state.tickTimer);\n\n  useEffect(() => {\n    // Start single player by default only if not already set\n    if (status === 'idle' && mode === 'single') {\n      startGame(difficulty);\n    }\n  }, []);\n\n  // Centralized Timer Logic\n  useEffect(() => {\n    let interval: NodeJS.Timeout;\n    if (status === 'playing') {\n      interval = setInterval(() => {\n        tickTimer();\n      }, 1000);\n    }\n    return () => clearInterval(interval);\n  }, [status, tickTimer]);\n\n\n  return (\n    <main className=\"flex min-h-screen flex-col items-center justify-center p-4 bg-slate-50 font-sans transition-colors\">\n\n      {/* Sidebar / Mode Selection */}\n      <div className=\"absolute top-4 left-4 flex gap-2 z-50\">\n        <button\n          onClick={() => startGame('Medium', 'single')}\n          className={`flex items-center gap-2 px-4 py-2 rounded-full transition-colors border ${mode === 'single' ? 'bg-slate-800 text-white border-slate-800' : 'bg-white text-slate-700 border-slate-200 shadow-sm'}`}\n        >\n          <User size={18} />\n          <span className=\"hidden sm:inline font-medium\">Single</span>\n        </button>\n        <button\n          onClick={() => setMultiplayerState({ mode: 'pvp', status: 'idle' })}\n          className={`flex items-center gap-2 px-4 py-2 rounded-full transition-colors border ${mode === 'pvp' ? 'bg-indigo-600 text-white border-indigo-600' : 'bg-white text-slate-700 border-slate-200 shadow-sm'}`}\n        >\n          <Users size={18} />\n          <span className=\"hidden sm:inline font-medium\">PvP</span>\n        </button>\n      </div>\n\n      {mode === 'pvp' && status !== 'playing' && status !== 'won' && status !== 'lost' ? (\n        <Lobby />\n      ) : (\n        <div className=\"flex flex-col lg:flex-row items-center justify-center gap-16 w-full max-w-7xl px-4 mt-12 lg:mt-0\">\n\n          {/* Left/Top: Header & Board */}\n          <div className=\"flex flex-col gap-6 items-center w-full max-w-[600px]\">\n            {/* Top Bar with Difficulty (Desktop) */}\n            <div className=\"hidden lg:flex w-full justify-between items-center text-slate-500 font-medium px-2\">\n              <div className=\"flex gap-4 text-sm\">\n                <span className=\"text-slate-400 font-semibold uppercase tracking-wider text-xs\">Difficulty</span>\n                {(['Easy', 'Medium', 'Hard', 'Expert'] as const).map(diff => (\n                  <button\n                    key={diff}\n                    onClick={() => {\n                      startGame(diff, 'single');\n                    }}\n                    className={`hover:text-indigo-600 transition-colors ${difficulty === diff ? 'text-indigo-600 font-bold underline decoration-2 underline-offset-4' : ''}`}\n                  >\n                    {diff}\n                  </button>\n                ))}\n              </div>\n              <div className=\"text-3xl font-bold text-slate-800 font-mono\">\n                <Timer />\n              </div>\n            </div>\n\n            {/* Game Board Container */}\n            <div className=\"relative w-full aspect-square\">\n              <Board />\n\n              {/* Shadow Board for PvP */}\n              {mode === 'pvp' && (\n                <div className=\"absolute top-0 left-0 w-full h-full pointer-events-none border-4 border-yellow-400/50 rounded-lg animate-pulse\" />\n              )}\n            </div>\n          </div>\n\n          {/* Right Side: Controls */}\n          <div className=\"flex flex-col gap-8 w-full max-w-sm mt-8 lg:mt-12\">\n\n            {/* Stats Row */}\n            <div className=\"flex justify-between items-center text-slate-600 font-medium px-4\">\n              <div className=\"flex flex-col\">\n                <span className=\"text-xs uppercase tracking-wider text-slate-400 font-bold\">Mistakes</span>\n                <span className={`text-4xl font-light ${mistakes >= 3 ? 'text-red-500' : 'text-slate-800'}`}>\n                  {status === 'playing' ? `${mistakes}/3` : '-/-'}\n                </span>\n              </div>\n              <div className=\"flex flex-col items-end lg:hidden\">\n                <span className=\"text-xs uppercase tracking-wider text-slate-400 font-bold\">Time</span>\n                <Timer />\n              </div>\n            </div>\n\n            {/* Action Buttons (Icons) */}\n            <GameControls />\n\n            {/* Numpad */}\n            <Numpad />\n\n            {/* New Game Button */}\n            <button\n              onClick={() => startGame(difficulty, mode)}\n              className=\"w-full py-4 bg-slate-900 text-white rounded-xl text-lg font-bold shadow-lg hover:bg-slate-800 transition-all active:scale-95 tracking-wide\"\n            >\n              New Game\n            </button>\n          </div>\n\n          {/* Game Over / Win Overlay */}\n          {(status === 'won' || status === 'lost') && (\n            <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-white/80 backdrop-blur-md p-4 animate-in fade-in duration-300\">\n              <div className=\"bg-white p-12 rounded-3xl shadow-2xl max-w-md w-full text-center border border-slate-100\">\n                <h2 className={`text-5xl font-black mb-6 ${status === 'won' ? 'text-indigo-600' : 'text-rose-500'}`}>\n                  {status === 'won' ? 'Solved!' : 'Failed'}\n                </h2>\n                <p className=\"text-slate-500 text-lg mb-10 leading-relaxed\">\n                  {status === 'won'\n                    ? `Congratulations! You've mastered the ${difficulty} board.`\n                    : \"Don't give up. The numbers are waiting for you.\"}\n                </p>\n                <button\n                  onClick={() => startGame(difficulty, mode)}\n                  className=\"w-full py-4 bg-indigo-600 text-white rounded-2xl font-bold text-xl hover:bg-indigo-700 hover:scale-[1.02] transition-all shadow-xl shadow-indigo-200\"\n                >\n                  Play Again\n                </button>\n              </div>\n            </div>\n          )}\n        </div>\n      )}\n    </main>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}