{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/MAHARSHI%20NATH/OneDrive/Documents/sudoku/lib/utils.ts"],"sourcesContent":["import { type ClassValue, clsx } from \"clsx\";\r\nimport { twMerge } from \"tailwind-merge\";\r\n\r\nexport function cn(...inputs: ClassValue[]) {\r\n    return twMerge(clsx(inputs));\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACtC,OAAO,IAAA,yKAAO,EAAC,IAAA,gJAAI,EAAC;AACxB"}},
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/MAHARSHI%20NATH/OneDrive/Documents/sudoku/lib/logic/sudoku.ts"],"sourcesContent":["// lib/logic/sudoku.ts\r\n\r\nexport type Difficulty = 'Easy' | 'Medium' | 'Hard' | 'Expert';\r\n\r\nexport const BLANK = 0;\r\nexport const GRID_SIZE = 9;\r\n\r\nexport function isValid(board: number[][], row: number, col: number, num: number): boolean {\r\n    for (let i = 0; i < GRID_SIZE; i++) {\r\n        if (board[row][i] === num && i !== col) return false;\r\n        if (board[i][col] === num && i !== row) return false;\r\n        const blockRow = 3 * Math.floor(row / 3) + Math.floor(i / 3);\r\n        const blockCol = 3 * Math.floor(col / 3) + (i % 3);\r\n        if (board[blockRow][blockCol] === num && (blockRow !== row || blockCol !== col)) return false;\r\n    }\r\n    return true;\r\n}\r\n\r\nexport function solveSudoku(board: number[][], randomize = false): boolean {\r\n    for (let row = 0; row < GRID_SIZE; row++) {\r\n        for (let col = 0; col < GRID_SIZE; col++) {\r\n            if (board[row][col] === BLANK) {\r\n                const nums = [1, 2, 3, 4, 5, 6, 7, 8, 9];\r\n                if (randomize) {\r\n                    // Fisher-Yates shuffle\r\n                    for (let i = nums.length - 1; i > 0; i--) {\r\n                        const j = Math.floor(Math.random() * (i + 1));\r\n                        [nums[i], nums[j]] = [nums[j], nums[i]];\r\n                    }\r\n                }\r\n\r\n                for (const num of nums) {\r\n                    if (isValid(board, row, col, num)) {\r\n                        board[row][col] = num;\r\n                        if (solveSudoku(board, randomize)) return true;\r\n                        board[row][col] = BLANK;\r\n                    }\r\n                }\r\n                return false;\r\n            }\r\n        }\r\n    }\r\n    return true;\r\n}\r\n\r\nexport function generateSudoku(difficulty: Difficulty): { initial: number[][], solved: number[][] } {\r\n    // 1. Generate a solved board\r\n    const solved = Array.from({ length: GRID_SIZE }, () => Array(GRID_SIZE).fill(BLANK));\r\n    solveSudoku(solved, true);\r\n\r\n    // 2. Clone for the puzzle\r\n    const initial = solved.map(row => [...row]);\r\n\r\n    // 3. Remove numbers based on difficulty\r\n    let attempts = difficulty === 'Easy' ? 30\r\n        : difficulty === 'Medium' ? 45\r\n            : difficulty === 'Hard' ? 55\r\n                : 60; // Expert\r\n\r\n    while (attempts > 0) {\r\n        let row = Math.floor(Math.random() * GRID_SIZE);\r\n        let col = Math.floor(Math.random() * GRID_SIZE);\r\n        while (initial[row][col] === BLANK) {\r\n            row = Math.floor(Math.random() * GRID_SIZE);\r\n            col = Math.floor(Math.random() * GRID_SIZE);\r\n        }\r\n\r\n        // Backup\r\n        // const backup = initial[row][col];\r\n        initial[row][col] = BLANK;\r\n\r\n        // Check if unique solution exists (simplified: just check if removing it made it unsolvable or ambiguous - for now assume standard removal is fine enough for this demo, or implement full unique check if needed. For speed, we'll stick to a probabilistic approach or just ensure at least 1 solution remains, which is guaranteed if we start from solved. Uniqueness is harder but let's trust the \"attempts\" heuristic for now.)\r\n        // A true unique checker solves the board again and ensures only 1 solution. \r\n        // For this MVP, we will skip strict uniqueness check to ensure performance, \r\n        // but normally you'd check `countSolutions(initial) === 1`.\r\n\r\n        attempts--;\r\n    }\r\n\r\n    return { initial, solved };\r\n}\r\n"],"names":[],"mappings":"AAAA,sBAAsB;;;;;;;;;;;;;AAIf,MAAM,QAAQ;AACd,MAAM,YAAY;AAElB,SAAS,QAAQ,KAAiB,EAAE,GAAW,EAAE,GAAW,EAAE,GAAW;IAC5E,IAAK,IAAI,IAAI,GAAG,IAAI,WAAW,IAAK;QAChC,IAAI,KAAK,CAAC,IAAI,CAAC,EAAE,KAAK,OAAO,MAAM,KAAK,OAAO;QAC/C,IAAI,KAAK,CAAC,EAAE,CAAC,IAAI,KAAK,OAAO,MAAM,KAAK,OAAO;QAC/C,MAAM,WAAW,IAAI,KAAK,KAAK,CAAC,MAAM,KAAK,KAAK,KAAK,CAAC,IAAI;QAC1D,MAAM,WAAW,IAAI,KAAK,KAAK,CAAC,MAAM,KAAM,IAAI;QAChD,IAAI,KAAK,CAAC,SAAS,CAAC,SAAS,KAAK,OAAO,CAAC,aAAa,OAAO,aAAa,GAAG,GAAG,OAAO;IAC5F;IACA,OAAO;AACX;AAEO,SAAS,YAAY,KAAiB,EAAE,YAAY,KAAK;IAC5D,IAAK,IAAI,MAAM,GAAG,MAAM,WAAW,MAAO;QACtC,IAAK,IAAI,MAAM,GAAG,MAAM,WAAW,MAAO;YACtC,IAAI,KAAK,CAAC,IAAI,CAAC,IAAI,KAAK,OAAO;gBAC3B,MAAM,OAAO;oBAAC;oBAAG;oBAAG;oBAAG;oBAAG;oBAAG;oBAAG;oBAAG;oBAAG;iBAAE;gBACxC,IAAI,WAAW;oBACX,uBAAuB;oBACvB,IAAK,IAAI,IAAI,KAAK,MAAM,GAAG,GAAG,IAAI,GAAG,IAAK;wBACtC,MAAM,IAAI,KAAK,KAAK,CAAC,KAAK,MAAM,KAAK,CAAC,IAAI,CAAC;wBAC3C,CAAC,IAAI,CAAC,EAAE,EAAE,IAAI,CAAC,EAAE,CAAC,GAAG;4BAAC,IAAI,CAAC,EAAE;4BAAE,IAAI,CAAC,EAAE;yBAAC;oBAC3C;gBACJ;gBAEA,KAAK,MAAM,OAAO,KAAM;oBACpB,IAAI,QAAQ,OAAO,KAAK,KAAK,MAAM;wBAC/B,KAAK,CAAC,IAAI,CAAC,IAAI,GAAG;wBAClB,IAAI,YAAY,OAAO,YAAY,OAAO;wBAC1C,KAAK,CAAC,IAAI,CAAC,IAAI,GAAG;oBACtB;gBACJ;gBACA,OAAO;YACX;QACJ;IACJ;IACA,OAAO;AACX;AAEO,SAAS,eAAe,UAAsB;IACjD,6BAA6B;IAC7B,MAAM,SAAS,MAAM,IAAI,CAAC;QAAE,QAAQ;IAAU,GAAG,IAAM,MAAM,WAAW,IAAI,CAAC;IAC7E,YAAY,QAAQ;IAEpB,0BAA0B;IAC1B,MAAM,UAAU,OAAO,GAAG,CAAC,CAAA,MAAO;eAAI;SAAI;IAE1C,wCAAwC;IACxC,IAAI,WAAW,eAAe,SAAS,KACjC,eAAe,WAAW,KACtB,eAAe,SAAS,KACpB,IAAI,SAAS;IAE3B,MAAO,WAAW,EAAG;QACjB,IAAI,MAAM,KAAK,KAAK,CAAC,KAAK,MAAM,KAAK;QACrC,IAAI,MAAM,KAAK,KAAK,CAAC,KAAK,MAAM,KAAK;QACrC,MAAO,OAAO,CAAC,IAAI,CAAC,IAAI,KAAK,MAAO;YAChC,MAAM,KAAK,KAAK,CAAC,KAAK,MAAM,KAAK;YACjC,MAAM,KAAK,KAAK,CAAC,KAAK,MAAM,KAAK;QACrC;QAEA,SAAS;QACT,oCAAoC;QACpC,OAAO,CAAC,IAAI,CAAC,IAAI,GAAG;QAEpB,uaAAua;QACva,6EAA6E;QAC7E,6EAA6E;QAC7E,4DAA4D;QAE5D;IACJ;IAEA,OAAO;QAAE;QAAS;IAAO;AAC7B"}},
    {"offset": {"line": 125, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/MAHARSHI%20NATH/OneDrive/Documents/sudoku/lib/logic/hints.ts"],"sourcesContent":["// lib/logic/hints.ts — Pure logic-based Sudoku hint engine\r\n// No external dependencies. O(81) per strategy scan.\r\n\r\nimport { GRID_SIZE } from './sudoku';\r\n\r\nexport interface HintResult {\r\n    r: number;\r\n    c: number;\r\n    value: number;\r\n    reason: string;\r\n    strategy: 'naked_single' | 'hidden_single' | 'fallback';\r\n}\r\n\r\n/**\r\n * Get all valid candidates for a cell by elimination.\r\n * O(27) per cell — checks row (9) + col (9) + box (9).\r\n */\r\nfunction getCandidates(board: number[][], r: number, c: number): Set<number> {\r\n    const candidates = new Set([1, 2, 3, 4, 5, 6, 7, 8, 9]);\r\n\r\n    // Eliminate from row and column in one pass\r\n    for (let i = 0; i < GRID_SIZE; i++) {\r\n        candidates.delete(board[r][i]);\r\n        candidates.delete(board[i][c]);\r\n    }\r\n\r\n    // Eliminate from 3x3 box\r\n    const boxR = Math.floor(r / 3) * 3;\r\n    const boxC = Math.floor(c / 3) * 3;\r\n    for (let i = 0; i < 3; i++) {\r\n        for (let j = 0; j < 3; j++) {\r\n            candidates.delete(board[boxR + i][boxC + j]);\r\n        }\r\n    }\r\n\r\n    return candidates;\r\n}\r\n\r\n/**\r\n * Naked Single: Find a cell with exactly one possible candidate.\r\n * Scans all 81 cells. Returns the first match.\r\n */\r\nfunction findNakedSingle(board: number[][]): HintResult | null {\r\n    for (let r = 0; r < GRID_SIZE; r++) {\r\n        for (let c = 0; c < GRID_SIZE; c++) {\r\n            if (board[r][c] !== 0) continue;\r\n\r\n            const candidates = getCandidates(board, r, c);\r\n            if (candidates.size === 1) {\r\n                const value = candidates.values().next().value!;\r\n                return {\r\n                    r, c, value,\r\n                    reason: `Only ${value} can go in R${r + 1}C${c + 1} — all other numbers are already in this row, column, or box.`,\r\n                    strategy: 'naked_single',\r\n                };\r\n            }\r\n        }\r\n    }\r\n    return null;\r\n}\r\n\r\n/**\r\n * Hidden Single: Find a number that can only go in one cell within a unit (row/col/box).\r\n * Scans 27 units × 9 numbers = 243 checks. Returns the first match.\r\n */\r\nfunction findHiddenSingle(board: number[][]): HintResult | null {\r\n    // Check each row\r\n    for (let r = 0; r < GRID_SIZE; r++) {\r\n        const result = findHiddenInUnit(board, getRowCells(r), `Row ${r + 1}`);\r\n        if (result) return result;\r\n    }\r\n\r\n    // Check each column\r\n    for (let c = 0; c < GRID_SIZE; c++) {\r\n        const result = findHiddenInUnit(board, getColCells(c), `Column ${c + 1}`);\r\n        if (result) return result;\r\n    }\r\n\r\n    // Check each 3x3 box\r\n    for (let boxR = 0; boxR < 3; boxR++) {\r\n        for (let boxC = 0; boxC < 3; boxC++) {\r\n            const result = findHiddenInUnit(board, getBoxCells(boxR, boxC), `Box ${boxR * 3 + boxC + 1}`);\r\n            if (result) return result;\r\n        }\r\n    }\r\n\r\n    return null;\r\n}\r\n\r\n/** Helper: find a hidden single within one unit (row, col, or box). */\r\nfunction findHiddenInUnit(\r\n    board: number[][],\r\n    cells: { r: number; c: number }[],\r\n    unitName: string\r\n): HintResult | null {\r\n    // For each number 1-9, count how many cells in this unit can hold it\r\n    for (let num = 1; num <= 9; num++) {\r\n        // Skip if number is already placed in this unit\r\n        let alreadyPlaced = false;\r\n        for (const { r, c } of cells) {\r\n            if (board[r][c] === num) { alreadyPlaced = true; break; }\r\n        }\r\n        if (alreadyPlaced) continue;\r\n\r\n        // Find empty cells where this number is a valid candidate\r\n        let possibleCell: { r: number; c: number } | null = null;\r\n        let count = 0;\r\n\r\n        for (const { r, c } of cells) {\r\n            if (board[r][c] !== 0) continue;\r\n            const candidates = getCandidates(board, r, c);\r\n            if (candidates.has(num)) {\r\n                possibleCell = { r, c };\r\n                count++;\r\n                if (count > 1) break; // Not unique, skip\r\n            }\r\n        }\r\n\r\n        if (count === 1 && possibleCell) {\r\n            return {\r\n                r: possibleCell.r,\r\n                c: possibleCell.c,\r\n                value: num,\r\n                reason: `${num} can only go here in ${unitName} — no other empty cell in this ${unitName.toLowerCase().split(' ')[0]} can hold it.`,\r\n                strategy: 'hidden_single',\r\n            };\r\n        }\r\n    }\r\n    return null;\r\n}\r\n\r\n// --- Cell coordinate helpers (zero-allocation arrays) ---\r\n\r\nfunction getRowCells(r: number): { r: number; c: number }[] {\r\n    const cells = [];\r\n    for (let c = 0; c < GRID_SIZE; c++) cells.push({ r, c });\r\n    return cells;\r\n}\r\n\r\nfunction getColCells(c: number): { r: number; c: number }[] {\r\n    const cells = [];\r\n    for (let r = 0; r < GRID_SIZE; r++) cells.push({ r, c });\r\n    return cells;\r\n}\r\n\r\nfunction getBoxCells(boxR: number, boxC: number): { r: number; c: number }[] {\r\n    const cells = [];\r\n    const startR = boxR * 3;\r\n    const startC = boxC * 3;\r\n    for (let i = 0; i < 3; i++) {\r\n        for (let j = 0; j < 3; j++) {\r\n            cells.push({ r: startR + i, c: startC + j });\r\n        }\r\n    }\r\n    return cells;\r\n}\r\n\r\n/**\r\n * Main entry point: Get the best available hint.\r\n * Tries strategies in order of simplicity. Falls back to solvedBoard lookup.\r\n */\r\nexport function getSmartHint(board: number[][], solvedBoard: number[][]): HintResult | null {\r\n    // 1. Try Naked Single (fastest, easiest to explain)\r\n    const naked = findNakedSingle(board);\r\n    if (naked) return naked;\r\n\r\n    // 2. Try Hidden Single\r\n    const hidden = findHiddenSingle(board);\r\n    if (hidden) return hidden;\r\n\r\n    // 3. Fallback: pick a random empty cell and reveal from solution\r\n    const emptyCells: { r: number; c: number }[] = [];\r\n    for (let r = 0; r < GRID_SIZE; r++) {\r\n        for (let c = 0; c < GRID_SIZE; c++) {\r\n            if (board[r][c] === 0) emptyCells.push({ r, c });\r\n        }\r\n    }\r\n\r\n    if (emptyCells.length === 0) return null;\r\n\r\n    const cell = emptyCells[Math.floor(Math.random() * emptyCells.length)];\r\n    const value = solvedBoard[cell.r][cell.c];\r\n\r\n    return {\r\n        r: cell.r,\r\n        c: cell.c,\r\n        value,\r\n        reason: `The answer for R${cell.r + 1}C${cell.c + 1} is ${value}.`,\r\n        strategy: 'fallback',\r\n    };\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 313, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/MAHARSHI%20NATH/OneDrive/Documents/sudoku/lib/firebase/firebase.ts"],"sourcesContent":["import { initializeApp, getApps, getApp, FirebaseApp } from \"firebase/app\";\r\nimport { getDatabase, Database } from \"firebase/database\";\r\nimport { getAuth, Auth } from \"firebase/auth\";\r\n\r\nconst firebaseConfig = {\r\n    apiKey: process.env.NEXT_PUBLIC_FIREBASE_API_KEY,\r\n    authDomain: process.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN,\r\n    databaseURL: process.env.NEXT_PUBLIC_FIREBASE_DATABASE_URL || \"https://sudoku-fb1a9-default-rtdb.firebaseio.com\",\r\n    projectId: process.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID,\r\n    storageBucket: process.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET,\r\n    messagingSenderId: process.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID,\r\n    appId: process.env.NEXT_PUBLIC_FIREBASE_APP_ID\r\n};\r\n\r\n// Initialize Firebase\r\nlet app: FirebaseApp | undefined;\r\nlet db: Database | undefined;\r\nlet auth: Auth | undefined;\r\n\r\ntry {\r\n    if (firebaseConfig.apiKey) {\r\n        app = !getApps().length ? initializeApp(firebaseConfig) : getApp();\r\n        db = getDatabase(app);\r\n        auth = getAuth(app);\r\n    } else {\r\n        console.warn(\"Firebase config missing. Firebase features will not work.\");\r\n    }\r\n} catch (e) {\r\n    console.warn(\"Firebase initialization failed:\", e);\r\n}\r\n\r\nexport { app, db, auth };\r\n"],"names":[],"mappings":";;;;;;;;AAKY;AALZ;AAAA;AACA;AAAA;AACA;AAAA;;;;AAEA,MAAM,iBAAiB;IACnB,MAAM;IACN,UAAU;IACV,aAAa,wFAAiD;IAC9D,SAAS;IACT,aAAa;IACb,iBAAiB;IACjB,KAAK;AACT;AAEA,sBAAsB;AACtB,IAAI;AACJ,IAAI;AACJ,IAAI;AAEJ,IAAI;IACA,IAAI,eAAe,MAAM,EAAE;QACvB,MAAM,CAAC,IAAA,8KAAO,IAAG,MAAM,GAAG,IAAA,oLAAa,EAAC,kBAAkB,IAAA,6KAAM;QAChE,KAAK,IAAA,gLAAW,EAAC;QACjB,OAAO,IAAA,wKAAO,EAAC;IACnB,OAAO;QACH,QAAQ,IAAI,CAAC;IACjB;AACJ,EAAE,OAAO,GAAG;IACR,QAAQ,IAAI,CAAC,mCAAmC;AACpD"}},
    {"offset": {"line": 363, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/MAHARSHI%20NATH/OneDrive/Documents/sudoku/lib/firebase/users.ts"],"sourcesContent":["import { db } from \"./firebase\";\r\nimport { ref, get, set, update } from \"firebase/database\";\r\n\r\nexport interface UserStats {\r\n    gamesPlayed: number;\r\n    gamesWon: number;\r\n    bestTime: {\r\n        easy: number | null;\r\n        medium: number | null;\r\n        hard: number | null;\r\n        expert: number | null;\r\n    };\r\n    totalMistakes: number;\r\n}\r\n\r\nexport interface UserProfile {\r\n    uid: string;\r\n    displayName: string;\r\n    stats: UserStats;\r\n    lastActive: number;\r\n}\r\n\r\nconst DEFAULT_STATS: UserStats = {\r\n    gamesPlayed: 0,\r\n    gamesWon: 0,\r\n    bestTime: {\r\n        easy: null,\r\n        medium: null,\r\n        hard: null,\r\n        expert: null\r\n    },\r\n    totalMistakes: 0\r\n};\r\n\r\n/**\r\n * Get or create user profile from Realtime Database.\r\n */\r\nexport const getUserProfile = async (uid: string, displayName: string = \"Player\"): Promise<UserProfile> => {\r\n    if (!db) throw new Error(\"DB not initialized\");\r\n\r\n    const userRef = ref(db, `users/${uid}`);\r\n    const snapshot = await get(userRef);\r\n\r\n    if (snapshot.exists()) {\r\n        return snapshot.val() as UserProfile;\r\n    } else {\r\n        const newProfile: UserProfile = {\r\n            uid,\r\n            displayName,\r\n            stats: DEFAULT_STATS,\r\n            lastActive: Date.now()\r\n        };\r\n        await set(userRef, newProfile);\r\n        return newProfile;\r\n    }\r\n};\r\n\r\n/**\r\n * Update user statistics after a game.\r\n */\r\nexport const updateUserStats = async (\r\n    uid: string,\r\n    won: boolean,\r\n    time: number | null,\r\n    difficulty: keyof UserStats['bestTime'],\r\n    mistakes: number\r\n) => {\r\n    if (!db) return;\r\n\r\n    const userRef = ref(db, `users/${uid}`);\r\n    const snapshot = await get(userRef);\r\n\r\n    if (!snapshot.exists()) return;\r\n\r\n    const profile = snapshot.val() as UserProfile;\r\n    const stats = profile.stats || { ...DEFAULT_STATS };\r\n\r\n    stats.gamesPlayed += 1;\r\n    if (won) stats.gamesWon += 1;\r\n    stats.totalMistakes += mistakes;\r\n\r\n    if (won && time !== null) {\r\n        const currentBest = stats.bestTime[difficulty];\r\n        if (currentBest === null || time < currentBest) {\r\n            stats.bestTime[difficulty] = time;\r\n        }\r\n    }\r\n\r\n    await update(userRef, {\r\n        stats,\r\n        lastActive: Date.now()\r\n    });\r\n};\r\n"],"names":[],"mappings":";;;;;;AAAA;AACA;AAAA;;;AAqBA,MAAM,gBAA2B;IAC7B,aAAa;IACb,UAAU;IACV,UAAU;QACN,MAAM;QACN,QAAQ;QACR,MAAM;QACN,QAAQ;IACZ;IACA,eAAe;AACnB;AAKO,MAAM,iBAAiB,OAAO,KAAa,cAAsB,QAAQ;IAC5E,IAAI,CAAC,oIAAE,EAAE,MAAM,IAAI,MAAM;IAEzB,MAAM,UAAU,IAAA,wKAAG,EAAC,oIAAE,EAAE,CAAC,MAAM,EAAE,KAAK;IACtC,MAAM,WAAW,MAAM,IAAA,wKAAG,EAAC;IAE3B,IAAI,SAAS,MAAM,IAAI;QACnB,OAAO,SAAS,GAAG;IACvB,OAAO;QACH,MAAM,aAA0B;YAC5B;YACA;YACA,OAAO;YACP,YAAY,KAAK,GAAG;QACxB;QACA,MAAM,IAAA,wKAAG,EAAC,SAAS;QACnB,OAAO;IACX;AACJ;AAKO,MAAM,kBAAkB,OAC3B,KACA,KACA,MACA,YACA;IAEA,IAAI,CAAC,oIAAE,EAAE;IAET,MAAM,UAAU,IAAA,wKAAG,EAAC,oIAAE,EAAE,CAAC,MAAM,EAAE,KAAK;IACtC,MAAM,WAAW,MAAM,IAAA,wKAAG,EAAC;IAE3B,IAAI,CAAC,SAAS,MAAM,IAAI;IAExB,MAAM,UAAU,SAAS,GAAG;IAC5B,MAAM,QAAQ,QAAQ,KAAK,IAAI;QAAE,GAAG,aAAa;IAAC;IAElD,MAAM,WAAW,IAAI;IACrB,IAAI,KAAK,MAAM,QAAQ,IAAI;IAC3B,MAAM,aAAa,IAAI;IAEvB,IAAI,OAAO,SAAS,MAAM;QACtB,MAAM,cAAc,MAAM,QAAQ,CAAC,WAAW;QAC9C,IAAI,gBAAgB,QAAQ,OAAO,aAAa;YAC5C,MAAM,QAAQ,CAAC,WAAW,GAAG;QACjC;IACJ;IAEA,MAAM,IAAA,2KAAM,EAAC,SAAS;QAClB;QACA,YAAY,KAAK,GAAG;IACxB;AACJ"}},
    {"offset": {"line": 432, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/MAHARSHI%20NATH/OneDrive/Documents/sudoku/lib/store.ts"],"sourcesContent":["import { create } from 'zustand';\r\nimport { generateSudoku, BLANK, GRID_SIZE, Difficulty } from './logic/sudoku';\r\nimport { getSmartHint, HintResult } from './logic/hints';\r\nimport { updateUserStats, UserStats } from './firebase/users';\r\n\r\ninterface GameState {\r\n    board: number[][];\r\n    initialBoard: number[][];\r\n    solvedBoard: number[][];\r\n    notes: Set<string>; // stored as \"row,col,num\"\r\n    difficulty: Difficulty;\r\n    status: 'idle' | 'waiting' | 'playing' | 'won' | 'lost';\r\n    timer: number;\r\n    mistakes: number;\r\n    maxMistakes: number;\r\n    history: number[][][]; // for undo\r\n    isNotesMode: boolean;\r\n    selectedCell: { r: number, c: number } | null;\r\n    hintsRemaining: number;\r\n    lastHint: HintResult | null;\r\n    hoveredCell: { r: number, c: number } | null;\r\n    highlightedNumber: number | null;\r\n    opponentHoveredCells: { r: number, c: number }[];\r\n    cellOwners: Record<string, string>;\r\n    currentTurn: string | null;\r\n    conflicts: Set<string>; // stored as \"r,c\"\r\n\r\n    // Multiplayer\r\n    mode: 'single' | 'pvp' | 'bot';\r\n    roomId: string | null;\r\n    playerId: string | null;\r\n    uid: string | null;\r\n    playerName: string | null;\r\n    opponentProgress: number; // 0-100\r\n    opponentName: string | null;\r\n    opponentStatus: 'playing' | 'won' | 'lost' | 'waiting' | null;\r\n    isFirebaseConnected: boolean;\r\n    lastSyncError: string | null;\r\n\r\n    // Actions\r\n    startGame: (difficulty: Difficulty, mode?: 'single' | 'pvp' | 'bot') => void;\r\n    selectCell: (r: number, c: number) => void;\r\n    setCellValue: (num: number) => void;\r\n    toggleNotesMode: () => void;\r\n    undo: () => void;\r\n    resetGame: () => void;\r\n    tickTimer: () => void;\r\n\r\n    // PvP Actions\r\n    setMultiplayerState: (state: Partial<GameState>) => void;\r\n    syncAction: ((action: { type: 'CELL', r: number, c: number, val: number, progress: number, mistakes: number, status: 'playing' | 'won' | 'lost', switchTurn?: boolean }) => void) | null;\r\n    setSyncAction: (fn: GameState['syncAction']) => void;\r\n\r\n    // Hint\r\n    getHint: () => void;\r\n\r\n    // Hover state for drag and drop\r\n    setHoveredCell: (cell: { r: number, c: number } | null) => void;\r\n    setHighlightedNumber: (num: number | null) => void;\r\n    setRemoteBoard: (board: number[][]) => void;\r\n    setCellOwners: (owners: Record<string, string>) => void;\r\n    setCurrentTurn: (uid: string | null) => void;\r\n\r\n    // Bot Action\r\n    playBotMove: () => void;\r\n    calculateConflicts: (board: number[][]) => Set<string>;\r\n}\r\n\r\nexport const useGameStore = create<GameState>((set, get) => ({\r\n    board: [],\r\n    initialBoard: [],\r\n    solvedBoard: [],\r\n    notes: new Set(),\r\n    conflicts: new Set(),\r\n    difficulty: 'Medium',\r\n    status: 'idle',\r\n    timer: 0,\r\n    mistakes: 0,\r\n    maxMistakes: 3,\r\n    history: [],\r\n    isNotesMode: false,\r\n    selectedCell: null,\r\n    hintsRemaining: 3,\r\n    lastHint: null,\r\n    hoveredCell: null,\r\n    highlightedNumber: null,\r\n    opponentHoveredCells: [],\r\n    cellOwners: {},\r\n    currentTurn: null,\r\n\r\n    mode: 'single',\r\n    roomId: null,\r\n    playerId: null,\r\n    uid: null,\r\n    playerName: null,\r\n    opponentProgress: 0,\r\n    opponentName: null,\r\n    opponentStatus: null,\r\n    isFirebaseConnected: true, // Default to true, listener will update\r\n    lastSyncError: null,\r\n    syncAction: null,\r\n\r\n    setSyncAction: (fn) => set({ syncAction: fn }),\r\n    setRemoteBoard: (board: number[][]) => {\r\n        const conflicts = get().calculateConflicts(board);\r\n        set({ board, conflicts });\r\n    },\r\n    setCellOwners: (owners: Record<string, string>) => set({ cellOwners: owners }),\r\n    setCurrentTurn: (uid: string | null) => set({ currentTurn: uid }),\r\n\r\n    calculateConflicts: (board: number[][]) => {\r\n        const conflicts = new Set<string>();\r\n        for (let r = 0; r < 9; r++) {\r\n            for (let c = 0; c < 9; c++) {\r\n                const val = board[r][c];\r\n                if (val === 0) continue;\r\n\r\n                let hasConflict = false;\r\n                for (let i = 0; i < 9; i++) {\r\n                    if (i !== c && board[r][i] === val) hasConflict = true;\r\n                    if (i !== r && board[i][c] === val) hasConflict = true;\r\n                    const br = 3 * Math.floor(r / 3) + Math.floor(i / 3);\r\n                    const bc = 3 * Math.floor(c / 3) + (i % 3);\r\n                    if ((br !== r || bc !== c) && board[br][bc] === val) hasConflict = true;\r\n                    if (hasConflict) break;\r\n                }\r\n                if (hasConflict) conflicts.add(`${r},${c}`);\r\n            }\r\n        }\r\n        return conflicts;\r\n    },\r\n\r\n    startGame: (difficulty: Difficulty, mode: 'single' | 'pvp' | 'bot' = 'single') => {\r\n        const { initial, solved } = generateSudoku(difficulty);\r\n        set({\r\n            board: initial.map(row => [...row]),\r\n            initialBoard: initial.map(row => [...row]),\r\n            solvedBoard: solved,\r\n            difficulty,\r\n            status: 'playing',\r\n            timer: 0,\r\n            mistakes: 0,\r\n            history: [],\r\n            notes: new Set(),\r\n            selectedCell: null,\r\n            hintsRemaining: 3,\r\n            lastHint: null,\r\n            cellOwners: {},\r\n            mode,\r\n            opponentName: mode === 'bot' ? 'AI Bot' : null,\r\n            uid: mode === 'bot' ? 'local-player' : get().uid, // assign dummy uid for local bot match\r\n            currentTurn: mode === 'bot' ? 'local-player' : null,\r\n            conflicts: new Set()\r\n        });\r\n    },\r\n\r\n    setMultiplayerState: (state: Partial<GameState>) => set(state),\r\n\r\n    selectCell: (r: number, c: number) => set({ selectedCell: { r, c } }),\r\n\r\n    toggleNotesMode: () => set(state => ({ isNotesMode: !state.isNotesMode })),\r\n\r\n    setCellValue: (num: number) => {\r\n        const { board, selectedCell, initialBoard, solvedBoard, isNotesMode, notes, mistakes, maxMistakes, history, status, mode, uid, currentTurn } = get();\r\n\r\n        if (!selectedCell || status === 'won' || status === 'lost') return;\r\n\r\n        // Enforce turn-based logic\r\n        if ((mode === 'pvp' || mode === 'bot') && currentTurn && uid !== currentTurn) return;\r\n\r\n        const { r, c } = selectedCell;\r\n\r\n        if (initialBoard[r][c] !== BLANK) return;\r\n\r\n        if (isNotesMode) {\r\n            const noteKey = `${r},${c},${num}`;\r\n            const newNotes = new Set(notes);\r\n            if (newNotes.has(noteKey)) {\r\n                newNotes.delete(noteKey);\r\n            } else {\r\n                newNotes.add(noteKey);\r\n            }\r\n            set({ notes: newNotes });\r\n            return;\r\n        }\r\n\r\n        if (board[r][c] === num) return;\r\n\r\n        const isCorrect = num === solvedBoard[r][c];\r\n        const newBoard = board.map(row => [...row]);\r\n        newBoard[r][c] = num;\r\n        const newHistory = [...history, board.map(row => [...row])];\r\n\r\n        if (isCorrect) {\r\n            const conflicts = get().calculateConflicts(newBoard);\r\n            set({ board: newBoard, history: newHistory, conflicts });\r\n\r\n            let filled = 0;\r\n            let allCorrect = true;\r\n            for (let i = 0; i < GRID_SIZE; i++) {\r\n                for (let j = 0; j < GRID_SIZE; j++) {\r\n                    if (newBoard[i][j] !== 0) filled++;\r\n                    if (newBoard[i][j] !== 0 && newBoard[i][j] !== solvedBoard[i][j]) allCorrect = false;\r\n                }\r\n            }\r\n            const isWon = (filled === GRID_SIZE * GRID_SIZE) && allCorrect;\r\n\r\n            if (isWon) {\r\n                set({ status: 'won' });\r\n                // Persistent Stats\r\n                const { uid, timer, difficulty } = get();\r\n                if (uid) {\r\n                    const diffKey = difficulty.toLowerCase() as keyof UserStats['bestTime'];\r\n                    updateUserStats(uid, true, timer, diffKey, mistakes).catch(e => console.error(\"Stats Sync Failed:\", e));\r\n                }\r\n            }\r\n\r\n            if (mode === 'pvp') {\r\n                const progress = Math.floor((filled / (GRID_SIZE * GRID_SIZE)) * 100);\r\n                const action = get().syncAction;\r\n                if (action) {\r\n                    action({ type: 'CELL', r, c, val: num, progress, mistakes, status: isWon ? 'won' : 'playing', switchTurn: true });\r\n                }\r\n            } else if (mode === 'bot') {\r\n                set({ currentTurn: 'bot' });\r\n                // Trigger Bot Move\r\n                setTimeout(() => {\r\n                    useGameStore.getState().playBotMove();\r\n                }, 1000 + Math.random() * 2000); // 1-3s thinking time\r\n            }\r\n\r\n        } else {\r\n            const updatedMistakes = mistakes + 1;\r\n            const conflicts = get().calculateConflicts(newBoard);\r\n            set({\r\n                mistakes: updatedMistakes,\r\n                board: newBoard,\r\n                history: newHistory,\r\n                conflicts\r\n            });\r\n\r\n            const isLost = updatedMistakes >= maxMistakes;\r\n            if (isLost) {\r\n                set({ status: 'lost' });\r\n                // Persistent Stats\r\n                const { uid: currentUid, timer, difficulty } = get();\r\n                if (currentUid) {\r\n                    const diffKey = difficulty.toLowerCase() as keyof UserStats['bestTime'];\r\n                    updateUserStats(currentUid, false, timer, diffKey, updatedMistakes).catch(e => console.error(\"Stats Sync Failed:\", e));\r\n                }\r\n            }\r\n\r\n            if (mode === 'pvp') {\r\n                let filled = 0;\r\n                for (let i = 0; i < 9; i++) {\r\n                    for (let j = 0; j < 9; j++) {\r\n                        if (newBoard[i][j] !== 0) filled++;\r\n                    }\r\n                }\r\n                const progress = Math.floor((filled / (GRID_SIZE * GRID_SIZE)) * 100);\r\n\r\n                const action = get().syncAction;\r\n                if (action) {\r\n                    action({ type: 'CELL', r, c, val: num, progress, mistakes: updatedMistakes, status: isLost ? 'lost' : 'playing', switchTurn: true });\r\n                }\r\n            } else if (mode === 'bot') {\r\n                set({ currentTurn: 'bot' });\r\n                // Trigger Bot Move even on mistake\r\n                setTimeout(() => {\r\n                    useGameStore.getState().playBotMove();\r\n                }, 1000 + Math.random() * 2000);\r\n            }\r\n        }\r\n    },\r\n\r\n    undo: () => {\r\n        const { history } = get();\r\n        if (history.length === 0) return;\r\n        const previousBoard = history[history.length - 1];\r\n        const conflicts = get().calculateConflicts(previousBoard);\r\n        set({\r\n            board: previousBoard,\r\n            history: history.slice(0, -1),\r\n            conflicts\r\n        });\r\n    },\r\n\r\n    resetGame: () => {\r\n        const { initialBoard } = get();\r\n        const board = initialBoard.map(row => [...row]);\r\n        const conflicts = get().calculateConflicts(board);\r\n        set({\r\n            board,\r\n            timer: 0,\r\n            mistakes: 0,\r\n            notes: new Set(),\r\n            history: [],\r\n            conflicts,\r\n            hintsRemaining: 3,\r\n            lastHint: null,\r\n            cellOwners: {},\r\n            status: 'playing'\r\n        });\r\n    },\r\n\r\n    tickTimer: () => {\r\n        if (get().status === 'playing') {\r\n            set(state => ({ timer: state.timer + 1 }));\r\n        }\r\n    },\r\n\r\n    getHint: () => {\r\n        const { board, solvedBoard, status, hintsRemaining } = get();\r\n        if (status !== 'playing' || hintsRemaining <= 0) return;\r\n\r\n        const hint = getSmartHint(board, solvedBoard);\r\n        if (!hint) return;\r\n\r\n        const newBoard = board.map(row => [...row]);\r\n        newBoard[hint.r][hint.c] = hint.value;\r\n        const conflicts = get().calculateConflicts(newBoard);\r\n\r\n        let isWon = true;\r\n        for (let i = 0; i < GRID_SIZE; i++) {\r\n            for (let j = 0; j < GRID_SIZE; j++) {\r\n                if (newBoard[i][j] !== solvedBoard[i][j]) {\r\n                    isWon = false;\r\n                    break;\r\n                }\r\n            }\r\n            if (!isWon) break;\r\n        }\r\n\r\n        set({\r\n            board: newBoard,\r\n            selectedCell: { r: hint.r, c: hint.c },\r\n            hintsRemaining: hintsRemaining - 1,\r\n            lastHint: hint,\r\n            status: isWon ? 'won' : status,\r\n        });\r\n\r\n        setTimeout(() => {\r\n            if (get().lastHint === hint) {\r\n                set({ lastHint: null });\r\n            }\r\n        }, 3000);\r\n    },\r\n\r\n    playBotMove: () => {\r\n        const { board, solvedBoard, status, cellOwners } = get();\r\n        if (status !== 'playing') return;\r\n\r\n        const emptyCells = [];\r\n        for (let r = 0; r < 9; r++) {\r\n            for (let c = 0; c < 9; c++) {\r\n                if (board[r][c] === 0) emptyCells.push({ r, c });\r\n            }\r\n        }\r\n\r\n        if (emptyCells.length > 0) {\r\n            const { r, c } = emptyCells[Math.floor(Math.random() * emptyCells.length)];\r\n            const correctVal = solvedBoard[r][c];\r\n\r\n            const newBoard = board.map(row => [...row]);\r\n            newBoard[r][c] = correctVal;\r\n\r\n            const newCellOwners = { ...cellOwners, [`${r},${c}`]: 'bot' };\r\n\r\n            let filled = 0;\r\n            let allCorrect = true;\r\n            for (let i = 0; i < GRID_SIZE; i++) {\r\n                for (let j = 0; j < GRID_SIZE; j++) {\r\n                    if (newBoard[i][j] !== 0) filled++;\r\n                    if (newBoard[i][j] !== 0 && newBoard[i][j] !== solvedBoard[i][j]) allCorrect = false;\r\n                }\r\n            }\r\n\r\n            const isWon = (filled === GRID_SIZE * GRID_SIZE) && allCorrect;\r\n            const progress = Math.floor((filled / (GRID_SIZE * GRID_SIZE)) * 100);\r\n\r\n            set({\r\n                board: newBoard,\r\n                cellOwners: newCellOwners,\r\n                opponentProgress: progress,\r\n                currentTurn: 'local-player' // Give turn back\r\n            });\r\n\r\n            if (isWon) {\r\n                set({ status: 'lost', opponentStatus: 'won' }); // Human lost\r\n            }\r\n        }\r\n    },\r\n\r\n    setHoveredCell: (cell: { r: number, c: number } | null) => {\r\n        const current = get().hoveredCell;\r\n        if (cell?.r === current?.r && cell?.c === current?.c) return;\r\n        set({ hoveredCell: cell });\r\n    },\r\n    setHighlightedNumber: (num: number | null) => set({ highlightedNumber: num })\r\n}));\r\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;;;;;AAiEO,MAAM,eAAe,IAAA,qJAAM,EAAY,CAAC,KAAK,MAAQ,CAAC;QACzD,OAAO,EAAE;QACT,cAAc,EAAE;QAChB,aAAa,EAAE;QACf,OAAO,IAAI;QACX,WAAW,IAAI;QACf,YAAY;QACZ,QAAQ;QACR,OAAO;QACP,UAAU;QACV,aAAa;QACb,SAAS,EAAE;QACX,aAAa;QACb,cAAc;QACd,gBAAgB;QAChB,UAAU;QACV,aAAa;QACb,mBAAmB;QACnB,sBAAsB,EAAE;QACxB,YAAY,CAAC;QACb,aAAa;QAEb,MAAM;QACN,QAAQ;QACR,UAAU;QACV,KAAK;QACL,YAAY;QACZ,kBAAkB;QAClB,cAAc;QACd,gBAAgB;QAChB,qBAAqB;QACrB,eAAe;QACf,YAAY;QAEZ,eAAe,CAAC,KAAO,IAAI;gBAAE,YAAY;YAAG;QAC5C,gBAAgB,CAAC;YACb,MAAM,YAAY,MAAM,kBAAkB,CAAC;YAC3C,IAAI;gBAAE;gBAAO;YAAU;QAC3B;QACA,eAAe,CAAC,SAAmC,IAAI;gBAAE,YAAY;YAAO;QAC5E,gBAAgB,CAAC,MAAuB,IAAI;gBAAE,aAAa;YAAI;QAE/D,oBAAoB,CAAC;YACjB,MAAM,YAAY,IAAI;YACtB,IAAK,IAAI,IAAI,GAAG,IAAI,GAAG,IAAK;gBACxB,IAAK,IAAI,IAAI,GAAG,IAAI,GAAG,IAAK;oBACxB,MAAM,MAAM,KAAK,CAAC,EAAE,CAAC,EAAE;oBACvB,IAAI,QAAQ,GAAG;oBAEf,IAAI,cAAc;oBAClB,IAAK,IAAI,IAAI,GAAG,IAAI,GAAG,IAAK;wBACxB,IAAI,MAAM,KAAK,KAAK,CAAC,EAAE,CAAC,EAAE,KAAK,KAAK,cAAc;wBAClD,IAAI,MAAM,KAAK,KAAK,CAAC,EAAE,CAAC,EAAE,KAAK,KAAK,cAAc;wBAClD,MAAM,KAAK,IAAI,KAAK,KAAK,CAAC,IAAI,KAAK,KAAK,KAAK,CAAC,IAAI;wBAClD,MAAM,KAAK,IAAI,KAAK,KAAK,CAAC,IAAI,KAAM,IAAI;wBACxC,IAAI,CAAC,OAAO,KAAK,OAAO,CAAC,KAAK,KAAK,CAAC,GAAG,CAAC,GAAG,KAAK,KAAK,cAAc;wBACnE,IAAI,aAAa;oBACrB;oBACA,IAAI,aAAa,UAAU,GAAG,CAAC,GAAG,EAAE,CAAC,EAAE,GAAG;gBAC9C;YACJ;YACA,OAAO;QACX;QAEA,WAAW,CAAC,YAAwB,OAAiC,QAAQ;YACzE,MAAM,EAAE,OAAO,EAAE,MAAM,EAAE,GAAG,IAAA,2IAAc,EAAC;YAC3C,IAAI;gBACA,OAAO,QAAQ,GAAG,CAAC,CAAA,MAAO;2BAAI;qBAAI;gBAClC,cAAc,QAAQ,GAAG,CAAC,CAAA,MAAO;2BAAI;qBAAI;gBACzC,aAAa;gBACb;gBACA,QAAQ;gBACR,OAAO;gBACP,UAAU;gBACV,SAAS,EAAE;gBACX,OAAO,IAAI;gBACX,cAAc;gBACd,gBAAgB;gBAChB,UAAU;gBACV,YAAY,CAAC;gBACb;gBACA,cAAc,SAAS,QAAQ,WAAW;gBAC1C,KAAK,SAAS,QAAQ,iBAAiB,MAAM,GAAG;gBAChD,aAAa,SAAS,QAAQ,iBAAiB;gBAC/C,WAAW,IAAI;YACnB;QACJ;QAEA,qBAAqB,CAAC,QAA8B,IAAI;QAExD,YAAY,CAAC,GAAW,IAAc,IAAI;gBAAE,cAAc;oBAAE;oBAAG;gBAAE;YAAE;QAEnE,iBAAiB,IAAM,IAAI,CAAA,QAAS,CAAC;oBAAE,aAAa,CAAC,MAAM,WAAW;gBAAC,CAAC;QAExE,cAAc,CAAC;YACX,MAAM,EAAE,KAAK,EAAE,YAAY,EAAE,YAAY,EAAE,WAAW,EAAE,WAAW,EAAE,KAAK,EAAE,QAAQ,EAAE,WAAW,EAAE,OAAO,EAAE,MAAM,EAAE,IAAI,EAAE,GAAG,EAAE,WAAW,EAAE,GAAG;YAE/I,IAAI,CAAC,gBAAgB,WAAW,SAAS,WAAW,QAAQ;YAE5D,2BAA2B;YAC3B,IAAI,CAAC,SAAS,SAAS,SAAS,KAAK,KAAK,eAAe,QAAQ,aAAa;YAE9E,MAAM,EAAE,CAAC,EAAE,CAAC,EAAE,GAAG;YAEjB,IAAI,YAAY,CAAC,EAAE,CAAC,EAAE,KAAK,kIAAK,EAAE;YAElC,IAAI,aAAa;gBACb,MAAM,UAAU,GAAG,EAAE,CAAC,EAAE,EAAE,CAAC,EAAE,KAAK;gBAClC,MAAM,WAAW,IAAI,IAAI;gBACzB,IAAI,SAAS,GAAG,CAAC,UAAU;oBACvB,SAAS,MAAM,CAAC;gBACpB,OAAO;oBACH,SAAS,GAAG,CAAC;gBACjB;gBACA,IAAI;oBAAE,OAAO;gBAAS;gBACtB;YACJ;YAEA,IAAI,KAAK,CAAC,EAAE,CAAC,EAAE,KAAK,KAAK;YAEzB,MAAM,YAAY,QAAQ,WAAW,CAAC,EAAE,CAAC,EAAE;YAC3C,MAAM,WAAW,MAAM,GAAG,CAAC,CAAA,MAAO;uBAAI;iBAAI;YAC1C,QAAQ,CAAC,EAAE,CAAC,EAAE,GAAG;YACjB,MAAM,aAAa;mBAAI;gBAAS,MAAM,GAAG,CAAC,CAAA,MAAO;2BAAI;qBAAI;aAAE;YAE3D,IAAI,WAAW;gBACX,MAAM,YAAY,MAAM,kBAAkB,CAAC;gBAC3C,IAAI;oBAAE,OAAO;oBAAU,SAAS;oBAAY;gBAAU;gBAEtD,IAAI,SAAS;gBACb,IAAI,aAAa;gBACjB,IAAK,IAAI,IAAI,GAAG,IAAI,sIAAS,EAAE,IAAK;oBAChC,IAAK,IAAI,IAAI,GAAG,IAAI,sIAAS,EAAE,IAAK;wBAChC,IAAI,QAAQ,CAAC,EAAE,CAAC,EAAE,KAAK,GAAG;wBAC1B,IAAI,QAAQ,CAAC,EAAE,CAAC,EAAE,KAAK,KAAK,QAAQ,CAAC,EAAE,CAAC,EAAE,KAAK,WAAW,CAAC,EAAE,CAAC,EAAE,EAAE,aAAa;oBACnF;gBACJ;gBACA,MAAM,QAAQ,AAAC,WAAW,sIAAS,GAAG,sIAAS,IAAK;gBAEpD,IAAI,OAAO;oBACP,IAAI;wBAAE,QAAQ;oBAAM;oBACpB,mBAAmB;oBACnB,MAAM,EAAE,GAAG,EAAE,KAAK,EAAE,UAAU,EAAE,GAAG;oBACnC,IAAI,KAAK;wBACL,MAAM,UAAU,WAAW,WAAW;wBACtC,IAAA,8IAAe,EAAC,KAAK,MAAM,OAAO,SAAS,UAAU,KAAK,CAAC,CAAA,IAAK,QAAQ,KAAK,CAAC,sBAAsB;oBACxG;gBACJ;gBAEA,IAAI,SAAS,OAAO;oBAChB,MAAM,WAAW,KAAK,KAAK,CAAC,AAAC,SAAS,CAAC,sIAAS,GAAG,sIAAS,IAAK;oBACjE,MAAM,SAAS,MAAM,UAAU;oBAC/B,IAAI,QAAQ;wBACR,OAAO;4BAAE,MAAM;4BAAQ;4BAAG;4BAAG,KAAK;4BAAK;4BAAU;4BAAU,QAAQ,QAAQ,QAAQ;4BAAW,YAAY;wBAAK;oBACnH;gBACJ,OAAO,IAAI,SAAS,OAAO;oBACvB,IAAI;wBAAE,aAAa;oBAAM;oBACzB,mBAAmB;oBACnB,WAAW;wBACP,aAAa,QAAQ,GAAG,WAAW;oBACvC,GAAG,OAAO,KAAK,MAAM,KAAK,OAAO,qBAAqB;gBAC1D;YAEJ,OAAO;gBACH,MAAM,kBAAkB,WAAW;gBACnC,MAAM,YAAY,MAAM,kBAAkB,CAAC;gBAC3C,IAAI;oBACA,UAAU;oBACV,OAAO;oBACP,SAAS;oBACT;gBACJ;gBAEA,MAAM,SAAS,mBAAmB;gBAClC,IAAI,QAAQ;oBACR,IAAI;wBAAE,QAAQ;oBAAO;oBACrB,mBAAmB;oBACnB,MAAM,EAAE,KAAK,UAAU,EAAE,KAAK,EAAE,UAAU,EAAE,GAAG;oBAC/C,IAAI,YAAY;wBACZ,MAAM,UAAU,WAAW,WAAW;wBACtC,IAAA,8IAAe,EAAC,YAAY,OAAO,OAAO,SAAS,iBAAiB,KAAK,CAAC,CAAA,IAAK,QAAQ,KAAK,CAAC,sBAAsB;oBACvH;gBACJ;gBAEA,IAAI,SAAS,OAAO;oBAChB,IAAI,SAAS;oBACb,IAAK,IAAI,IAAI,GAAG,IAAI,GAAG,IAAK;wBACxB,IAAK,IAAI,IAAI,GAAG,IAAI,GAAG,IAAK;4BACxB,IAAI,QAAQ,CAAC,EAAE,CAAC,EAAE,KAAK,GAAG;wBAC9B;oBACJ;oBACA,MAAM,WAAW,KAAK,KAAK,CAAC,AAAC,SAAS,CAAC,sIAAS,GAAG,sIAAS,IAAK;oBAEjE,MAAM,SAAS,MAAM,UAAU;oBAC/B,IAAI,QAAQ;wBACR,OAAO;4BAAE,MAAM;4BAAQ;4BAAG;4BAAG,KAAK;4BAAK;4BAAU,UAAU;4BAAiB,QAAQ,SAAS,SAAS;4BAAW,YAAY;wBAAK;oBACtI;gBACJ,OAAO,IAAI,SAAS,OAAO;oBACvB,IAAI;wBAAE,aAAa;oBAAM;oBACzB,mCAAmC;oBACnC,WAAW;wBACP,aAAa,QAAQ,GAAG,WAAW;oBACvC,GAAG,OAAO,KAAK,MAAM,KAAK;gBAC9B;YACJ;QACJ;QAEA,MAAM;YACF,MAAM,EAAE,OAAO,EAAE,GAAG;YACpB,IAAI,QAAQ,MAAM,KAAK,GAAG;YAC1B,MAAM,gBAAgB,OAAO,CAAC,QAAQ,MAAM,GAAG,EAAE;YACjD,MAAM,YAAY,MAAM,kBAAkB,CAAC;YAC3C,IAAI;gBACA,OAAO;gBACP,SAAS,QAAQ,KAAK,CAAC,GAAG,CAAC;gBAC3B;YACJ;QACJ;QAEA,WAAW;YACP,MAAM,EAAE,YAAY,EAAE,GAAG;YACzB,MAAM,QAAQ,aAAa,GAAG,CAAC,CAAA,MAAO;uBAAI;iBAAI;YAC9C,MAAM,YAAY,MAAM,kBAAkB,CAAC;YAC3C,IAAI;gBACA;gBACA,OAAO;gBACP,UAAU;gBACV,OAAO,IAAI;gBACX,SAAS,EAAE;gBACX;gBACA,gBAAgB;gBAChB,UAAU;gBACV,YAAY,CAAC;gBACb,QAAQ;YACZ;QACJ;QAEA,WAAW;YACP,IAAI,MAAM,MAAM,KAAK,WAAW;gBAC5B,IAAI,CAAA,QAAS,CAAC;wBAAE,OAAO,MAAM,KAAK,GAAG;oBAAE,CAAC;YAC5C;QACJ;QAEA,SAAS;YACL,MAAM,EAAE,KAAK,EAAE,WAAW,EAAE,MAAM,EAAE,cAAc,EAAE,GAAG;YACvD,IAAI,WAAW,aAAa,kBAAkB,GAAG;YAEjD,MAAM,OAAO,IAAA,wIAAY,EAAC,OAAO;YACjC,IAAI,CAAC,MAAM;YAEX,MAAM,WAAW,MAAM,GAAG,CAAC,CAAA,MAAO;uBAAI;iBAAI;YAC1C,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,GAAG,KAAK,KAAK;YACrC,MAAM,YAAY,MAAM,kBAAkB,CAAC;YAE3C,IAAI,QAAQ;YACZ,IAAK,IAAI,IAAI,GAAG,IAAI,sIAAS,EAAE,IAAK;gBAChC,IAAK,IAAI,IAAI,GAAG,IAAI,sIAAS,EAAE,IAAK;oBAChC,IAAI,QAAQ,CAAC,EAAE,CAAC,EAAE,KAAK,WAAW,CAAC,EAAE,CAAC,EAAE,EAAE;wBACtC,QAAQ;wBACR;oBACJ;gBACJ;gBACA,IAAI,CAAC,OAAO;YAChB;YAEA,IAAI;gBACA,OAAO;gBACP,cAAc;oBAAE,GAAG,KAAK,CAAC;oBAAE,GAAG,KAAK,CAAC;gBAAC;gBACrC,gBAAgB,iBAAiB;gBACjC,UAAU;gBACV,QAAQ,QAAQ,QAAQ;YAC5B;YAEA,WAAW;gBACP,IAAI,MAAM,QAAQ,KAAK,MAAM;oBACzB,IAAI;wBAAE,UAAU;oBAAK;gBACzB;YACJ,GAAG;QACP;QAEA,aAAa;YACT,MAAM,EAAE,KAAK,EAAE,WAAW,EAAE,MAAM,EAAE,UAAU,EAAE,GAAG;YACnD,IAAI,WAAW,WAAW;YAE1B,MAAM,aAAa,EAAE;YACrB,IAAK,IAAI,IAAI,GAAG,IAAI,GAAG,IAAK;gBACxB,IAAK,IAAI,IAAI,GAAG,IAAI,GAAG,IAAK;oBACxB,IAAI,KAAK,CAAC,EAAE,CAAC,EAAE,KAAK,GAAG,WAAW,IAAI,CAAC;wBAAE;wBAAG;oBAAE;gBAClD;YACJ;YAEA,IAAI,WAAW,MAAM,GAAG,GAAG;gBACvB,MAAM,EAAE,CAAC,EAAE,CAAC,EAAE,GAAG,UAAU,CAAC,KAAK,KAAK,CAAC,KAAK,MAAM,KAAK,WAAW,MAAM,EAAE;gBAC1E,MAAM,aAAa,WAAW,CAAC,EAAE,CAAC,EAAE;gBAEpC,MAAM,WAAW,MAAM,GAAG,CAAC,CAAA,MAAO;2BAAI;qBAAI;gBAC1C,QAAQ,CAAC,EAAE,CAAC,EAAE,GAAG;gBAEjB,MAAM,gBAAgB;oBAAE,GAAG,UAAU;oBAAE,CAAC,GAAG,EAAE,CAAC,EAAE,GAAG,CAAC,EAAE;gBAAM;gBAE5D,IAAI,SAAS;gBACb,IAAI,aAAa;gBACjB,IAAK,IAAI,IAAI,GAAG,IAAI,sIAAS,EAAE,IAAK;oBAChC,IAAK,IAAI,IAAI,GAAG,IAAI,sIAAS,EAAE,IAAK;wBAChC,IAAI,QAAQ,CAAC,EAAE,CAAC,EAAE,KAAK,GAAG;wBAC1B,IAAI,QAAQ,CAAC,EAAE,CAAC,EAAE,KAAK,KAAK,QAAQ,CAAC,EAAE,CAAC,EAAE,KAAK,WAAW,CAAC,EAAE,CAAC,EAAE,EAAE,aAAa;oBACnF;gBACJ;gBAEA,MAAM,QAAQ,AAAC,WAAW,sIAAS,GAAG,sIAAS,IAAK;gBACpD,MAAM,WAAW,KAAK,KAAK,CAAC,AAAC,SAAS,CAAC,sIAAS,GAAG,sIAAS,IAAK;gBAEjE,IAAI;oBACA,OAAO;oBACP,YAAY;oBACZ,kBAAkB;oBAClB,aAAa,eAAe,iBAAiB;gBACjD;gBAEA,IAAI,OAAO;oBACP,IAAI;wBAAE,QAAQ;wBAAQ,gBAAgB;oBAAM,IAAI,aAAa;gBACjE;YACJ;QACJ;QAEA,gBAAgB,CAAC;YACb,MAAM,UAAU,MAAM,WAAW;YACjC,IAAI,MAAM,MAAM,SAAS,KAAK,MAAM,MAAM,SAAS,GAAG;YACtD,IAAI;gBAAE,aAAa;YAAK;QAC5B;QACA,sBAAsB,CAAC,MAAuB,IAAI;gBAAE,mBAAmB;YAAI;IAC/E,CAAC"}},
    {"offset": {"line": 825, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/MAHARSHI%20NATH/OneDrive/Documents/sudoku/lib/hooks/useSound.ts"],"sourcesContent":["\"use client\";\r\n\r\nimport { useCallback } from 'react';\r\n\r\nexport const useSound = () => {\r\n    const playSound = useCallback((type: 'correct' | 'wrong' | 'click' | 'win') => {\r\n        // Simple synthetic sounds using Web Audio API to avoid external assets for now\r\n        try {\r\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n            const AudioContextClass = window.AudioContext || (window as any).webkitAudioContext;\r\n            if (!AudioContextClass) return;\r\n            const context = new AudioContextClass();\r\n            const oscillator = context.createOscillator();\r\n            const gain = context.createGain();\r\n\r\n            oscillator.connect(gain);\r\n            gain.connect(context.destination);\r\n\r\n            const now = context.currentTime;\r\n\r\n            if (type === 'correct') {\r\n                oscillator.type = 'sine';\r\n                oscillator.frequency.setValueAtTime(880, now);\r\n                oscillator.frequency.exponentialRampToValueAtTime(1320, now + 0.1);\r\n                gain.gain.setValueAtTime(0.1, now);\r\n                gain.gain.exponentialRampToValueAtTime(0.01, now + 0.1);\r\n                oscillator.start(now);\r\n                oscillator.stop(now + 0.1);\r\n            } else if (type === 'wrong') {\r\n                oscillator.type = 'sawtooth';\r\n                oscillator.frequency.setValueAtTime(220, now);\r\n                oscillator.frequency.exponentialRampToValueAtTime(110, now + 0.2);\r\n                gain.gain.setValueAtTime(0.1, now);\r\n                gain.gain.linearRampToValueAtTime(0, now + 0.2);\r\n                oscillator.start(now);\r\n                oscillator.stop(now + 0.2);\r\n            } else if (type === 'click') {\r\n                oscillator.type = 'triangle';\r\n                oscillator.frequency.setValueAtTime(440, now);\r\n                gain.gain.setValueAtTime(0.05, now);\r\n                gain.gain.linearRampToValueAtTime(0, now + 0.05);\r\n                oscillator.start(now);\r\n                oscillator.stop(now + 0.05);\r\n            } else if (type === 'win') {\r\n                oscillator.type = 'sine';\r\n                oscillator.frequency.setValueAtTime(523.25, now); // C5\r\n                oscillator.frequency.exponentialRampToValueAtTime(1046.50, now + 0.5); // C6\r\n                gain.gain.setValueAtTime(0.1, now);\r\n                gain.gain.linearRampToValueAtTime(0, now + 0.5);\r\n                oscillator.start(now);\r\n                oscillator.stop(now + 0.5);\r\n            }\r\n        } catch {\r\n            // Silently fail if AudioContext is not supported\r\n        }\r\n    }, []);\r\n\r\n    const triggerHaptic = useCallback((type: 'success' | 'error' | 'medium') => {\r\n        if (typeof window !== 'undefined' && window.navigator && window.navigator.vibrate) {\r\n            if (type === 'success') window.navigator.vibrate(50);\r\n            if (type === 'error') window.navigator.vibrate([50, 50, 50]);\r\n            if (type === 'medium') window.navigator.vibrate(20);\r\n        }\r\n    }, []);\r\n\r\n    return { playSound, triggerHaptic };\r\n};\r\n"],"names":[],"mappings":";;;;AAEA;;AAFA;;AAIO,MAAM,WAAW;;IACpB,MAAM,YAAY,IAAA,4KAAW;2CAAC,CAAC;YAC3B,+EAA+E;YAC/E,IAAI;gBACA,8DAA8D;gBAC9D,MAAM,oBAAoB,OAAO,YAAY,IAAI,AAAC,OAAe,kBAAkB;gBACnF,IAAI,CAAC,mBAAmB;gBACxB,MAAM,UAAU,IAAI;gBACpB,MAAM,aAAa,QAAQ,gBAAgB;gBAC3C,MAAM,OAAO,QAAQ,UAAU;gBAE/B,WAAW,OAAO,CAAC;gBACnB,KAAK,OAAO,CAAC,QAAQ,WAAW;gBAEhC,MAAM,MAAM,QAAQ,WAAW;gBAE/B,IAAI,SAAS,WAAW;oBACpB,WAAW,IAAI,GAAG;oBAClB,WAAW,SAAS,CAAC,cAAc,CAAC,KAAK;oBACzC,WAAW,SAAS,CAAC,4BAA4B,CAAC,MAAM,MAAM;oBAC9D,KAAK,IAAI,CAAC,cAAc,CAAC,KAAK;oBAC9B,KAAK,IAAI,CAAC,4BAA4B,CAAC,MAAM,MAAM;oBACnD,WAAW,KAAK,CAAC;oBACjB,WAAW,IAAI,CAAC,MAAM;gBAC1B,OAAO,IAAI,SAAS,SAAS;oBACzB,WAAW,IAAI,GAAG;oBAClB,WAAW,SAAS,CAAC,cAAc,CAAC,KAAK;oBACzC,WAAW,SAAS,CAAC,4BAA4B,CAAC,KAAK,MAAM;oBAC7D,KAAK,IAAI,CAAC,cAAc,CAAC,KAAK;oBAC9B,KAAK,IAAI,CAAC,uBAAuB,CAAC,GAAG,MAAM;oBAC3C,WAAW,KAAK,CAAC;oBACjB,WAAW,IAAI,CAAC,MAAM;gBAC1B,OAAO,IAAI,SAAS,SAAS;oBACzB,WAAW,IAAI,GAAG;oBAClB,WAAW,SAAS,CAAC,cAAc,CAAC,KAAK;oBACzC,KAAK,IAAI,CAAC,cAAc,CAAC,MAAM;oBAC/B,KAAK,IAAI,CAAC,uBAAuB,CAAC,GAAG,MAAM;oBAC3C,WAAW,KAAK,CAAC;oBACjB,WAAW,IAAI,CAAC,MAAM;gBAC1B,OAAO,IAAI,SAAS,OAAO;oBACvB,WAAW,IAAI,GAAG;oBAClB,WAAW,SAAS,CAAC,cAAc,CAAC,QAAQ,MAAM,KAAK;oBACvD,WAAW,SAAS,CAAC,4BAA4B,CAAC,SAAS,MAAM,MAAM,KAAK;oBAC5E,KAAK,IAAI,CAAC,cAAc,CAAC,KAAK;oBAC9B,KAAK,IAAI,CAAC,uBAAuB,CAAC,GAAG,MAAM;oBAC3C,WAAW,KAAK,CAAC;oBACjB,WAAW,IAAI,CAAC,MAAM;gBAC1B;YACJ,EAAE,OAAM;YACJ,iDAAiD;YACrD;QACJ;0CAAG,EAAE;IAEL,MAAM,gBAAgB,IAAA,4KAAW;+CAAC,CAAC;YAC/B,IAAI,+CAAkB,eAAe,OAAO,SAAS,IAAI,OAAO,SAAS,CAAC,OAAO,EAAE;gBAC/E,IAAI,SAAS,WAAW,OAAO,SAAS,CAAC,OAAO,CAAC;gBACjD,IAAI,SAAS,SAAS,OAAO,SAAS,CAAC,OAAO,CAAC;oBAAC;oBAAI;oBAAI;iBAAG;gBAC3D,IAAI,SAAS,UAAU,OAAO,SAAS,CAAC,OAAO,CAAC;YACpD;QACJ;8CAAG,EAAE;IAEL,OAAO;QAAE;QAAW;IAAc;AACtC;GA9Da"}},
    {"offset": {"line": 911, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/MAHARSHI%20NATH/OneDrive/Documents/sudoku/components/game/Cell.tsx"],"sourcesContent":["import { memo, useEffect } from 'react';\r\nimport { motion } from 'framer-motion';\r\nimport { cn } from '@/lib/utils';\r\nimport { useGameStore } from '@/lib/store';\r\nimport { useShallow } from 'zustand/react/shallow';\r\nimport { useSound } from '@/lib/hooks/useSound';\r\n\r\ninterface CellProps {\r\n    r: number;\r\n    c: number;\r\n    val: number;\r\n    initial: boolean;\r\n}\r\n\r\nexport const Cell = memo(({ r, c, val, initial }: CellProps) => {\r\n\r\n    const cellState = useGameStore(useShallow(state => {\r\n        const s = state.selectedCell;\r\n        const sVal = s ? state.board[s.r][s.c] : 0;\r\n\r\n        const isSelected = s?.r === r && s?.c === c;\r\n        const isRelated = s ? (s.r === r || s.c === c || (Math.floor(s.r / 3) === Math.floor(r / 3) && Math.floor(s.c / 3) === Math.floor(c / 3))) : false;\r\n        const isSameValue = sVal !== 0 && sVal === val;\r\n\r\n        const isError = !initial && val !== 0 && val !== state.solvedBoard[r][c];\r\n        const isConflict = state.conflicts.has(`${r},${c}`);\r\n\r\n        const isHinted = state.lastHint?.r === r && state.lastHint?.c === c;\r\n        const isHovered = state.hoveredCell?.r === r && state.hoveredCell?.c === c;\r\n\r\n        const isOpponentHovered = state.opponentHoveredCells.some(cell => cell.r === r && cell.c === c);\r\n        const cellOwnerUid = state.cellOwners[`${r},${c}`];\r\n        const isOpponentCell = !!(cellOwnerUid && state.uid && cellOwnerUid !== state.uid);\r\n\r\n        // Notes logic\r\n        const notes: number[] = [];\r\n        if (val === 0) {\r\n            for (let n = 1; n <= 9; n++) {\r\n                if (state.notes.has(`${r},${c},${n}`)) notes.push(n);\r\n            }\r\n        }\r\n\r\n        return {\r\n            isSelected,\r\n            isRelated,\r\n            isSameValue,\r\n            isError,\r\n            isConflict,\r\n            isHinted,\r\n            isHovered,\r\n            isOpponentCell,\r\n            cellNotes: notes\r\n        };\r\n    }));\r\n\r\n    const {\r\n        isSelected,\r\n        isRelated,\r\n        isSameValue,\r\n        isError,\r\n        isConflict,\r\n        isHinted,\r\n        isHovered,\r\n        isOpponentCell,\r\n        cellNotes\r\n    } = cellState;\r\n\r\n    const selectCell = useGameStore(state => state.selectCell);\r\n    const { playSound } = useSound();\r\n\r\n    const handleClick = () => {\r\n        playSound('click');\r\n        selectCell(r, c);\r\n    };\r\n\r\n    // Sound feedback on value changes\r\n    useEffect(() => {\r\n        if (val === 0 || initial) return;\r\n\r\n        const solvedVal = useGameStore.getState().solvedBoard[r][c];\r\n        if (val === solvedVal) {\r\n            playSound('correct');\r\n        } else {\r\n            playSound('wrong');\r\n            if (typeof window !== 'undefined' && window.navigator.vibrate) {\r\n                window.navigator.vibrate([50, 50, 50]);\r\n            }\r\n        }\r\n    }, [val, r, c, initial, playSound]);\r\n\r\n    return (\r\n        <div\r\n            onClick={handleClick}\r\n            data-cell-row={r}\r\n            data-cell-col={c}\r\n            className={cn(\r\n                \"relative flex items-center justify-center w-full h-full cursor-pointer transition-colors duration-150\",\r\n                \"text-lg sm:text-2xl md:text-3xl font-light select-none\",\r\n                // Base Border\r\n                \"border-[0.5px] border-slate-300\",\r\n\r\n                // Thick 3x3 Borders\r\n                (c === 2 || c === 5) && \"!border-r-[2px] !border-r-slate-800\",\r\n                (r === 2 || r === 5) && \"!border-b-[2px] !border-b-slate-800\",\r\n\r\n                // Remove outer borders (handled by board container)\r\n                c === 8 && \"border-r-0\",\r\n                r === 8 && \"border-b-0\",\r\n\r\n                // Drag hover highlight\r\n                isHovered && !isSelected && \"bg-indigo-100 ring-2 ring-inset ring-indigo-400 z-20\",\r\n\r\n                // Backgrounds & Text Colors\r\n                isError\r\n                    ? (isSelected ? \"bg-red-600 text-white\" : \"bg-red-100 text-red-600\")\r\n                    : isSelected\r\n                        ? \"bg-indigo-600 text-white\"\r\n                        : isConflict\r\n                            ? \"bg-orange-100 text-orange-600 font-bold\"\r\n                            : isSameValue\r\n                                ? \"bg-indigo-100/80 text-indigo-900 font-medium\"\r\n                                : isRelated\r\n                                    ? \"bg-slate-100/50\"\r\n                                    : \"bg-white hover:bg-slate-50\",\r\n\r\n                // Hint Golden Glow\r\n                isHinted && !isSelected && !isError && \"ring-2 ring-amber-400 bg-amber-50 z-20\",\r\n\r\n                // Dynamic Borders\r\n                isSelected && !isError && \"!border-indigo-600 z-10\",\r\n                isSelected && isError && \"!border-red-600 z-10\",\r\n                !isSelected && isError && \"!border-red-200\",\r\n\r\n                // Text Color Overrides\r\n                initial && !isSelected && \"text-slate-900 font-medium\",\r\n            )}\r\n        >\r\n            {/* Biometric Scan Animation for Hints */}\r\n            {isHinted && (\r\n                <div className=\"absolute inset-0 z-30 pointer-events-none overflow-hidden rounded-sm ring-2 ring-amber-400\">\r\n                    <motion.div\r\n                        initial={{ top: \"-10%\" }}\r\n                        animate={{ top: \"110%\" }}\r\n                        transition={{ duration: 1.5, repeat: Infinity, ease: \"linear\" }}\r\n                        className=\"absolute left-0 right-0 h-[2px] bg-amber-400 shadow-[0_0_8px_rgba(251,191,36,1)]\"\r\n                    />\r\n                    <motion.div\r\n                        initial={{ opacity: 0.1 }}\r\n                        animate={{ opacity: [0.1, 0.3, 0.1] }}\r\n                        transition={{ duration: 0.8, repeat: Infinity }}\r\n                        className=\"absolute inset-0 bg-amber-400\"\r\n                    />\r\n                </div>\r\n            )}\r\n            {val !== 0 ? (\r\n                <motion.span\r\n                    key={val}\r\n                    initial={{ scale: 0.5, opacity: 0 }}\r\n                    animate={{ scale: 1, opacity: 1 }}\r\n                    transition={{ type: \"spring\", stiffness: 300, damping: 20 }}\r\n                    className={cn(\r\n                        \"z-10\",\r\n                        isError && \"animate-shake\",\r\n                        !initial && !isError && (isOpponentCell ? \"text-rose-500\" : \"text-indigo-600\"),\r\n                        initial && \"text-slate-900 font-medium\",\r\n                    )}\r\n                >\r\n                    {val}\r\n                </motion.span>\r\n            ) : (\r\n                <div className=\"grid grid-cols-3 w-full h-full p-0.5 pointer-events-none\">\r\n                    {[1, 2, 3, 4, 5, 6, 7, 8, 9].map(n => (\r\n                        <div key={n} className=\"flex items-center justify-center\">\r\n                            {cellNotes.includes(n) && (\r\n                                <span className=\"text-[8px] sm:text-[10px] md:text-xs text-slate-500 font-medium leading-none\">\r\n                                    {n}\r\n                                </span>\r\n                            )}\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n});\r\n\r\nCell.displayName = 'Cell';\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1147, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/MAHARSHI%20NATH/OneDrive/Documents/sudoku/components/game/Board.tsx"],"sourcesContent":["import { useEffect, memo } from 'react';\r\nimport { Cell } from './Cell';\r\nimport { useGameStore } from '@/lib/store';\r\nimport { useShallow } from 'zustand/react/shallow';\r\nimport { motion } from 'framer-motion';\r\n\r\nconst LocalHoverHighlight = () => {\r\n    const hoveredCell = useGameStore(state => state.hoveredCell);\r\n    if (!hoveredCell) return null;\r\n\r\n    return (\r\n        <div\r\n            style={{\r\n                gridRow: hoveredCell.r + 1,\r\n                gridColumn: hoveredCell.c + 1,\r\n            }}\r\n            className=\"bg-indigo-500/20 ring-2 ring-inset ring-indigo-500 z-30 pointer-events-none flex items-center justify-center rounded-sm\"\r\n        >\r\n            <div className=\"w-full h-full bg-indigo-500/10 animate-pulse rounded-sm\" />\r\n        </div>\r\n    );\r\n};\r\n\r\nconst OpponentHoverHighlight = () => {\r\n    const opponentHoveredCells = useGameStore(state => state.opponentHoveredCells);\r\n    if (opponentHoveredCells.length === 0) return null;\r\n\r\n    return (\r\n        <>\r\n            {opponentHoveredCells.map((cell, i) => (\r\n                <div\r\n                    key={i}\r\n                    style={{\r\n                        gridRow: cell.r + 1,\r\n                        gridColumn: cell.c + 1,\r\n                    }}\r\n                    className=\"bg-rose-500/20 ring-2 ring-inset ring-rose-400 z-20 pointer-events-none rounded-sm\"\r\n                />\r\n            ))}\r\n        </>\r\n    );\r\n};\r\n\r\nexport const Board = memo(() => {\r\n    const { board, initialBoard, startGame } = useGameStore(useShallow(state => ({\r\n        board: state.board,\r\n        initialBoard: state.initialBoard,\r\n        startGame: state.startGame\r\n    })));\r\n\r\n    useEffect(() => {\r\n        if (board.length === 0) {\r\n            startGame('Medium');\r\n        }\r\n    }, [board.length, startGame]);\r\n\r\n    if (board.length === 0) return null;\r\n\r\n    return (\r\n        <motion.div\r\n            initial={{ opacity: 0, scale: 0.9 }}\r\n            animate={{ opacity: 1, scale: 1 }}\r\n            className=\"w-full max-w-xl aspect-square bg-slate-800 p-[2px] sm:p-1 rounded-sm shadow-2xl overflow-hidden\"\r\n        >\r\n            <div className=\"sudoku-board relative grid grid-cols-9 grid-rows-9 h-full w-full bg-white touch-manipulation\">\r\n                {board.map((row, r) => (\r\n                    row.map((val, c) => (\r\n                        <Cell\r\n                            key={`${r}-${c}`}\r\n                            r={r}\r\n                            c={c}\r\n                            val={val}\r\n                            initial={initialBoard[r][c] !== 0}\r\n                        />\r\n                    ))\r\n                ))}\r\n\r\n                {/* Performance Optimized Highlight Layers */}\r\n                <LocalHoverHighlight />\r\n                <OpponentHoverHighlight />\r\n            </div>\r\n        </motion.div>\r\n    );\r\n});\r\n\r\nBoard.displayName = 'Board';\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;AACA;;;;;;;;AAEA,MAAM,sBAAsB;;IACxB,MAAM,cAAc,IAAA,+HAAY;yDAAC,CAAA,QAAS,MAAM,WAAW;;IAC3D,IAAI,CAAC,aAAa,OAAO;IAEzB,qBACI,6LAAC;QACG,OAAO;YACH,SAAS,YAAY,CAAC,GAAG;YACzB,YAAY,YAAY,CAAC,GAAG;QAChC;QACA,WAAU;kBAEV,cAAA,6LAAC;YAAI,WAAU;;;;;;;;;;;AAG3B;GAfM;;QACkB,+HAAY;;;KAD9B;AAiBN,MAAM,yBAAyB;;IAC3B,MAAM,uBAAuB,IAAA,+HAAY;qEAAC,CAAA,QAAS,MAAM,oBAAoB;;IAC7E,IAAI,qBAAqB,MAAM,KAAK,GAAG,OAAO;IAE9C,qBACI;kBACK,qBAAqB,GAAG,CAAC,CAAC,MAAM,kBAC7B,6LAAC;gBAEG,OAAO;oBACH,SAAS,KAAK,CAAC,GAAG;oBAClB,YAAY,KAAK,CAAC,GAAG;gBACzB;gBACA,WAAU;eALL;;;;;;AAUzB;IAlBM;;QAC2B,+HAAY;;;MADvC;AAoBC,MAAM,sBAAQ,IAAA,IAAA,qKAAI,YAAC;;IACtB,MAAM,EAAE,KAAK,EAAE,YAAY,EAAE,SAAS,EAAE,GAAG,IAAA,+HAAY,EAAC,IAAA,oKAAU;yCAAC,CAAA,QAAS,CAAC;gBACzE,OAAO,MAAM,KAAK;gBAClB,cAAc,MAAM,YAAY;gBAChC,WAAW,MAAM,SAAS;YAC9B,CAAC;;IAED,IAAA,0KAAS;2BAAC;YACN,IAAI,MAAM,MAAM,KAAK,GAAG;gBACpB,UAAU;YACd;QACJ;0BAAG;QAAC,MAAM,MAAM;QAAE;KAAU;IAE5B,IAAI,MAAM,MAAM,KAAK,GAAG,OAAO;IAE/B,qBACI,6LAAC,uMAAM,CAAC,GAAG;QACP,SAAS;YAAE,SAAS;YAAG,OAAO;QAAI;QAClC,SAAS;YAAE,SAAS;YAAG,OAAO;QAAE;QAChC,WAAU;kBAEV,cAAA,6LAAC;YAAI,WAAU;;gBACV,MAAM,GAAG,CAAC,CAAC,KAAK,IACb,IAAI,GAAG,CAAC,CAAC,KAAK,kBACV,6LAAC,sIAAI;4BAED,GAAG;4BACH,GAAG;4BACH,KAAK;4BACL,SAAS,YAAY,CAAC,EAAE,CAAC,EAAE,KAAK;2BAJ3B,GAAG,EAAE,CAAC,EAAE,GAAG;;;;;8BAU5B,6LAAC;;;;;8BACD,6LAAC;;;;;;;;;;;;;;;;AAIjB;;QAvC+C,+HAAY;;;;QAAZ,+HAAY;;;;AAyC3D,MAAM,WAAW,GAAG"}},
    {"offset": {"line": 1308, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/MAHARSHI%20NATH/OneDrive/Documents/sudoku/components/game/GameControls.tsx"],"sourcesContent":["import { useGameStore } from \"@/lib/store\";\r\nimport { Eraser, Pencil, RotateCcw, Lightbulb } from 'lucide-react';\r\nimport { cn } from \"@/lib/utils\";\r\nimport { motion } from \"framer-motion\";\r\nimport { useSound } from \"@/lib/hooks/useSound\";\r\n\r\nexport const GameControls = () => {\r\n    const undo = useGameStore(state => state.undo);\r\n\r\n    const toggleNotesMode = useGameStore(state => state.toggleNotesMode);\r\n    const isNotesMode = useGameStore(state => state.isNotesMode);\r\n    const setCellValue = useGameStore(state => state.setCellValue);\r\n    const getHint = useGameStore(state => state.getHint);\r\n    const hintsRemaining = useGameStore(state => state.hintsRemaining);\r\n\r\n\r\n\r\n    return (\r\n        <div className=\"flex justify-between w-full px-2\">\r\n            <ControlBtn\r\n                icon={<RotateCcw size={22} />}\r\n                label=\"Undo\"\r\n                onClick={undo}\r\n            />\r\n            <ControlBtn\r\n                icon={<Eraser size={22} />}\r\n                label=\"Erase\"\r\n                onClick={() => setCellValue(0)}\r\n            />\r\n            <ControlBtn\r\n                icon={<Pencil size={22} />}\r\n                label=\"Notes\"\r\n                isActive={isNotesMode}\r\n                onClick={toggleNotesMode}\r\n                badge={isNotesMode ? \"ON\" : \"OFF\"}\r\n            />\r\n            <ControlBtn\r\n                icon={<Lightbulb size={22} />}\r\n                label=\"Hint\"\r\n                onClick={getHint}\r\n                badge={`${hintsRemaining}`}\r\n                disabled={hintsRemaining <= 0}\r\n            />\r\n        </div>\r\n    );\r\n};\r\n\r\ninterface ControlBtnProps {\r\n    icon: React.ReactNode;\r\n    label: string;\r\n    onClick?: () => void;\r\n    isActive?: boolean;\r\n    badge?: string;\r\n    disabled?: boolean;\r\n}\r\n\r\nconst ControlBtn = ({ icon, label, onClick, isActive, badge, disabled }: ControlBtnProps) => {\r\n    const { playSound } = useSound();\r\n    return (\r\n        <motion.button\r\n            whileTap={disabled ? {} : { scale: 0.9 }}\r\n            whileHover={disabled ? {} : { scale: 1.05 }}\r\n            onClick={disabled ? undefined : () => {\r\n                playSound('click');\r\n                onClick?.();\r\n            }}\r\n            suppressHydrationWarning\r\n            draggable={false}\r\n            className={cn(\r\n                \"flex flex-col items-center gap-2 group relative transition-all outline-none\",\r\n                disabled\r\n                    ? \"text-slate-300 cursor-not-allowed opacity-50\"\r\n                    : isActive ? \"text-indigo-600\" : \"text-slate-400 hover:text-indigo-600\"\r\n            )}\r\n        >\r\n            <div className={cn(\r\n                \"w-14 h-14 rounded-2xl flex items-center justify-center transition-all border-2 shadow-sm\",\r\n                disabled\r\n                    ? \"bg-slate-50 border-slate-100 text-slate-300\"\r\n                    : isActive\r\n                        ? \"bg-indigo-600 text-white border-indigo-600 shadow-indigo-200 shadow-lg ring-2 ring-indigo-100 ring-offset-2\"\r\n                        : \"bg-white border-slate-100 text-slate-600 group-hover:border-indigo-100 group-hover:bg-indigo-50 group-hover:text-indigo-600\"\r\n            )}>\r\n                {icon}\r\n            </div>\r\n            <span className=\"text-[10px] font-bold tracking-widest uppercase\">{label}</span>\r\n            {badge && (\r\n                <motion.div\r\n                    initial={{ scale: 0 }}\r\n                    animate={{ scale: 1 }}\r\n                    className={cn(\r\n                        \"absolute top-0 right-0 -mr-1 -mt-1 text-[9px] font-bold px-1.5 py-0.5 rounded-full shadow-sm z-10 border border-white\",\r\n                        disabled ? \"bg-slate-300 text-white\" : isActive ? \"bg-white text-indigo-600\" : \"bg-slate-800 text-white\"\r\n                    )}\r\n                >\r\n                    {badge}\r\n                </motion.div>\r\n            )}\r\n        </motion.button>\r\n    );\r\n};\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;;;;;;;;AAEO,MAAM,eAAe;;IACxB,MAAM,OAAO,IAAA,+HAAY;2CAAC,CAAA,QAAS,MAAM,IAAI;;IAE7C,MAAM,kBAAkB,IAAA,+HAAY;sDAAC,CAAA,QAAS,MAAM,eAAe;;IACnE,MAAM,cAAc,IAAA,+HAAY;kDAAC,CAAA,QAAS,MAAM,WAAW;;IAC3D,MAAM,eAAe,IAAA,+HAAY;mDAAC,CAAA,QAAS,MAAM,YAAY;;IAC7D,MAAM,UAAU,IAAA,+HAAY;8CAAC,CAAA,QAAS,MAAM,OAAO;;IACnD,MAAM,iBAAiB,IAAA,+HAAY;qDAAC,CAAA,QAAS,MAAM,cAAc;;IAIjE,qBACI,6LAAC;QAAI,WAAU;;0BACX,6LAAC;gBACG,oBAAM,6LAAC,gOAAS;oBAAC,MAAM;;;;;;gBACvB,OAAM;gBACN,SAAS;;;;;;0BAEb,6LAAC;gBACG,oBAAM,6LAAC,mNAAM;oBAAC,MAAM;;;;;;gBACpB,OAAM;gBACN,SAAS,IAAM,aAAa;;;;;;0BAEhC,6LAAC;gBACG,oBAAM,6LAAC,mNAAM;oBAAC,MAAM;;;;;;gBACpB,OAAM;gBACN,UAAU;gBACV,SAAS;gBACT,OAAO,cAAc,OAAO;;;;;;0BAEhC,6LAAC;gBACG,oBAAM,6LAAC,4NAAS;oBAAC,MAAM;;;;;;gBACvB,OAAM;gBACN,SAAS;gBACT,OAAO,GAAG,gBAAgB;gBAC1B,UAAU,kBAAkB;;;;;;;;;;;;AAI5C;GAvCa;;QACI,+HAAY;QAED,+HAAY;QAChB,+HAAY;QACX,+HAAY;QACjB,+HAAY;QACL,+HAAY;;;KAP1B;AAkDb,MAAM,aAAa,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,OAAO,EAAE,QAAQ,EAAE,KAAK,EAAE,QAAQ,EAAmB;;IACpF,MAAM,EAAE,SAAS,EAAE,GAAG,IAAA,uIAAQ;IAC9B,qBACI,6LAAC,uMAAM,CAAC,MAAM;QACV,UAAU,WAAW,CAAC,IAAI;YAAE,OAAO;QAAI;QACvC,YAAY,WAAW,CAAC,IAAI;YAAE,OAAO;QAAK;QAC1C,SAAS,WAAW,YAAY;YAC5B,UAAU;YACV;QACJ;QACA,wBAAwB;QACxB,WAAW;QACX,WAAW,IAAA,qHAAE,EACT,+EACA,WACM,iDACA,WAAW,oBAAoB;;0BAGzC,6LAAC;gBAAI,WAAW,IAAA,qHAAE,EACd,4FACA,WACM,gDACA,WACI,gHACA;0BAET;;;;;;0BAEL,6LAAC;gBAAK,WAAU;0BAAmD;;;;;;YAClE,uBACG,6LAAC,uMAAM,CAAC,GAAG;gBACP,SAAS;oBAAE,OAAO;gBAAE;gBACpB,SAAS;oBAAE,OAAO;gBAAE;gBACpB,WAAW,IAAA,qHAAE,EACT,yHACA,WAAW,4BAA4B,WAAW,6BAA6B;0BAGlF;;;;;;;;;;;;AAKrB;IA5CM;;QACoB,uIAAQ;;;MAD5B"}},
    {"offset": {"line": 1504, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/MAHARSHI%20NATH/OneDrive/Documents/sudoku/components/game/Numpad.tsx"],"sourcesContent":["import { useRef, memo, useCallback, useMemo } from \"react\";\r\nimport { useGameStore } from \"@/lib/store\";\r\nimport { useShallow } from 'zustand/react/shallow';\r\nimport { motion, PanInfo } from \"framer-motion\";\r\nimport { useSound } from \"@/lib/hooks/useSound\";\r\n\r\nexport const Numpad = memo(() => {\r\n    const { setCellValue, isOpponentTurn } = useGameStore(useShallow(state => ({\r\n        setCellValue: state.setCellValue,\r\n        isOpponentTurn: state.mode === 'pvp' && state.currentTurn !== null && state.uid !== state.currentTurn\r\n    })));\r\n\r\n    const { playSound } = useSound();\r\n    const numbers = useMemo(() => [1, 2, 3, 4, 5, 6, 7, 8, 9], []);\r\n\r\n    const boardRectRef = useRef<DOMRect | null>(null);\r\n\r\n    const handleDragStart = useCallback(() => {\r\n        if (isOpponentTurn) return;\r\n        // Cache the board rect at drag start for consistent hit-testing\r\n        const boardEl = document.querySelector('.sudoku-board');\r\n        boardRectRef.current = boardEl?.getBoundingClientRect() ?? null;\r\n        useGameStore.getState().setHoveredCell(null);\r\n    }, [isOpponentTurn]);\r\n\r\n    const getCellFromPoint = useCallback((clientX: number, clientY: number) => {\r\n        const rect = boardRectRef.current;\r\n        if (!rect) return null;\r\n\r\n        if (clientX < rect.left || clientX > rect.right || clientY < rect.top || clientY > rect.bottom) {\r\n            return null;\r\n        }\r\n\r\n        const x = clientX - rect.left;\r\n        const y = clientY - rect.top;\r\n        const r = Math.min(8, Math.max(0, Math.floor((y / rect.height) * 9)));\r\n        const c = Math.min(8, Math.max(0, Math.floor((x / rect.width) * 9)));\r\n\r\n        return { r, c };\r\n    }, []);\r\n\r\n    const handleDrag = useCallback((_e: MouseEvent | TouchEvent | PointerEvent, info: PanInfo) => {\r\n        if (isOpponentTurn) return;\r\n\r\n        // Use Framer Motion's PanInfo.point which gives accurate page coordinates\r\n        const cell = getCellFromPoint(info.point.x, info.point.y);\r\n        const currentHover = useGameStore.getState().hoveredCell;\r\n\r\n        if (!cell) {\r\n            if (currentHover !== null) useGameStore.getState().setHoveredCell(null);\r\n            return;\r\n        }\r\n\r\n        if (cell.r !== currentHover?.r || cell.c !== currentHover?.c) {\r\n            useGameStore.getState().setHoveredCell(cell);\r\n        }\r\n    }, [isOpponentTurn, getCellFromPoint]);\r\n\r\n    const handleDragEnd = useCallback((_e: MouseEvent | TouchEvent | PointerEvent, info: PanInfo, num: number) => {\r\n        if (isOpponentTurn) return;\r\n\r\n        const cellCoords = getCellFromPoint(info.point.x, info.point.y);\r\n        const state = useGameStore.getState();\r\n\r\n        state.setHoveredCell(null);\r\n        boardRectRef.current = null;\r\n\r\n        if (cellCoords) {\r\n            const { r, c } = cellCoords;\r\n            if (!state.initialBoard[r][c]) {\r\n                state.selectCell(r, c);\r\n                state.setCellValue(num);\r\n                playSound('correct');\r\n            }\r\n        }\r\n    }, [isOpponentTurn, getCellFromPoint, playSound]);\r\n\r\n    return (\r\n        <div className=\"grid grid-cols-3 gap-1.5 sm:gap-2 w-full touch-none max-w-sm mx-auto px-1\">\r\n            {numbers.map((num) => (\r\n                <motion.div\r\n                    key={num}\r\n                    drag\r\n                    dragSnapToOrigin\r\n                    dragElastic={0.05}\r\n                    dragMomentum={false}\r\n                    dragTransition={{ bounceStiffness: 600, bounceDamping: 30 }}\r\n                    whileDrag={{\r\n                        scale: 1.3,\r\n                        zIndex: 100,\r\n                        cursor: \"grabbing\",\r\n                        opacity: 0.85,\r\n                        boxShadow: \"0 20px 40px rgba(0,0,0,0.15)\"\r\n                    }}\r\n                    onDragStart={handleDragStart}\r\n                    onDrag={(e, info) => handleDrag(e, info)}\r\n                    onDragEnd={(e, info) => handleDragEnd(e, info, num)}\r\n                    whileHover={{ scale: isOpponentTurn ? 1 : 1.05 }}\r\n                    whileTap={{ scale: isOpponentTurn ? 1 : 0.90 }}\r\n                    onClick={() => {\r\n                        if (isOpponentTurn) return;\r\n                        playSound('click');\r\n                        setCellValue(num);\r\n                    }}\r\n                    draggable={false}\r\n                    className={`aspect-[4/3] flex items-center justify-center text-xl sm:text-2xl lg:text-4xl font-light text-indigo-600 bg-white shadow-sm border border-slate-200 hover:bg-slate-50 hover:border-indigo-200 hover:text-indigo-700 active:bg-indigo-100 rounded-lg lg:rounded-xl transition-all duration-200 select-none touch-none ${isOpponentTurn ? 'opacity-50 grayscale cursor-not-allowed' : 'cursor-grab active:cursor-grabbing'}`}\r\n                    style={{ touchAction: 'none' } as React.CSSProperties}\r\n                >\r\n                    {num}\r\n                </motion.div>\r\n            ))}\r\n        </div>\r\n    );\r\n});\r\n\r\nNumpad.displayName = 'Numpad';\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1682, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/MAHARSHI%20NATH/OneDrive/Documents/sudoku/components/game/Timer.tsx"],"sourcesContent":["import { useGameStore } from '@/lib/store';\r\nimport { motion } from 'framer-motion';\r\nimport { Clock } from 'lucide-react';\r\n\r\nexport const Timer = () => {\r\n    const timer = useGameStore(state => state.timer);\r\n    const status = useGameStore(state => state.status);\r\n\r\n    const formatTime = (seconds: number) => {\r\n        const mins = Math.floor(seconds / 60);\r\n        const secs = seconds % 60;\r\n        return `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;\r\n    };\r\n\r\n    return (\r\n        <div className=\"relative flex items-center gap-3\">\r\n            <div className=\"relative flex items-center justify-center\">\r\n                {/* Outer pulsing ring */}\r\n                {status === 'playing' && (\r\n                    <motion.div\r\n                        animate={{ scale: [1, 1.2], opacity: [0.5, 0] }}\r\n                        transition={{ duration: 2, repeat: Infinity, ease: \"easeOut\" }}\r\n                        className=\"absolute inset-0 rounded-full bg-indigo-400/20\"\r\n                    />\r\n                )}\r\n                <div className=\"w-8 h-8 rounded-full bg-indigo-50 flex items-center justify-center border border-indigo-100/50\">\r\n                    <Clock size={14} className={status === 'playing' ? \"text-indigo-600 animate-pulse\" : \"text-slate-400\"} />\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"flex flex-col\">\r\n                <span className=\"text-[10px] uppercase tracking-[0.2em] text-slate-400 font-bold leading-none mb-1\">Elapsed</span>\r\n                <motion.span\r\n                    key={timer}\r\n                    initial={{ opacity: 0.8 }}\r\n                    animate={{ opacity: 1 }}\r\n                    className=\"font-mono text-2xl font-black text-slate-800 tabular-nums leading-none tracking-tight\"\r\n                >\r\n                    {formatTime(timer)}\r\n                </motion.span>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;;;;;;AAEO,MAAM,QAAQ;;IACjB,MAAM,QAAQ,IAAA,+HAAY;qCAAC,CAAA,QAAS,MAAM,KAAK;;IAC/C,MAAM,SAAS,IAAA,+HAAY;sCAAC,CAAA,QAAS,MAAM,MAAM;;IAEjD,MAAM,aAAa,CAAC;QAChB,MAAM,OAAO,KAAK,KAAK,CAAC,UAAU;QAClC,MAAM,OAAO,UAAU;QACvB,OAAO,GAAG,KAAK,QAAQ,GAAG,QAAQ,CAAC,GAAG,KAAK,CAAC,EAAE,KAAK,QAAQ,GAAG,QAAQ,CAAC,GAAG,MAAM;IACpF;IAEA,qBACI,6LAAC;QAAI,WAAU;;0BACX,6LAAC;gBAAI,WAAU;;oBAEV,WAAW,2BACR,6LAAC,uMAAM,CAAC,GAAG;wBACP,SAAS;4BAAE,OAAO;gCAAC;gCAAG;6BAAI;4BAAE,SAAS;gCAAC;gCAAK;6BAAE;wBAAC;wBAC9C,YAAY;4BAAE,UAAU;4BAAG,QAAQ;4BAAU,MAAM;wBAAU;wBAC7D,WAAU;;;;;;kCAGlB,6LAAC;wBAAI,WAAU;kCACX,cAAA,6LAAC,gNAAK;4BAAC,MAAM;4BAAI,WAAW,WAAW,YAAY,kCAAkC;;;;;;;;;;;;;;;;;0BAI7F,6LAAC;gBAAI,WAAU;;kCACX,6LAAC;wBAAK,WAAU;kCAAoF;;;;;;kCACpG,6LAAC,uMAAM,CAAC,IAAI;wBAER,SAAS;4BAAE,SAAS;wBAAI;wBACxB,SAAS;4BAAE,SAAS;wBAAE;wBACtB,WAAU;kCAET,WAAW;uBALP;;;;;;;;;;;;;;;;;AAUzB;GAvCa;;QACK,+HAAY;QACX,+HAAY;;;KAFlB"}},
    {"offset": {"line": 1811, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/MAHARSHI%20NATH/OneDrive/Documents/sudoku/components/game/HintToast.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useGameStore } from '@/lib/store';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport { Sparkles } from 'lucide-react';\r\n\r\nexport const HintToast = () => {\r\n    const lastHint = useGameStore(state => state.lastHint);\r\n\r\n    return (\r\n        <AnimatePresence>\r\n            {lastHint && (\r\n                <motion.div\r\n                    initial={{ opacity: 0, y: 20, scale: 0.95 }}\r\n                    animate={{ opacity: 1, y: 0, scale: 1 }}\r\n                    exit={{ opacity: 0, y: -10, scale: 0.95 }}\r\n                    transition={{ type: 'spring', stiffness: 400, damping: 25 }}\r\n                    className=\"fixed bottom-6 left-1/2 -translate-x-1/2 z-50 max-w-sm w-[90vw]\"\r\n                >\r\n                    <div className=\"bg-white border border-amber-200 rounded-2xl shadow-lg shadow-amber-100/50 px-5 py-3.5 flex items-start gap-3\">\r\n                        <div className=\"w-8 h-8 rounded-xl bg-gradient-to-br from-amber-400 to-orange-500 flex items-center justify-center flex-shrink-0 shadow-sm\">\r\n                            <Sparkles size={16} className=\"text-white\" />\r\n                        </div>\r\n                        <div className=\"flex-1 min-w-0\">\r\n                            <p className=\"text-[11px] font-bold uppercase tracking-widest text-amber-600 mb-0.5\">\r\n                                {lastHint.strategy === 'naked_single' ? 'Naked Single' : lastHint.strategy === 'hidden_single' ? 'Hidden Single' : 'Hint'}\r\n                            </p>\r\n                            <p className=\"text-sm text-slate-700 leading-snug\">\r\n                                {lastHint.reason}\r\n                            </p>\r\n                        </div>\r\n                    </div>\r\n                </motion.div>\r\n            )}\r\n        </AnimatePresence>\r\n    );\r\n};\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AACA;;;AAJA;;;;AAMO,MAAM,YAAY;;IACrB,MAAM,WAAW,IAAA,+HAAY;4CAAC,CAAA,QAAS,MAAM,QAAQ;;IAErD,qBACI,6LAAC,+MAAe;kBACX,0BACG,6LAAC,uMAAM,CAAC,GAAG;YACP,SAAS;gBAAE,SAAS;gBAAG,GAAG;gBAAI,OAAO;YAAK;YAC1C,SAAS;gBAAE,SAAS;gBAAG,GAAG;gBAAG,OAAO;YAAE;YACtC,MAAM;gBAAE,SAAS;gBAAG,GAAG,CAAC;gBAAI,OAAO;YAAK;YACxC,YAAY;gBAAE,MAAM;gBAAU,WAAW;gBAAK,SAAS;YAAG;YAC1D,WAAU;sBAEV,cAAA,6LAAC;gBAAI,WAAU;;kCACX,6LAAC;wBAAI,WAAU;kCACX,cAAA,6LAAC,yNAAQ;4BAAC,MAAM;4BAAI,WAAU;;;;;;;;;;;kCAElC,6LAAC;wBAAI,WAAU;;0CACX,6LAAC;gCAAE,WAAU;0CACR,SAAS,QAAQ,KAAK,iBAAiB,iBAAiB,SAAS,QAAQ,KAAK,kBAAkB,kBAAkB;;;;;;0CAEvH,6LAAC;gCAAE,WAAU;0CACR,SAAS,MAAM;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQhD;GA9Ba;;QACQ,+HAAY;;;KADpB"}},
    {"offset": {"line": 1929, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/MAHARSHI%20NATH/OneDrive/Documents/sudoku/lib/firebase/auth.ts"],"sourcesContent":["import { auth } from \"./firebase\";\r\nimport {\r\n    signInAnonymously,\r\n    onAuthStateChanged,\r\n    User,\r\n    updateProfile\r\n} from \"firebase/auth\";\r\n\r\n/**\r\n * Sign in anonymously and set a display name.\r\n */\r\nexport const signInUser = async (displayName: string) => {\r\n    if (!auth) throw new Error(\"Firebase Auth not initialized\");\r\n\r\n    try {\r\n        const userCredential = await signInAnonymously(auth);\r\n        const user = userCredential.user;\r\n\r\n        // Update profile with name if provided\r\n        if (displayName && user) {\r\n            await updateProfile(user, { displayName });\r\n        }\r\n\r\n        return user;\r\n    } catch (error) {\r\n        console.error(\"Auth error:\", error);\r\n        throw error;\r\n    }\r\n};\r\n\r\n/**\r\n * Listen for auth state changes.\r\n */\r\nexport const listenToAuth = (callback: (user: User | null) => void) => {\r\n    if (!auth) return () => { };\r\n    return onAuthStateChanged(auth, callback);\r\n};\r\n\r\nexport const getCurrentUser = () => {\r\n    if (!auth) return null;\r\n    return auth.currentUser;\r\n};\r\n"],"names":[],"mappings":";;;;;;;;AAAA;AACA;AAAA;;;AAUO,MAAM,aAAa,OAAO;IAC7B,IAAI,CAAC,sIAAI,EAAE,MAAM,IAAI,MAAM;IAE3B,IAAI;QACA,MAAM,iBAAiB,MAAM,IAAA,kLAAiB,EAAC,sIAAI;QACnD,MAAM,OAAO,eAAe,IAAI;QAEhC,uCAAuC;QACvC,IAAI,eAAe,MAAM;YACrB,MAAM,IAAA,8KAAa,EAAC,MAAM;gBAAE;YAAY;QAC5C;QAEA,OAAO;IACX,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,eAAe;QAC7B,MAAM;IACV;AACJ;AAKO,MAAM,eAAe,CAAC;IACzB,IAAI,CAAC,sIAAI,EAAE,OAAO,KAAQ;IAC1B,OAAO,IAAA,mLAAkB,EAAC,sIAAI,EAAE;AACpC;AAEO,MAAM,iBAAiB;IAC1B,IAAI,CAAC,sIAAI,EAAE,OAAO;IAClB,OAAO,sIAAI,CAAC,WAAW;AAC3B"}},
    {"offset": {"line": 1974, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/MAHARSHI%20NATH/OneDrive/Documents/sudoku/components/layout/Lobby.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState } from 'react';\r\nimport { useGameStore } from '@/lib/store';\r\nimport { signInUser } from '@/lib/firebase/auth';\r\nimport { getUserProfile } from '@/lib/firebase/users';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport { Copy, Check, Users, ArrowLeft, Loader2, Swords } from 'lucide-react';\r\n\r\nexport const Lobby = () => {\r\n    const { setMultiplayerState } = useGameStore();\r\n    const [name, setName] = useState('');\r\n    const [roomIdInput, setRoomIdInput] = useState('');\r\n    const [createdRoomId, setCreatedRoomId] = useState<string | null>(null);\r\n    const [error, setError] = useState('');\r\n    const [loading, setLoading] = useState(false);\r\n    const [copied, setCopied] = useState(false);\r\n\r\n    const handleCreate = async () => {\r\n        if (!name.trim()) {\r\n            setError(\"Enter your name to continue\");\r\n            return;\r\n        }\r\n        setError('');\r\n        setLoading(true);\r\n        try {\r\n            let uidStr = useGameStore.getState().uid;\r\n            try {\r\n                // 1. Sign in the user (Firebase Auth)\r\n                const user = await signInUser(name.trim());\r\n                // 2. Setup user profile\r\n                await getUserProfile(user.uid, name.trim());\r\n                uidStr = user.uid;\r\n            } catch (err) {\r\n                console.warn(\"Firebase Auth blocked/failed. Using temporary local ID instead.\", err);\r\n                if (!uidStr) uidStr = 'guest-' + Math.random().toString(36).substring(2, 10);\r\n            }\r\n\r\n            // Generate a random 6-char Liveblocks room code\r\n            const chars = 'ABCDEFGHJKMNPQRSTUVWXYZ23456789';\r\n            let id = '';\r\n            for (let i = 0; i < 6; i++) {\r\n                id += chars[Math.floor(Math.random() * chars.length)];\r\n            }\r\n\r\n            setCreatedRoomId(id);\r\n            setMultiplayerState({\r\n                roomId: id,\r\n                playerId: name.trim(),\r\n                uid: uidStr,\r\n                mode: 'pvp',\r\n                status: 'waiting'\r\n            });\r\n\r\n        } catch (error: unknown) {\r\n            console.error(\"Lobby Create Error:\", error);\r\n            const msg = error instanceof Error ? error.message : \"Failed to create room\";\r\n            setError(msg);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const handleJoin = async () => {\r\n        if (!name.trim() || !roomIdInput.trim()) {\r\n            setError(\"Enter your name and room code\");\r\n            return;\r\n        }\r\n        setError('');\r\n        setLoading(true);\r\n        try {\r\n            const code = roomIdInput.trim().toUpperCase();\r\n\r\n            let uidStr = useGameStore.getState().uid;\r\n            try {\r\n                // 1. Sign in the user\r\n                const user = await signInUser(name.trim());\r\n                // 2. Setup user profile\r\n                await getUserProfile(user.uid, name.trim());\r\n                uidStr = user.uid;\r\n            } catch (err) {\r\n                console.warn(\"Firebase Auth blocked/failed. Using temporary local ID instead.\", err);\r\n                if (!uidStr) uidStr = 'guest-' + Math.random().toString(36).substring(2, 10);\r\n            }\r\n\r\n            setMultiplayerState({\r\n                roomId: code,\r\n                playerId: name.trim(),\r\n                uid: uidStr,\r\n                mode: 'pvp',\r\n                status: 'waiting' // Liveblocks RoomProvider inside PvPArena will transition this to 'playing' when enough players connect\r\n            });\r\n\r\n        } catch (error: unknown) {\r\n            const msg = error instanceof Error ? error.message : \"Failed to join room\";\r\n            setError(msg);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const handleCopy = () => {\r\n        if (!createdRoomId) return;\r\n        navigator.clipboard.writeText(createdRoomId);\r\n        setCopied(true);\r\n        setTimeout(() => setCopied(false), 2000);\r\n    };\r\n\r\n    // --- \"Waiting for Opponent\" Screen ---\r\n    if (createdRoomId) {\r\n        return (\r\n            <motion.div\r\n                initial={{ opacity: 0, scale: 0.95 }}\r\n                animate={{ opacity: 1, scale: 1 }}\r\n                className=\"flex flex-col items-center justify-center w-full max-w-md mx-auto p-8\"\r\n            >\r\n                <div className=\"bg-white rounded-3xl shadow-xl shadow-slate-200/60 border border-slate-100 p-8 w-full text-center\">\r\n                    {/* Header */}\r\n                    <div className=\"w-16 h-16 rounded-2xl bg-gradient-to-br from-indigo-500 to-violet-600 flex items-center justify-center mx-auto mb-5 shadow-lg shadow-indigo-200\">\r\n                        <Swords size={28} className=\"text-white\" />\r\n                    </div>\r\n                    <h2 className=\"text-2xl font-bold text-slate-800 mb-1\">Room Created!</h2>\r\n                    <p className=\"text-sm text-slate-400 mb-6\">Share this code with your opponent</p>\r\n\r\n                    {/* Room Code */}\r\n                    <div className=\"bg-slate-50 border border-slate-100 rounded-2xl p-6 mb-6\">\r\n                        <p className=\"text-[10px] font-bold uppercase tracking-[0.2em] text-slate-400 mb-2\">Room Code</p>\r\n                        <div className=\"flex items-center justify-center gap-3\">\r\n                            <p className=\"text-4xl font-mono font-black tracking-[0.3em] text-slate-800 select-all\">{createdRoomId}</p>\r\n                            <button\r\n                                onClick={handleCopy}\r\n                                className=\"w-10 h-10 rounded-xl bg-white border border-slate-200 flex items-center justify-center text-slate-500 hover:text-indigo-600 hover:border-indigo-200 transition-all shadow-sm\"\r\n                            >\r\n                                {copied ? <Check size={18} className=\"text-emerald-500\" /> : <Copy size={18} />}\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Waiting indicator */}\r\n                    <div className=\"flex flex-col gap-3\">\r\n                        <div className=\"flex items-center justify-center gap-3 text-indigo-500\">\r\n                            <Loader2 size={18} className=\"animate-spin\" />\r\n                            <span className=\"text-sm font-medium\">Waiting for opponent to connect...</span>\r\n                        </div>\r\n                        <button\r\n                            onClick={() => {\r\n                                // Transition directly to Arena, it will handle waiting states via Liveblocks\r\n                                useGameStore.getState().setMultiplayerState({ status: 'playing' });\r\n                            }}\r\n                            className=\"mt-2 text-indigo-600 text-sm font-bold underline decoration-indigo-200 underline-offset-4\"\r\n                        >\r\n                            Or join the room now\r\n                        </button>\r\n                    </div>\r\n\r\n                    {/* Back button */}\r\n                    <button\r\n                        onClick={() => setCreatedRoomId(null)}\r\n                        className=\"mt-6 flex items-center gap-2 mx-auto text-sm text-slate-400 hover:text-slate-600 transition-colors\"\r\n                    >\r\n                        <ArrowLeft size={14} />\r\n                        <span>Back</span>\r\n                    </button>\r\n                </div>\r\n            </motion.div>\r\n        );\r\n    }\r\n\r\n    // --- Main Lobby Screen ---\r\n    return (\r\n        <motion.div\r\n            initial={{ opacity: 0, y: 20 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            transition={{ type: 'spring', stiffness: 300, damping: 25 }}\r\n            className=\"flex flex-col items-center justify-center w-full max-w-sm mx-auto p-4\"\r\n        >\r\n            <div className=\"bg-white rounded-3xl shadow-xl shadow-slate-200/60 border border-slate-100 p-8 w-full\">\r\n                {/* Header */}\r\n                <div className=\"text-center mb-8\">\r\n                    <div className=\"w-14 h-14 rounded-2xl bg-gradient-to-br from-indigo-500 to-violet-600 flex items-center justify-center mx-auto mb-4 shadow-lg shadow-indigo-200\">\r\n                        <Users size={24} className=\"text-white\" />\r\n                    </div>\r\n                    <h2 className=\"text-2xl font-bold text-slate-800\">PvP Arena</h2>\r\n                    <p className=\"text-sm text-slate-400 mt-1\">Challenge a friend in real-time</p>\r\n                </div>\r\n\r\n                {/* Name Input */}\r\n                <div className=\"mb-6\">\r\n                    <label className=\"text-[10px] font-bold uppercase tracking-[0.15em] text-slate-400 mb-2 block\">Your Name</label>\r\n                    <input\r\n                        type=\"text\"\r\n                        placeholder=\"Enter your name\"\r\n                        value={name}\r\n                        onChange={e => { setName(e.target.value); setError(''); }}\r\n                        maxLength={16}\r\n                        className=\"w-full px-4 py-3.5 rounded-xl border-2 border-slate-100 bg-slate-50 text-slate-800 placeholder-slate-300 font-medium focus:border-indigo-400 focus:bg-white focus:ring-4 focus:ring-indigo-50 outline-none transition-all\"\r\n                    />\r\n                </div>\r\n\r\n                {/* Create Room Button */}\r\n                <motion.button\r\n                    whileTap={{ scale: 0.97 }}\r\n                    onClick={handleCreate}\r\n                    disabled={loading}\r\n                    className=\"w-full py-3.5 bg-slate-900 text-white rounded-xl font-bold text-sm tracking-wide hover:bg-slate-800 disabled:opacity-40 disabled:cursor-not-allowed transition-all shadow-lg shadow-slate-300/30\"\r\n                >\r\n                    {loading ? (\r\n                        <span className=\"flex items-center justify-center gap-2\">\r\n                            <Loader2 size={16} className=\"animate-spin\" />\r\n                            Creating...\r\n                        </span>\r\n                    ) : 'Create Room'}\r\n                </motion.button>\r\n\r\n                {/* Divider */}\r\n                <div className=\"flex items-center gap-4 my-6\">\r\n                    <div className=\"h-[1px] bg-slate-100 flex-1\" />\r\n                    <span className=\"text-[10px] font-bold uppercase tracking-[0.2em] text-slate-300\">or join</span>\r\n                    <div className=\"h-[1px] bg-slate-100 flex-1\" />\r\n                </div>\r\n\r\n                {/* Join Room */}\r\n                <div className=\"flex gap-2\">\r\n                    <input\r\n                        type=\"text\"\r\n                        placeholder=\"ROOM CODE\"\r\n                        value={roomIdInput}\r\n                        onChange={e => { setRoomIdInput(e.target.value.toUpperCase()); setError(''); }}\r\n                        maxLength={6}\r\n                        className=\"flex-1 px-4 py-3.5 rounded-xl border-2 border-slate-100 bg-slate-50 text-slate-800 placeholder-slate-300 font-mono font-bold text-center tracking-[0.2em] uppercase focus:border-indigo-400 focus:bg-white focus:ring-4 focus:ring-indigo-50 outline-none transition-all\"\r\n                    />\r\n                    <motion.button\r\n                        whileTap={{ scale: 0.95 }}\r\n                        onClick={handleJoin}\r\n                        disabled={loading}\r\n                        className=\"px-6 py-3.5 bg-indigo-600 text-white rounded-xl font-bold text-sm hover:bg-indigo-700 disabled:opacity-40 disabled:cursor-not-allowed transition-all shadow-md shadow-indigo-200/50\"\r\n                    >\r\n                        {loading ? <Loader2 size={16} className=\"animate-spin\" /> : 'Join'}\r\n                    </motion.button>\r\n                </div>\r\n\r\n                {/* Practice against AI */}\r\n                <div className=\"mt-8\">\r\n                    <p className=\"text-[10px] font-bold uppercase tracking-[0.2em] text-slate-300 text-center mb-3\">No one online?</p>\r\n                    <motion.button\r\n                        whileTap={{ scale: 0.97 }}\r\n                        onClick={() => {\r\n                            const { startGame, difficulty } = useGameStore.getState();\r\n                            startGame(difficulty, 'bot');\r\n                        }}\r\n                        className=\"w-full py-3 bg-white text-indigo-600 border-2 border-indigo-100 rounded-xl font-bold text-sm hover:bg-indigo-50 hover:border-indigo-200 transition-all flex items-center justify-center gap-2\"\r\n                    >\r\n                        <Swords size={16} />\r\n                        Practice vs AI Bot\r\n                    </motion.button>\r\n                </div>\r\n\r\n                {/* Error */}\r\n                <AnimatePresence>\r\n                    {error && (\r\n                        <motion.p\r\n                            initial={{ opacity: 0, y: -5 }}\r\n                            animate={{ opacity: 1, y: 0 }}\r\n                            exit={{ opacity: 0 }}\r\n                            className=\"mt-4 text-sm text-center text-rose-500 font-medium bg-rose-50 py-2.5 rounded-xl border border-rose-100\"\r\n                        >\r\n                            {error}\r\n                        </motion.p>\r\n                    )}\r\n                </AnimatePresence>\r\n            </div>\r\n        </motion.div>\r\n    );\r\n};\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2565, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/MAHARSHI%20NATH/OneDrive/Documents/sudoku/liveblocks.config.ts"],"sourcesContent":["import { createClient, LiveList, LiveMap, LiveObject } from \"@liveblocks/client\";\r\nimport { createRoomContext } from \"@liveblocks/react\";\r\nimport type { Difficulty } from \"./lib/logic/sudoku\";\r\n\r\nexport const client = createClient({\r\n    authEndpoint: \"/api/liveblocks-auth\",\r\n});\r\n\r\n// Cursor and cell hover state for real-time presence\r\nexport type Presence = {\r\n    cursor: { x: number; y: number } | null;\r\n    hoveredCell: { r: number; c: number } | null;\r\n};\r\n\r\nexport type PlayerState = {\r\n    name: string;\r\n    progress: number;\r\n    mistakes: number;\r\n    status: \"playing\" | \"won\" | \"lost\";\r\n};\r\n\r\n// Shared state for the game board\r\nexport type Storage = {\r\n    board: LiveList<number>;\r\n    initialBoard: LiveList<number>;\r\n    solvedBoard: LiveList<number>;\r\n    status: \"waiting\" | \"playing\" | \"finished\";\r\n    difficulty: Difficulty;\r\n    players: LiveMap<string, LiveObject<PlayerState>>;\r\n    winner: string | null;\r\n    cellOwners: LiveMap<string, string>;\r\n    currentTurn: string | null;\r\n};\r\n\r\nexport type UserMeta = {\r\n    id: string; // The user's UID\r\n    info: {\r\n        name: string;\r\n        avatar?: string;\r\n    };\r\n};\r\n\r\nexport type RoomEvent =\r\n    | { type: \"GAME_STARTED\" }\r\n    | { type: \"GAME_OVER\"; winner: string };\r\n\r\nexport const {\r\n    suspense: {\r\n        RoomProvider,\r\n        useRoom,\r\n        useMyPresence,\r\n        useUpdateMyPresence,\r\n        useSelf,\r\n        useOthers,\r\n        useOthersMapped,\r\n        useOthersConnectionIds,\r\n        useOther,\r\n        useBroadcastEvent,\r\n        useEventListener,\r\n        useErrorListener,\r\n        useStorage,\r\n        useHistory,\r\n        useUndo,\r\n        useRedo,\r\n        useCanUndo,\r\n        useCanRedo,\r\n        useMutation,\r\n        useStatus,\r\n        useLostConnectionListener,\r\n        useThreads,\r\n        useUser,\r\n        useRoomInfo,\r\n    }\r\n} = createRoomContext<Presence, Storage, UserMeta, RoomEvent>(client);\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;;;AAGO,MAAM,SAAS,IAAA,wKAAY,EAAC;IAC/B,cAAc;AAClB;AAwCO,MAAM,EACT,UAAU,EACN,YAAY,EACZ,OAAO,EACP,aAAa,EACb,mBAAmB,EACnB,OAAO,EACP,SAAS,EACT,eAAe,EACf,sBAAsB,EACtB,QAAQ,EACR,iBAAiB,EACjB,gBAAgB,EAChB,gBAAgB,EAChB,UAAU,EACV,UAAU,EACV,OAAO,EACP,OAAO,EACP,UAAU,EACV,UAAU,EACV,WAAW,EACX,SAAS,EACT,yBAAyB,EACzB,UAAU,EACV,OAAO,EACP,WAAW,EACd,EACJ,GAAG,IAAA,0LAAiB,EAAyC"}},
    {"offset": {"line": 2632, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/MAHARSHI%20NATH/OneDrive/Documents/sudoku/components/game/PvPArena.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useMemo } from 'react';\r\nimport { useGameStore } from '@/lib/store';\r\nimport { useShallow } from 'zustand/react/shallow';\r\nimport { Board } from './Board';\r\nimport { GameControls } from './GameControls';\r\nimport { Numpad } from './Numpad';\r\nimport { Timer } from './Timer';\r\nimport { Users, Trophy, XCircle, Loader2 } from 'lucide-react';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport { RoomProvider, useStorage, useMutation, useMyPresence, useOthers } from '@/liveblocks.config';\r\nimport { ClientSideSuspense } from '@liveblocks/react';\r\nimport { LiveList, LiveMap, LiveObject } from '@liveblocks/client';\r\nimport { generateSudoku } from '@/lib/logic/sudoku';\r\n\r\nconst PvPArenaContent = () => {\r\n    const {\r\n        status: localStatus,\r\n        opponentName,\r\n        opponentProgress,\r\n        mistakes,\r\n        mode,\r\n        uid,\r\n        playerName,\r\n        setMultiplayerState,\r\n        setRemoteBoard,\r\n        setSyncAction,\r\n        setCellOwners,\r\n        setCurrentTurn,\r\n        hoveredCell,\r\n        selectedCell,\r\n        currentTurn\r\n    } = useGameStore(useShallow(state => ({\r\n        status: state.status,\r\n        opponentName: state.opponentName,\r\n        opponentProgress: state.opponentProgress,\r\n        mistakes: state.mistakes,\r\n        mode: state.mode,\r\n        uid: state.uid,\r\n        playerName: state.playerName,\r\n        setMultiplayerState: state.setMultiplayerState,\r\n        setRemoteBoard: state.setRemoteBoard,\r\n        setSyncAction: state.setSyncAction,\r\n        setCellOwners: state.setCellOwners,\r\n        setCurrentTurn: state.setCurrentTurn,\r\n        hoveredCell: state.hoveredCell,\r\n        selectedCell: state.selectedCell,\r\n        currentTurn: state.currentTurn\r\n    })));\r\n\r\n    // Liveblocks State\r\n    const lbStatus = useStorage((root: any) => root.status);\r\n    const lbWinner = useStorage((root: any) => root.winner);\r\n    const lbBoard = useStorage((root: any) => root.board);\r\n    const lbPlayers = useStorage((root: any) => root.players);\r\n    const lbCellOwners = useStorage((root: any) => root.cellOwners);\r\n    const lbCurrentTurn = useStorage((root: any) => root.currentTurn);\r\n    const isFirebaseConnected = true; // Always connected when LB suspense renders\r\n\r\n    // Presence\r\n    const [, updateMyPresence] = useMyPresence();\r\n    const others = useOthers();\r\n\r\n    // Broadcast local hover/select state - Debounced to improve drag performance\r\n    useEffect(() => {\r\n        const timer = setTimeout(() => {\r\n            updateMyPresence({\r\n                hoveredCell: hoveredCell || selectedCell || null\r\n            });\r\n        }, 32); // ~30fps update rate for presence is plenty\r\n        return () => clearTimeout(timer);\r\n    }, [hoveredCell, selectedCell, updateMyPresence]);\r\n\r\n    // Receive opponent presence\r\n    useEffect(() => {\r\n        const opponentCells = others\r\n            .map((other: any) => other.presence?.hoveredCell)\r\n            .filter(Boolean) as { r: number, c: number }[];\r\n\r\n        useGameStore.setState({ opponentHoveredCells: opponentCells });\r\n    }, [others]);\r\n\r\n    // Join room mutation: adds player to the LiveMap\r\n    const joinRoom = useMutation(({ storage }: { storage: any }, playerUid: string, name: string) => {\r\n        const players = storage.get(\"players\");\r\n        if (!players.has(playerUid)) {\r\n            players.set(playerUid, new LiveObject({\r\n                name,\r\n                progress: 0,\r\n                mistakes: 0,\r\n                status: \"playing\"\r\n            }));\r\n        }\r\n\r\n        // If >= 2 players, start game\r\n        if (Array.from(players.keys()).length >= 2 && storage.get(\"status\") === \"waiting\") {\r\n            storage.set(\"status\", \"playing\");\r\n            // Set first player's turn to whoever was in the room first\r\n            const firstPlayerUid = Array.from(players.keys())[0];\r\n            storage.set(\"currentTurn\", firstPlayerUid);\r\n        }\r\n    }, []);\r\n\r\n    // Sync Action: called when the local player makes a move\r\n    const syncToLiveblocks = useMutation(({ storage }: { storage: any }, action: Parameters<NonNullable<ReturnType<typeof useGameStore.getState>['syncAction']>>[0]) => {\r\n        if (!uid) return;\r\n\r\n        // Update board and cell ownership\r\n        if (action.r !== undefined && action.c !== undefined && action.val !== undefined) {\r\n            const index = action.r * 9 + action.c;\r\n            storage.get(\"board\").set(index, action.val);\r\n            storage.get(\"cellOwners\").set(`${action.r},${action.c}`, uid);\r\n        }\r\n\r\n        // Update player stats\r\n        const players = storage.get(\"players\");\r\n        const me = players.get(uid);\r\n        if (me) {\r\n            me.update({\r\n                progress: action.progress,\r\n                mistakes: action.mistakes,\r\n                status: action.status\r\n            });\r\n        }\r\n\r\n        // Update winner if won\r\n        if (action.status === 'won') {\r\n            storage.set(\"winner\", playerName);\r\n            storage.set(\"status\", \"finished\");\r\n            storage.set(\"currentTurn\", null);\r\n        } else if (action.switchTurn) {\r\n            // Find the other player's UID and set it as their turn\r\n            // Note: In 2-player game, we just find the UID that is not ours\r\n            const playerUids = Array.from(players.keys());\r\n            const nextTurnUid = playerUids.find(id => id !== uid);\r\n            if (nextTurnUid) {\r\n                storage.set(\"currentTurn\", nextTurnUid);\r\n            }\r\n        }\r\n    }, [uid, playerName]);\r\n\r\n    // Setup Sync Action on mount\r\n    useEffect(() => {\r\n        setSyncAction(syncToLiveblocks);\r\n        return () => setSyncAction(null);\r\n    }, [setSyncAction, syncToLiveblocks]);\r\n\r\n    // Join room initially\r\n    useEffect(() => {\r\n        if (uid && playerName) {\r\n            joinRoom(uid, playerName);\r\n        }\r\n    }, [uid, playerName, joinRoom]);\r\n\r\n    // Sync Liveblocks -> Zustand\r\n    useEffect(() => {\r\n        if (!lbPlayers || !uid) return;\r\n\r\n        // Find opponent (first player that isn't us)\r\n        let opponent = null;\r\n        // Since LiveMap comes back as a plain object/Map in useStorage depending on version, \r\n        // we can iterate it. If it's a Map:\r\n        if (lbPlayers instanceof Map) {\r\n            for (const [pUid, playerObj] of lbPlayers.entries()) {\r\n                if (pUid !== uid) opponent = playerObj;\r\n            }\r\n        } else {\r\n            for (const [pUid, playerObj] of Object.entries(lbPlayers)) {\r\n                if (pUid !== uid) opponent = playerObj;\r\n            }\r\n        }\r\n\r\n        if (opponent) {\r\n            setMultiplayerState({\r\n                opponentName: opponent.name,\r\n                opponentProgress: opponent.progress,\r\n                opponentStatus: opponent.status as 'playing' | 'won' | 'lost'\r\n            });\r\n        }\r\n\r\n        if (lbStatus) {\r\n            if (lbStatus === 'playing' && (localStatus === 'waiting' || localStatus === 'idle')) {\r\n                setMultiplayerState({ status: 'playing' });\r\n            }\r\n            if (lbWinner && lbWinner !== playerName && localStatus !== 'lost' && localStatus !== 'won') {\r\n                setMultiplayerState({ status: 'lost' });\r\n            }\r\n        }\r\n\r\n        if (lbBoard) {\r\n            const board2D = [];\r\n            for (let i = 0; i < 9; i++) {\r\n                board2D.push(lbBoard.slice(i * 9, i * 9 + 9) as number[]);\r\n            }\r\n            setRemoteBoard(board2D);\r\n        }\r\n\r\n        if (lbCellOwners) {\r\n            let ownersRecord: Record<string, string> = {};\r\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n            if (lbCellOwners && typeof (lbCellOwners as any).entries === 'function') {\r\n                // It's a Map-like object from Liveblocks\r\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n                for (const [key, val] of (lbCellOwners as any).entries()) {\r\n                    ownersRecord[key] = val;\r\n                }\r\n            } else {\r\n                // It's a plain object\r\n                ownersRecord = { ...(lbCellOwners as unknown as Record<string, string>) };\r\n            }\r\n            setCellOwners(ownersRecord);\r\n        }\r\n\r\n        if (lbCurrentTurn !== undefined) {\r\n            setCurrentTurn(lbCurrentTurn);\r\n        }\r\n    }, [lbPlayers, lbStatus, lbWinner, lbBoard, lbCellOwners, lbCurrentTurn, uid, playerName, localStatus, setMultiplayerState, setRemoteBoard, setCellOwners, setCurrentTurn]);\r\n\r\n    return (\r\n        <div className=\"flex flex-col md:flex-row items-center justify-center gap-4 w-full max-w-7xl h-dvh p-2 overflow-y-auto overflow-x-hidden select-none touch-manipulation\">\r\n\r\n            {/* Left/Top: Header & Board */}\r\n            <div className=\"flex flex-col gap-2 items-center justify-center w-full md:flex-1 min-h-0 min-w-0 max-w-2xl pt-2\">\r\n\r\n                {/* Header */}\r\n                <div className=\"flex w-full justify-between items-center text-slate-500 font-medium px-2 z-10 shrink-0 gap-2\">\r\n                    <div className=\"flex items-center gap-3 bg-white/90 backdrop-blur-md px-4 py-2 rounded-2xl border border-slate-200 shadow-sm grow-0 shrink overflow-hidden max-w-[70%] transition-all hover:border-indigo-200\">\r\n                        <div className=\"relative shrink-0 flex items-center justify-center w-8 h-8 rounded-full bg-gradient-to-br from-indigo-50 to-indigo-100 text-indigo-600 border border-indigo-100\">\r\n                            <Users size={16} />\r\n                            {/* Connection Pulse Indicator - Uses Global Store State */}\r\n                            <div className={`absolute -top-0.5 -right-0.5 w-2.5 h-2.5 rounded-full border-2 border-white shadow-sm transition-colors ${isFirebaseConnected ? 'bg-emerald-500 animate-pulse' : 'bg-rose-500 animate-pulse'}`} title={isFirebaseConnected ? \"Connected\" : \"Disconnected\"} />\r\n                        </div>\r\n\r\n                        <div className=\"flex items-center gap-3 min-w-0 pr-1\">\r\n                            <div className=\"flex flex-col min-w-0\">\r\n                                <span className=\"text-[9px] font-black text-slate-400 uppercase tracking-[0.15em] mb-0.5\">Versus</span>\r\n                                <span className=\"text-sm font-bold text-slate-800 truncate leading-none mb-0.5\">\r\n                                    {opponentName || 'Opponent'}\r\n                                </span>\r\n                            </div>\r\n\r\n                            <div className=\"flex flex-col items-end shrink-0 pl-2 border-l border-slate-100\">\r\n                                <span className=\"text-[9px] font-black text-slate-400 uppercase tracking-[0.1em] mb-0.5\">Progress</span>\r\n                                <span className={`text-sm font-mono font-black tabular-nums leading-none ${opponentProgress > 50 ? 'text-indigo-600' : 'text-slate-600'}`}>\r\n                                    {opponentProgress}%\r\n                                </span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"text-xl sm:text-2xl font-bold text-slate-800 font-mono bg-white px-3 py-1 rounded-lg border border-slate-100 shadow-sm shrink-0\">\r\n                        <Timer />\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"relative w-full aspect-square flex-1 min-h-0 flex justify-center items-center py-2\">\r\n                    <div className=\"h-full w-full max-w-full aspect-square flex items-center justify-center\">\r\n                        <Board />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Right Side: Controls */}\r\n            <div className=\"flex flex-col gap-2 w-full md:w-80 md:h-full md:justify-center shrink-0\">\r\n\r\n                {/* Stats Row */}\r\n                <div className=\"flex justify-between items-center text-slate-600 font-medium px-4 py-1\">\r\n                    <div className=\"flex flex-col\">\r\n                        <span className=\"text-[10px] uppercase tracking-wider text-slate-400 font-bold\">Mistakes</span>\r\n                        <div className=\"flex items-baseline gap-1\">\r\n                            <span className={`text-2xl font-light ${mistakes >= 3 ? 'text-rose-500' : 'text-slate-800'}`}>\r\n                                {mistakes}\r\n                            </span>\r\n                            <span className=\"text-xs text-slate-300 font-bold\">/3</span>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"flex flex-col items-end\">\r\n                        <span className=\"text-[10px] uppercase tracking-wider text-slate-400 font-bold\">Status</span>\r\n                        <span className={`text-xs font-bold px-2 py-1 rounded-full ${isFirebaseConnected ? 'text-indigo-600 bg-indigo-50' : 'text-rose-600 bg-rose-50 animate-pulse'}`}>\r\n                            {isFirebaseConnected ? 'LIVE SYNC' : 'OFFLINE'}\r\n                        </span>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Turn Indicator (PvP only) */}\r\n                {mode === 'pvp' && currentTurn && (\r\n                    <div className=\"flex items-center justify-center w-full px-4 mb-2\">\r\n                        <div className={`w-full text-center py-2.5 rounded-xl font-bold uppercase tracking-wider text-sm transition-colors duration-300 ${currentTurn === uid ? 'bg-emerald-50 text-emerald-600 border border-emerald-200 shadow-[0_0_15px_rgba(16,185,129,0.2)]' : 'bg-slate-100/80 text-slate-500 border border-slate-200'}`}>\r\n                            {currentTurn === uid ? '🌟 Your Turn' : `${opponentName}'s Turn`}\r\n                        </div>\r\n                    </div>\r\n                )}\r\n\r\n                <div className=\"scale-90 origin-center md:scale-100\">\r\n                    <GameControls />\r\n                </div>\r\n\r\n                <div className=\"w-full\">\r\n                    <Numpad />\r\n                </div>\r\n\r\n                <button\r\n                    onClick={() => {\r\n                        useGameStore.getState().setMultiplayerState({ mode: 'pvp', status: 'idle', roomId: null });\r\n                    }}\r\n                    className=\"w-full py-3 bg-slate-100 text-slate-500 hover:text-rose-500 hover:bg-rose-50 border border-slate-200 hover:border-rose-200 rounded-lg text-sm font-bold transition-all active:scale-95 tracking-wide flex items-center justify-center gap-2 mt-auto md:mt-4\"\r\n                >\r\n                    <XCircle size={18} />\r\n                    Leave\r\n                </button>\r\n            </div>\r\n\r\n            {/* Game Over Overlay */}\r\n            <AnimatePresence>\r\n                {(localStatus === 'won' || localStatus === 'lost') && (\r\n                    <motion.div\r\n                        initial={{ opacity: 0 }}\r\n                        animate={{ opacity: 1 }}\r\n                        exit={{ opacity: 0 }}\r\n                        className=\"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/60 backdrop-blur-sm p-4\"\r\n                    >\r\n                        <motion.div\r\n                            initial={{ scale: 0.9, opacity: 0 }}\r\n                            animate={{ scale: 1, opacity: 1 }}\r\n                            className=\"bg-white p-12 rounded-3xl shadow-2xl max-w-md w-full text-center border border-slate-100 relative overflow-hidden\"\r\n                        >\r\n                            <div className={`absolute top-0 left-0 w-full h-2 ${localStatus === 'won' ? 'bg-gradient-to-r from-indigo-400 to-cyan-400' : 'bg-gradient-to-r from-rose-500 to-orange-500'}`} />\r\n\r\n                            <div className={`w-20 h-20 rounded-full mx-auto mb-6 flex items-center justify-center ${localStatus === 'won' ? 'bg-indigo-50 text-indigo-600' : 'bg-rose-50 text-rose-500'}`}>\r\n                                {localStatus === 'won' ? <Trophy size={40} /> : <XCircle size={40} />}\r\n                            </div>\r\n\r\n                            <h2 className=\"text-4xl font-black mb-2 text-slate-800\">\r\n                                {localStatus === 'won' ? 'Victory!' : 'Defeat'}\r\n                            </h2>\r\n                            <p className=\"text-slate-500 font-medium mb-8\">\r\n                                {localStatus === 'won'\r\n                                    ? `You crushed it! ${opponentName} didn't stand a chance.`\r\n                                    : `${opponentName} solved it first. Better luck next time!`}\r\n                            </p>\r\n\r\n                            <button\r\n                                onClick={() => {\r\n                                    useGameStore.getState().setMultiplayerState({ mode: 'single', status: 'idle', roomId: null, currentTurn: null });\r\n                                }}\r\n                                className={`w-full py-4 rounded-xl font-bold text-lg transition-all shadow-lg active:scale-95 ${localStatus === 'won'\r\n                                    ? 'bg-indigo-600 text-white hover:bg-indigo-700 shadow-indigo-200'\r\n                                    : 'bg-slate-900 text-white hover:bg-slate-800 shadow-slate-300'\r\n                                    }`}\r\n                            >\r\n                                Back to Lobby\r\n                            </button>\r\n                        </motion.div>\r\n                    </motion.div>\r\n                )}\r\n            </AnimatePresence>\r\n        </div>\r\n    );\r\n};\r\n\r\n\r\nexport const PvPArena = () => {\r\n    const roomId = useGameStore(state => state.roomId);\r\n    const difficulty = useGameStore(state => state.difficulty);\r\n    const mode = useGameStore(state => state.mode);\r\n\r\n    // Generate initial storage for the room creator\r\n    const initialStorage = useMemo(() => {\r\n        const { initial, solved } = generateSudoku(difficulty);\r\n        return {\r\n            board: new LiveList(initial.flat()),\r\n            initialBoard: new LiveList(initial.flat()),\r\n            solvedBoard: new LiveList(solved.flat()),\r\n            status: \"waiting\",\r\n            difficulty: difficulty,\r\n            players: new LiveMap(),\r\n            winner: null,\r\n            cellOwners: new LiveMap(),\r\n            currentTurn: null\r\n        };\r\n    }, [difficulty]);\r\n\r\n    if (!roomId) return null;\r\n\r\n    if (mode === 'bot') {\r\n        return <BotArenaContent />;\r\n    }\r\n\r\n    return (\r\n        <RoomProvider\r\n            id={roomId}\r\n            initialPresence={{ cursor: null, hoveredCell: null }}\r\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n            initialStorage={initialStorage as any}\r\n        >\r\n            <ClientSideSuspense fallback={\r\n                <div className=\"h-dvh w-full flex flex-col items-center justify-center gap-4 text-indigo-600 font-medium bg-slate-50\">\r\n                    <Loader2 size={32} className=\"animate-spin\" />\r\n                    <p>Connecting to Arena...</p>\r\n                </div>\r\n            }>\r\n                <PvPArenaContent />\r\n            </ClientSideSuspense>\r\n        </RoomProvider>\r\n    );\r\n};\r\n\r\nconst BotArenaContent = () => {\r\n    const {\r\n        status: localStatus,\r\n        opponentName,\r\n        opponentProgress,\r\n        mistakes,\r\n        mode,\r\n        uid,\r\n        currentTurn,\r\n        setMultiplayerState\r\n    } = useGameStore();\r\n\r\n    return (\r\n        <div className=\"flex flex-col md:flex-row items-center justify-center gap-4 w-full max-w-7xl h-dvh p-2 overflow-y-auto overflow-x-hidden select-none touch-manipulation\">\r\n            {/* Left/Top: Header & Board */}\r\n            <div className=\"flex flex-col gap-2 items-center justify-center w-full md:flex-1 min-h-0 min-w-0 max-w-2xl pt-2\">\r\n                {/* Header */}\r\n                <div className=\"flex w-full justify-between items-center text-slate-500 font-medium px-2 z-10 shrink-0 gap-2\">\r\n                    <div className=\"flex items-center gap-3 bg-white/90 backdrop-blur-md px-4 py-2 rounded-2xl border border-slate-200 shadow-sm grow-0 shrink overflow-hidden max-w-[70%] transition-all hover:border-indigo-200\">\r\n                        <div className=\"relative shrink-0 flex items-center justify-center w-8 h-8 rounded-full bg-gradient-to-br from-indigo-50 to-indigo-100 text-indigo-600 border border-indigo-100\">\r\n                            <Users size={16} />\r\n                            <div className=\"absolute -top-0.5 -right-0.5 w-2.5 h-2.5 rounded-full border-2 border-white shadow-sm bg-indigo-500 transition-colors\" />\r\n                        </div>\r\n\r\n                        <div className=\"flex items-center gap-3 min-w-0 pr-1\">\r\n                            <div className=\"flex flex-col min-w-0\">\r\n                                <span className=\"text-[9px] font-black text-slate-400 uppercase tracking-[0.15em] mb-0.5\">Versus</span>\r\n                                <span className=\"text-sm font-bold text-slate-800 truncate leading-none mb-0.5\">\r\n                                    {opponentName || 'AI Bot'}\r\n                                </span>\r\n                            </div>\r\n\r\n                            <div className=\"flex flex-col items-end shrink-0 pl-2 border-l border-slate-100\">\r\n                                <span className=\"text-[9px] font-black text-slate-400 uppercase tracking-[0.1em] mb-0.5\">Progress</span>\r\n                                <span className={`text-sm font-mono font-black tabular-nums leading-none ${opponentProgress > 50 ? 'text-indigo-600' : 'text-slate-600'}`}>\r\n                                    {opponentProgress}%\r\n                                </span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"text-xl sm:text-2xl font-bold text-slate-800 font-mono bg-white px-3 py-1 rounded-lg border border-slate-100 shadow-sm shrink-0\">\r\n                        <Timer />\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"relative w-full aspect-square flex-1 min-h-0 flex justify-center items-center py-2\">\r\n                    <div className=\"h-full w-full max-w-full aspect-square flex items-center justify-center\">\r\n                        <Board />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Right Side: Controls */}\r\n            <div className=\"flex flex-col gap-2 w-full md:w-80 md:h-full md:justify-center shrink-0\">\r\n                {/* Stats Row */}\r\n                <div className=\"flex justify-between items-center text-slate-600 font-medium px-4 py-1\">\r\n                    <div className=\"flex flex-col\">\r\n                        <span className=\"text-[10px] uppercase tracking-wider text-slate-400 font-bold\">Mistakes</span>\r\n                        <div className=\"flex items-baseline gap-1\">\r\n                            <span className={`text-2xl font-light ${mistakes >= 3 ? 'text-rose-500' : 'text-slate-800'}`}>\r\n                                {mistakes}\r\n                            </span>\r\n                            <span className=\"text-xs text-slate-300 font-bold\">/3</span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Turn Indicator (PvP only) */}\r\n                {mode === 'bot' && currentTurn && (\r\n                    <div className=\"flex items-center justify-center w-full px-4 mb-2\">\r\n                        <div className={`w-full text-center py-2.5 rounded-xl font-bold uppercase tracking-wider text-sm transition-colors duration-300 ${currentTurn === uid ? 'bg-emerald-50 text-emerald-600 border border-emerald-200 shadow-[0_0_15px_rgba(16,185,129,0.2)]' : 'bg-slate-100/80 text-slate-500 border border-slate-200'}`}>\r\n                            {currentTurn === uid ? '🌟 Your Turn' : `${opponentName}'s Turn`}\r\n                        </div>\r\n                    </div>\r\n                )}\r\n\r\n                <div className=\"scale-90 origin-center md:scale-100\">\r\n                    <GameControls />\r\n                </div>\r\n                <div className=\"w-full flex justify-center pb-2 md:pb-0\">\r\n                    <Numpad />\r\n                </div>\r\n            </div>\r\n\r\n            {/* Game Over Modal */}\r\n            <AnimatePresence>\r\n                {(localStatus === 'won' || localStatus === 'lost') && (\r\n                    <motion.div\r\n                        initial={{ opacity: 0 }}\r\n                        animate={{ opacity: 1 }}\r\n                        exit={{ opacity: 0 }}\r\n                        className=\"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/40 backdrop-blur-sm p-4\"\r\n                    >\r\n                        <motion.div\r\n                            initial={{ scale: 0.9, y: 20 }}\r\n                            animate={{ scale: 1, y: 0 }}\r\n                            exit={{ scale: 0.9, y: 20 }}\r\n                            className=\"bg-white p-12 rounded-3xl shadow-2xl max-w-md w-full text-center border border-slate-100 relative overflow-hidden\"\r\n                        >\r\n                            <div className={`absolute top-0 left-0 w-full h-2 ${localStatus === 'won' ? 'bg-gradient-to-r from-indigo-400 to-cyan-400' : 'bg-gradient-to-r from-rose-500 to-orange-500'}`} />\r\n\r\n                            <div className={`w-20 h-20 rounded-full mx-auto mb-6 flex items-center justify-center ${localStatus === 'won' ? 'bg-indigo-50 text-indigo-600' : 'bg-rose-50 text-rose-500'}`}>\r\n                                {localStatus === 'won' ? <Trophy size={40} /> : <XCircle size={40} />}\r\n                            </div>\r\n\r\n                            <h2 className=\"text-4xl font-black mb-2 text-slate-800\">\r\n                                {localStatus === 'won' ? 'Victory!' : 'Defeat'}\r\n                            </h2>\r\n                            <p className=\"text-slate-500 font-medium mb-8\">\r\n                                {localStatus === 'won'\r\n                                    ? `You crushed it! ${opponentName} didn't stand a chance.`\r\n                                    : `${opponentName} solved it first. Better luck next time!`}\r\n                            </p>\r\n\r\n                            <button\r\n                                onClick={() => {\r\n                                    setMultiplayerState({ mode: 'single', status: 'idle', roomId: null, currentTurn: null });\r\n                                }}\r\n                                className={`w-full py-4 rounded-xl font-bold text-lg transition-all shadow-lg active:scale-95 ${localStatus === 'won'\r\n                                    ? 'bg-indigo-600 text-white hover:bg-indigo-700 shadow-indigo-200'\r\n                                    : 'bg-slate-900 text-white hover:bg-slate-800 shadow-slate-300'\r\n                                    }`}\r\n                            >\r\n                                Back to Lobby\r\n                            </button>\r\n                        </motion.div>\r\n                    </motion.div>\r\n                )}\r\n            </AnimatePresence>\r\n        </div>\r\n    );\r\n};\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3794, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/MAHARSHI%20NATH/OneDrive/Documents/sudoku/app/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { Board } from \"@/components/game/Board\";\r\nimport { GameControls } from \"@/components/game/GameControls\";\r\nimport { Numpad } from \"@/components/game/Numpad\";\r\nimport { Timer } from \"@/components/game/Timer\";\r\nimport { HintToast } from \"@/components/game/HintToast\";\r\nimport { Lobby } from \"@/components/layout/Lobby\";\r\nimport { PvPArena } from \"@/components/game/PvPArena\";\r\nimport { useGameStore } from \"@/lib/store\";\r\nimport { useEffect } from \"react\";\r\nimport { Users, User, Trophy, XCircle } from 'lucide-react';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport { listenToAuth } from \"@/lib/firebase/auth\";\r\nimport { useShallow } from 'zustand/react/shallow';\r\n\r\nexport default function Home() {\r\n  const { startGame, difficulty, status, mode, setMultiplayerState, mistakes, tickTimer } = useGameStore(useShallow(state => ({\r\n    startGame: state.startGame,\r\n    difficulty: state.difficulty,\r\n    status: state.status,\r\n    mode: state.mode,\r\n    setMultiplayerState: state.setMultiplayerState,\r\n    mistakes: state.mistakes,\r\n    tickTimer: state.tickTimer\r\n  })));\r\n\r\n  useEffect(() => {\r\n    if (status === 'idle' && mode === 'single') {\r\n      startGame(difficulty);\r\n    }\r\n  }, [status, mode, startGame, difficulty]);\r\n\r\n  useEffect(() => {\r\n    const unsubAuth = listenToAuth((user) => {\r\n      if (user) {\r\n        useGameStore.setState({\r\n          uid: user.uid,\r\n          playerName: user.displayName || 'Guest'\r\n        });\r\n      }\r\n    });\r\n    return () => { unsubAuth(); };\r\n  }, []);\r\n\r\n  // Centralized Timer Logic\r\n  useEffect(() => {\r\n    let interval: NodeJS.Timeout;\r\n    if (status === 'playing') {\r\n      interval = setInterval(() => {\r\n        tickTimer();\r\n      }, 1000);\r\n    }\r\n    return () => clearInterval(interval);\r\n  }, [status, tickTimer]);\r\n\r\n  return (\r\n    <main className=\"flex h-dvh flex-col items-center justify-start p-2 sm:p-4 bg-slate-50 font-sans select-none touch-manipulation safe-area-top safe-area-bottom overflow-y-auto overflow-x-hidden\">\r\n\r\n      {/* Hint Toast */}\r\n      <HintToast />\r\n\r\n      {/* Mode Selection - Compact on Mobile */}\r\n      <div className=\"flex gap-1.5 sm:gap-2 z-50 w-full justify-start mb-1 sm:mb-2 shrink-0\">\r\n        <button\r\n          onClick={() => startGame('Medium', 'single')}\r\n          className={`flex items-center gap-1.5 px-3 py-1.5 sm:px-4 sm:py-2 rounded-full transition-all border text-xs sm:text-sm ${mode === 'single' ? 'bg-slate-900 text-white border-slate-900 shadow-lg shadow-slate-200' : 'bg-white/80 backdrop-blur text-slate-700 border-slate-200 shadow-sm hover:border-slate-300'}`}\r\n        >\r\n          <User size={14} />\r\n          <span className=\"font-bold uppercase tracking-wider\">Solo</span>\r\n        </button>\r\n        <button\r\n          onClick={() => setMultiplayerState({ mode: 'pvp', status: 'idle' })}\r\n          className={`flex items-center gap-1.5 px-3 py-1.5 sm:px-4 sm:py-2 rounded-full transition-all border text-xs sm:text-sm ${mode === 'pvp' ? 'bg-indigo-600 text-white border-indigo-600 shadow-lg shadow-indigo-100' : 'bg-white/80 backdrop-blur text-slate-700 border-slate-200 shadow-sm hover:border-indigo-200 hover:text-indigo-600'}`}\r\n        >\r\n          <Users size={14} />\r\n          <span className=\"font-bold uppercase tracking-wider\">PvP</span>\r\n        </button>\r\n      </div>\r\n\r\n      {(mode === 'pvp' || mode === 'bot') ? (\r\n        (status === 'idle' || status === 'waiting') ? (\r\n          <Lobby />\r\n        ) : (\r\n          <PvPArena />\r\n        )\r\n      ) : (\r\n        // Single Player Mode - Mobile-first vertical layout\r\n        <div className=\"flex flex-col items-center w-full max-w-2xl flex-1 min-h-0 gap-1 sm:gap-2\">\r\n\r\n          {/* Difficulty & Timer Row */}\r\n          <div className=\"flex w-full justify-between items-center text-slate-500 font-medium px-1 shrink-0\">\r\n            <div className=\"flex gap-0.5 sm:gap-1.5 text-[11px] sm:text-sm\">\r\n              {(['Easy', 'Medium', 'Hard', 'Expert'] as const).map(diff => (\r\n                <button\r\n                  key={diff}\r\n                  onClick={() => startGame(diff, 'single')}\r\n                  className={`px-1.5 py-0.5 sm:px-2 sm:py-1 rounded-md transition-colors ${difficulty === diff ? 'text-indigo-600 font-bold bg-indigo-50' : 'hover:text-indigo-600'}`}\r\n                >\r\n                  {diff}\r\n                </button>\r\n              ))}\r\n            </div>\r\n            <div className=\"text-xl sm:text-2xl md:text-3xl font-bold text-slate-800 font-mono\">\r\n              <Timer />\r\n            </div>\r\n          </div>\r\n\r\n          {/* Game Board - Constrained to available space */}\r\n          <div className=\"w-full flex-1 min-h-0 flex justify-center items-center\">\r\n            <div className=\"w-full max-h-full aspect-square flex items-center justify-center p-0.5 sm:p-1 bg-white rounded-xl sm:rounded-2xl shadow-xl shadow-slate-200/50 border border-white\">\r\n              <Board />\r\n            </div>\r\n          </div>\r\n\r\n          {/* Bottom Controls - Fixed to bottom on mobile */}\r\n          <div className=\"flex flex-col gap-1 sm:gap-2 w-full shrink-0 pb-1\">\r\n\r\n            {/* Stats Row */}\r\n            <div className=\"flex justify-between items-center text-slate-600 font-medium px-2 py-0.5\">\r\n              <div className=\"flex flex-col items-start\">\r\n                <span className=\"text-[9px] sm:text-[10px] uppercase tracking-wider text-slate-400 font-bold\">Mistakes</span>\r\n                <span className={`text-lg sm:text-2xl font-light ${mistakes >= 3 ? 'text-red-500' : 'text-slate-800'}`}>\r\n                  {status === 'playing' ? `${mistakes}/3` : '-/-'}\r\n                </span>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Action Buttons - Scaled for mobile */}\r\n            <div className=\"scale-[0.85] sm:scale-100 origin-center\">\r\n              <GameControls />\r\n            </div>\r\n\r\n            {/* Numpad */}\r\n            <Numpad />\r\n\r\n            <button\r\n              onClick={() => startGame(difficulty, mode)}\r\n              className=\"w-full py-3 sm:py-4 bg-slate-900 text-white rounded-xl text-base sm:text-lg font-bold shadow-lg hover:bg-slate-800 transition-all active:scale-95 tracking-wide\"\r\n            >\r\n              {status === 'playing' ? 'Restart' : 'New Game'}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Game Over / Win Overlay */}\r\n      <AnimatePresence>\r\n        {(status === 'won' || status === 'lost') && (\r\n          <motion.div\r\n            initial={{ opacity: 0 }}\r\n            animate={{ opacity: 1 }}\r\n            exit={{ opacity: 0 }}\r\n            className=\"fixed inset-0 z-[100] flex items-center justify-center bg-slate-900/60 backdrop-blur-sm p-4\"\r\n          >\r\n            <motion.div\r\n              initial={{ scale: 0.9, opacity: 0, y: 20 }}\r\n              animate={{ scale: 1, opacity: 1, y: 0 }}\r\n              className=\"bg-white p-8 sm:p-12 rounded-3xl shadow-2xl max-w-md w-full text-center border border-slate-100 relative overflow-hidden max-h-[90vh] overflow-y-auto\"\r\n            >\r\n              <div className={`absolute top-0 left-0 w-full h-2 ${status === 'won' ? 'bg-gradient-to-r from-indigo-400 to-cyan-400' : 'bg-gradient-to-r from-rose-500 to-orange-500'}`} />\r\n\r\n              <div className={`w-16 h-16 sm:w-20 sm:h-20 rounded-full mx-auto mb-4 sm:mb-6 flex items-center justify-center ${status === 'won' ? 'bg-indigo-50 text-indigo-600' : 'bg-rose-50 text-rose-500'}`}>\r\n                {status === 'won' ? <Trophy size={36} /> : <XCircle size={36} />}\r\n              </div>\r\n\r\n              <h2 className=\"text-3xl sm:text-4xl font-black mb-2 text-slate-800\">\r\n                {status === 'won' ? 'Victory!' : 'Failed'}\r\n              </h2>\r\n              <p className=\"text-slate-500 font-medium mb-6 sm:mb-8 leading-relaxed text-sm sm:text-base\">\r\n                {status === 'won'\r\n                  ? `Impressive! You've mastered the ${difficulty} board.`\r\n                  : \"The numbers got the better of you this time. Ready to try again?\"}\r\n              </p>\r\n\r\n              <button\r\n                onClick={() => startGame(difficulty, mode)}\r\n                className={`w-full py-3 sm:py-4 rounded-xl font-bold text-base sm:text-lg transition-all shadow-lg active:scale-95 ${status === 'won'\r\n                  ? 'bg-indigo-600 text-white hover:bg-indigo-700 shadow-indigo-200'\r\n                  : 'bg-slate-900 text-white hover:bg-slate-800 shadow-slate-300'\r\n                  }`}\r\n              >\r\n                Play Again\r\n              </button>\r\n            </motion.div>\r\n          </motion.div>\r\n        )}\r\n      </AnimatePresence>\r\n    </main>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AACA;;;AAdA;;;;;;;;;;;;;;AAgBe,SAAS;;IACtB,MAAM,EAAE,SAAS,EAAE,UAAU,EAAE,MAAM,EAAE,IAAI,EAAE,mBAAmB,EAAE,QAAQ,EAAE,SAAS,EAAE,GAAG,IAAA,+HAAY,EAAC,IAAA,oKAAU;wCAAC,CAAA,QAAS,CAAC;gBAC1H,WAAW,MAAM,SAAS;gBAC1B,YAAY,MAAM,UAAU;gBAC5B,QAAQ,MAAM,MAAM;gBACpB,MAAM,MAAM,IAAI;gBAChB,qBAAqB,MAAM,mBAAmB;gBAC9C,UAAU,MAAM,QAAQ;gBACxB,WAAW,MAAM,SAAS;YAC5B,CAAC;;IAED,IAAA,0KAAS;0BAAC;YACR,IAAI,WAAW,UAAU,SAAS,UAAU;gBAC1C,UAAU;YACZ;QACF;yBAAG;QAAC;QAAQ;QAAM;QAAW;KAAW;IAExC,IAAA,0KAAS;0BAAC;YACR,MAAM,YAAY,IAAA,0IAAY;4CAAC,CAAC;oBAC9B,IAAI,MAAM;wBACR,+HAAY,CAAC,QAAQ,CAAC;4BACpB,KAAK,KAAK,GAAG;4BACb,YAAY,KAAK,WAAW,IAAI;wBAClC;oBACF;gBACF;;YACA;kCAAO;oBAAQ;gBAAa;;QAC9B;yBAAG,EAAE;IAEL,0BAA0B;IAC1B,IAAA,0KAAS;0BAAC;YACR,IAAI;YACJ,IAAI,WAAW,WAAW;gBACxB,WAAW;sCAAY;wBACrB;oBACF;qCAAG;YACL;YACA;kCAAO,IAAM,cAAc;;QAC7B;yBAAG;QAAC;QAAQ;KAAU;IAEtB,qBACE,6LAAC;QAAK,WAAU;;0BAGd,6LAAC,gJAAS;;;;;0BAGV,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBACC,SAAS,IAAM,UAAU,UAAU;wBACnC,WAAW,CAAC,4GAA4G,EAAE,SAAS,WAAW,wEAAwE,8FAA8F;;0CAEpT,6LAAC,6MAAI;gCAAC,MAAM;;;;;;0CACZ,6LAAC;gCAAK,WAAU;0CAAqC;;;;;;;;;;;;kCAEvD,6LAAC;wBACC,SAAS,IAAM,oBAAoB;gCAAE,MAAM;gCAAO,QAAQ;4BAAO;wBACjE,WAAW,CAAC,4GAA4G,EAAE,SAAS,QAAQ,2EAA2E,qHAAqH;;0CAE3U,6LAAC,gNAAK;gCAAC,MAAM;;;;;;0CACb,6LAAC;gCAAK,WAAU;0CAAqC;;;;;;;;;;;;;;;;;;YAIvD,SAAS,SAAS,SAAS,QAC3B,AAAC,WAAW,UAAU,WAAW,0BAC/B,6LAAC,0IAAK;;;;qCAEN,6LAAC,8IAAQ;;;;uBAGX,oDAAoD;0BACpD,6LAAC;gBAAI,WAAU;;kCAGb,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAI,WAAU;0CACZ,AAAC;oCAAC;oCAAQ;oCAAU;oCAAQ;iCAAS,CAAW,GAAG,CAAC,CAAA,qBACnD,6LAAC;wCAEC,SAAS,IAAM,UAAU,MAAM;wCAC/B,WAAW,CAAC,2DAA2D,EAAE,eAAe,OAAO,2CAA2C,yBAAyB;kDAElK;uCAJI;;;;;;;;;;0CAQX,6LAAC;gCAAI,WAAU;0CACb,cAAA,6LAAC,wIAAK;;;;;;;;;;;;;;;;kCAKV,6LAAC;wBAAI,WAAU;kCACb,cAAA,6LAAC;4BAAI,WAAU;sCACb,cAAA,6LAAC,wIAAK;;;;;;;;;;;;;;;kCAKV,6LAAC;wBAAI,WAAU;;0CAGb,6LAAC;gCAAI,WAAU;0CACb,cAAA,6LAAC;oCAAI,WAAU;;sDACb,6LAAC;4CAAK,WAAU;sDAA8E;;;;;;sDAC9F,6LAAC;4CAAK,WAAW,CAAC,+BAA+B,EAAE,YAAY,IAAI,iBAAiB,kBAAkB;sDACnG,WAAW,YAAY,GAAG,SAAS,EAAE,CAAC,GAAG;;;;;;;;;;;;;;;;;0CAMhD,6LAAC;gCAAI,WAAU;0CACb,cAAA,6LAAC,sJAAY;;;;;;;;;;0CAIf,6LAAC,0IAAM;;;;;0CAEP,6LAAC;gCACC,SAAS,IAAM,UAAU,YAAY;gCACrC,WAAU;0CAET,WAAW,YAAY,YAAY;;;;;;;;;;;;;;;;;;0BAO5C,6LAAC,+MAAe;0BACb,CAAC,WAAW,SAAS,WAAW,MAAM,mBACrC,6LAAC,uMAAM,CAAC,GAAG;oBACT,SAAS;wBAAE,SAAS;oBAAE;oBACtB,SAAS;wBAAE,SAAS;oBAAE;oBACtB,MAAM;wBAAE,SAAS;oBAAE;oBACnB,WAAU;8BAEV,cAAA,6LAAC,uMAAM,CAAC,GAAG;wBACT,SAAS;4BAAE,OAAO;4BAAK,SAAS;4BAAG,GAAG;wBAAG;wBACzC,SAAS;4BAAE,OAAO;4BAAG,SAAS;4BAAG,GAAG;wBAAE;wBACtC,WAAU;;0CAEV,6LAAC;gCAAI,WAAW,CAAC,iCAAiC,EAAE,WAAW,QAAQ,iDAAiD,gDAAgD;;;;;;0CAExK,6LAAC;gCAAI,WAAW,CAAC,6FAA6F,EAAE,WAAW,QAAQ,iCAAiC,4BAA4B;0CAC7L,WAAW,sBAAQ,6LAAC,mNAAM;oCAAC,MAAM;;;;;yDAAS,6LAAC,0NAAO;oCAAC,MAAM;;;;;;;;;;;0CAG5D,6LAAC;gCAAG,WAAU;0CACX,WAAW,QAAQ,aAAa;;;;;;0CAEnC,6LAAC;gCAAE,WAAU;0CACV,WAAW,QACR,CAAC,gCAAgC,EAAE,WAAW,OAAO,CAAC,GACtD;;;;;;0CAGN,6LAAC;gCACC,SAAS,IAAM,UAAU,YAAY;gCACrC,WAAW,CAAC,uGAAuG,EAAE,WAAW,QAC5H,mEACA,+DACA;0CACL;;;;;;;;;;;;;;;;;;;;;;;;;;;;AASf;GA9KwB;;QACoE,+HAAY;;;KADhF"}}]
}